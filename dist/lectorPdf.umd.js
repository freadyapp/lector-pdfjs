!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("canvas"),require("fs"),require("zlib"),require("http"),require("https"),require("url")):"function"==typeof define&&define.amd?define(["exports","canvas","fs","zlib","http","https","url"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).lectorPdf={},e.require$$0,e.require$$1,e.require$$2,e.require$$3,e.require$$4,e.require$$5)}(this,(function(exports,require$$0,require$$1,require$$2,require$$3,require$$4,require$$5){"use strict";function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var require$$0__default=_interopDefaultLegacy(require$$0),require$$1__default=_interopDefaultLegacy(require$$1),require$$2__default=_interopDefaultLegacy(require$$2),require$$3__default=_interopDefaultLegacy(require$$3),require$$4__default=_interopDefaultLegacy(require$$4),require$$5__default=_interopDefaultLegacy(require$$5),commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule$1(e){var t={exports:{}};return e(t,t.exports),t.exports}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}
/**
	 * @licstart The following is the entire license notice for the
	 * Javascript code in this page
	 *
	 * Copyright 2021 Mozilla Foundation
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *     http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 *
	 * @licend The above is the entire license notice for the
	 * Javascript code in this page
	 */var pdf=createCommonjsModule$1((function(module,exports){var factory;factory=function(){return(()=>{var __webpack_modules__=[,(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addLinkAttributes=function(e,{url:t,target:n,rel:i,enabled:s=!0}={}){(0,r.assert)(t&&"string"==typeof t,'addLinkAttributes: A valid "url" parameter must provided.');const o=(0,r.removeNullCharacters)(t);s?e.href=e.title=o:(e.href="",e.title=`Disabled: ${o}`,e.onclick=()=>!1);let l="";switch(n){case u.NONE:break;case u.SELF:l="_self";break;case u.BLANK:l="_blank";break;case u.PARENT:l="_parent";break;case u.TOP:l="_top"}e.target=l,e.rel="string"==typeof i?i:a},t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getFilenameFromUrl=function(e){const t=e.indexOf("#"),n=e.indexOf("?"),r=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",r)+1,r)},t.isFetchSupported=h,t.isPdfFile=function(e){return"string"==typeof e&&/\.pdf$/i.test(e)},t.isValidFetchUrl=d,t.loadScript=function(e,t=!1){return new Promise(((n,r)=>{const a=document.createElement("script");a.src=e,a.onload=function(e){t&&a.remove(),n(e)},a.onerror=function(){r(new Error(`Cannot load script at: ${a.src}`))},(document.head||document.documentElement).appendChild(a)}))},t.StatTimer=t.RenderingCancelledException=t.PDFDateString=t.PageViewport=t.LinkTarget=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.BaseCMapReaderFactory=t.BaseCanvasFactory=void 0;var r=n(2);const a="noopener noreferrer nofollow";t.DEFAULT_LINK_REL=a;const i="http://www.w3.org/2000/svg";class s{constructor(){this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,t){(0,r.unreachable)("Abstract method `create` called.")}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}}t.BaseCanvasFactory=s,t.DOMCanvasFactory=class extends s{constructor({ownerDocument:e=globalThis.document}={}){super(),this._document=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._document.createElement("canvas"),r=n.getContext("2d");return n.width=e,n.height=t,{canvas:n,context:r}}};class o{constructor({baseUrl:e=null,isCompressed:t=!1}){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":""),n=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(t,n).catch((e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)}))}_fetchData(e,t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=o,t.DOMCMapReaderFactory=class extends o{_fetchData(e,t){return h()&&d(e,document.baseURI)?fetch(e).then((async e=>{if(!e.ok)throw new Error(e.statusText);let n;return n=this.isCompressed?new Uint8Array(await e.arrayBuffer()):(0,r.stringToBytes)(await e.text()),{cMapData:n,compressionType:t}})):new Promise(((n,a)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),this.isCompressed&&(i.responseType="arraybuffer"),i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(200===i.status||0===i.status){let e;if(this.isCompressed&&i.response?e=new Uint8Array(i.response):!this.isCompressed&&i.responseText&&(e=(0,r.stringToBytes)(i.responseText)),e)return void n({cMapData:e,compressionType:t})}a(new Error(i.statusText))}},i.send(null)}))}},t.DOMSVGFactory=class{create(e,t){(0,r.assert)(e>0&&t>0,"Invalid SVG dimensions");const n=document.createElementNS(i,"svg:svg");return n.setAttribute("version","1.1"),n.setAttribute("width",e+"px"),n.setAttribute("height",t+"px"),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 "+e+" "+t),n}createElement(e){return(0,r.assert)("string"==typeof e,"Invalid SVG element type"),document.createElementNS(i,e)}};class l{constructor({viewBox:e,scale:t,rotation:n,offsetX:r=0,offsetY:a=0,dontFlip:i=!1}){this.viewBox=e,this.scale=t,this.rotation=n,this.offsetX=r,this.offsetY=a;const s=(e[2]+e[0])/2,o=(e[3]+e[1])/2;let l,c,u,h,d,p,g,f;switch(n=(n%=360)<0?n+360:n){case 180:l=-1,c=0,u=0,h=1;break;case 90:l=0,c=1,u=1,h=0;break;case 270:l=0,c=-1,u=-1,h=0;break;case 0:l=1,c=0,u=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}i&&(u=-u,h=-h),0===l?(d=Math.abs(o-e[1])*t+r,p=Math.abs(s-e[0])*t+a,g=Math.abs(e[3]-e[1])*t,f=Math.abs(e[2]-e[0])*t):(d=Math.abs(s-e[0])*t+r,p=Math.abs(o-e[1])*t+a,g=Math.abs(e[2]-e[0])*t,f=Math.abs(e[3]-e[1])*t),this.transform=[l*t,c*t,u*t,h*t,d-l*t*s-u*t*o,p-c*t*s-h*t*o],this.width=g,this.height=f}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:a=!1}={}){return new l({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:a})}convertToViewportPoint(e,t){return r.Util.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=r.Util.applyTransform([e[0],e[1]],this.transform),n=r.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return r.Util.applyInverseTransform([e,t],this.transform)}}t.PageViewport=l;class c extends r.BaseException{constructor(e,t){super(e),this.type=t}}t.RenderingCancelledException=c;const u={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function h(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function d(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch(e){return!1}}let p;t.LinkTarget=u,t.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(e){e in this.started&&(0,r.warn)(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||(0,r.warn)(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const e of this.times){const n=e.name;n.length>t&&(t=n.length)}for(const n of this.times){const r=n.end-n.start;e.push(`${n.name.padEnd(t)} ${r}ms\n`)}return e.join("")}},t.PDFDateString=class{static toDateObject(e){if(!e||!(0,r.isString)(e))return null;p||(p=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=p.exec(e);if(!t)return null;const n=parseInt(t[1],10);let a=parseInt(t[2],10);a=a>=1&&a<=12?a-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,"-"===c?(s+=u,o+=h):"+"===c&&(s-=u,o-=h),new Date(Date.UTC(n,a,i,s,o,l))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=d,t.arraysToBytes=function(e){const t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];let n=0;for(let r=0;r<t;r++)n+=d(e[r]);let r=0;const a=new Uint8Array(n);for(let n=0;n<t;n++){let t=e[n];t instanceof Uint8Array||(t="string"==typeof t?h(t):new Uint8Array(t));const i=t.byteLength;a.set(t,r),r+=i}return a},t.assert=o,t.bytesToString=function(e){o(null!==e&&"object"==typeof e&&void 0!==e.length,"Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const r=[];for(let a=0;a<t;a+=n){const i=Math.min(a+n,t),s=e.subarray(a,i);r.push(String.fromCharCode.apply(null,s))}return r.join("")},t.createObjectURL=function(e,t="",n=!1){if(URL.createObjectURL&&!n)return URL.createObjectURL(new Blob([e],{type:t}));const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let a=`data:${t};base64,`;for(let t=0,n=e.length;t<n;t+=3){const i=255&e[t],s=255&e[t+1],o=255&e[t+2];a+=r[i>>2]+r[(3&i)<<4|s>>4]+r[t+1<n?(15&s)<<2|o>>6:64]+r[t+2<n?63&o:64]}return a},t.createPromiseCapability=function(){const e=Object.create(null);let t=!1;return Object.defineProperty(e,"settled",{get:()=>t}),e.promise=new Promise((function(n,r){e.resolve=function(e){t=!0,n(e)},e.reject=function(e){t=!0,r(e)}})),e},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{const n=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n))return n}catch(e){}return null},t.escapeString=function(e){return e.replace(/([()\\\n\r])/g,(e=>"\n"===e?"\\n":"\r"===e?"\\r":`\\${e}`))},t.getModificationDate=function(e=new Date){return[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")].join("")},t.getVerbosityLevel=function(){return a},t.info=function(e){a>=r.INFOS&&console.log(`Info: ${e}`)},t.isArrayBuffer=function(e){return"object"==typeof e&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.isAscii=function(e){return/^[\x00-\x7F]*$/.test(e)},t.isBool=function(e){return"boolean"==typeof e},t.isNum=function(e){return"number"==typeof e},t.isSameOrigin=function(e,t){let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch(e){return!1}const r=new URL(t,n);return n.origin===r.origin},t.isString=function(e){return"string"==typeof e},t.objectFromEntries=function(e){return Object.assign(Object.create(null),Object.fromEntries(e))},t.objectSize=function(e){return Object.keys(e).length},t.removeNullCharacters=function(e){return"string"!=typeof e?(i("The argument for removeNullCharacters must be a string."),e):e.replace(u,"")},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(a=e)},t.shadow=l,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=h,t.stringToPDFString=function(e){const t=e.length,n=[];if("þ"===e[0]&&"ÿ"===e[1])for(let r=2;r<t;r+=2)n.push(String.fromCharCode(e.charCodeAt(r)<<8|e.charCodeAt(r+1)));else if("ÿ"===e[0]&&"þ"===e[1])for(let r=2;r<t;r+=2)n.push(String.fromCharCode(e.charCodeAt(r+1)<<8|e.charCodeAt(r)));else for(let r=0;r<t;++r){const t=v[e.charCodeAt(r)];n.push(t?String.fromCharCode(t):e.charAt(r))}return n.join("")},t.stringToUTF16BEString=function(e){const t=["þÿ"];for(let n=0,r=e.length;n<r;n++){const r=e.charCodeAt(n);t.push(String.fromCharCode(r>>8&255)),t.push(String.fromCharCode(255&r))}return t.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.unreachable=s,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=i,t.VerbosityLevel=t.Util=t.UNSUPPORTED_FEATURES=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.IsLittleEndianCached=t.IsEvalSupportedCached=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,n(3),t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.PageActionEventType={O:"PageOpen",C:"PageClose"},t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const r={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=r,t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let a=r.WARNINGS;function i(e){a>=r.WARNINGS&&console.log(`Warning: ${e}`)}function s(e){throw new Error(e)}function o(e,t){e||s(t)}function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}const c=function(){function e(t){this.constructor===e&&s("Cannot initialize BaseException."),this.message=t,this.name=this.constructor.name}return e.prototype=new Error,e.constructor=e,e}();t.BaseException=c,t.PasswordException=class extends c{constructor(e,t){super(e),this.code=t}},t.UnknownErrorException=class extends c{constructor(e,t){super(e),this.details=t}},t.InvalidPDFException=class extends c{},t.MissingPDFException=class extends c{},t.UnexpectedResponseException=class extends c{constructor(e,t){super(e),this.status=t}},t.FormatError=class extends c{},t.AbortException=class extends c{};const u=/\x00/g;function h(e){o("string"==typeof e,"Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function d(e){return void 0!==e.length?e.length:(o(void 0!==e.byteLength,"arrayByteLength - invalid argument."),e.byteLength)}const p={get value(){return l(this,"value",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}};t.IsLittleEndianCached=p;const g={get value(){return l(this,"value",function(){try{return new Function(""),!0}catch(e){return!1}}())}};t.IsEvalSupportedCached=g;const f=[...Array(256).keys()].map((e=>e.toString(16).padStart(2,"0")));class m{static makeHexColor(e,t,n){return`#${f[e]}${f[t]}${f[n]}`}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=m.applyTransform(e,t),r=m.applyTransform(e.slice(2,4),t),a=m.applyTransform([e[0],e[3]],t),i=m.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],a[0],i[0]),Math.min(n[1],r[1],a[1],i[1]),Math.max(n[0],r[0],a[0],i[0]),Math.max(n[1],r[1],a[1],i[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static apply3dTransform(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],a=e[2]*t[0]+e[3]*t[2],i=e[2]*t[1]+e[3]*t[3],s=(n+i)/2,o=Math.sqrt((n+i)**2-4*(n*i-a*r))/2,l=s+o||1,c=s-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){function n(e,t){return e-t}const r=[e[0],e[2],t[0],t[2]].sort(n),a=[e[1],e[3],t[1],t[3]].sort(n),i=[];return e=m.normalizeRect(e),t=m.normalizeRect(t),r[0]===e[0]&&r[1]===t[0]||r[0]===t[0]&&r[1]===e[0]?(i[0]=r[1],i[2]=r[2],a[0]===e[1]&&a[1]===t[1]||a[0]===t[1]&&a[1]===e[1]?(i[1]=a[1],i[3]=a[2],i):null):null}}t.Util=m;const v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]},(e,t,n)=>{n(4)},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;const n=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=n},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultCMapReaderFactory=exports.DefaultCanvasFactory=exports.build=void 0;var _util=__w_pdfjs_require__(2),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(6),_node_utils=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_api_compatibility=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(4),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_webgl=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){const t=new PDFDocumentLoadingTask;let n;if("string"==typeof e)n={url:e};else if((0,_util.isArrayBuffer)(e))n={data:e};else if(e instanceof PDFDataRangeTransport)n={range:e};else{if("object"!=typeof e)throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");n=e}const r=Object.create(null);let a=null,i=null;for(const e in n)if("url"!==e||"undefined"==typeof window)if("range"!==e)if("worker"!==e)if("data"!==e||n[e]instanceof Uint8Array)r[e]=n[e];else{const t=n[e];if("string"==typeof t)r[e]=(0,_util.stringToBytes)(t);else if("object"!=typeof t||null===t||isNaN(t.length)){if(!(0,_util.isArrayBuffer)(t))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");r[e]=new Uint8Array(t)}else r[e]=new Uint8Array(t)}else i=n[e];else a=n[e];else r[e]=new URL(n[e],window.location).href;if(r.rangeChunkSize=r.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,Number.isInteger(r.maxImageSize)||(r.maxImageSize=-1),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),void 0===r.ownerDocument&&(r.ownerDocument=globalThis.document),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!i){const e={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};i=e.port?PDFWorker.fromPort(e):new PDFWorker(e),t._worker=i}const s=t.docId;return i.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");const e=_fetchDocument(i,r,a,s),n=new Promise((function(e){let t;a?t=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},a):r.data||(t=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),e(t)}));return Promise.all([e,n]).then((function([e,n]){if(t.destroyed)throw new Error("Loading aborted");const a=new _message_handler.MessageHandler(s,e,i.port);a.postMessageTransfers=i.postMessageTransfers;const o=new WorkerTransport(a,t,n,r);t._transport=o,a.send("Ready",null)}))})).catch(t._capability.reject),t}function _fetchDocument(e,t,n,r){return e.destroyed?Promise.reject(new Error("Worker was destroyed")):(n&&(t.length=n.length,t.initialData=n.initialData,t.progressiveDone=n.progressiveDone,t.contentDispositionFilename=n.contentDispositionFilename),e.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.8.188",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties}).then((function(t){if(e.destroyed)throw new Error("Worker was destroyed");return t})))}exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const PDFDocumentLoadingTask=function(){let e=0;return class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then((()=>{this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}))}}}();class PDFDataRangeTransport{constructor(e,t,n=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get numPages(){return this._pdfInfo.numPages}get fingerprint(){return this._pdfInfo.fingerprint}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}getStats(){return this._transport.getStats()}cleanup(){return this._transport.startCleanup()}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(e){return this._transport.saveDocument(e)}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(e,t,n,r,a=!1){this._pageIndex=e,this._pageInfo=t,this._ownerDocument=r,this._transport=n,this._stats=a?new _display_utils.StatTimer:null,this._pdfBug=a,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:a=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:a})}getAnnotations({intent:e=null}={}){return this.annotationsPromise&&this.annotationsIntent===e||(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,e),this.annotationsIntent=e),this.annotationsPromise}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}render({canvasContext:e,viewport:t,intent:n="display",enableWebGL:r=!1,renderInteractiveForms:a=!1,transform:i=null,imageLayer:s=null,canvasFactory:o=null,background:l=null,annotationStorage:c=null,optionalContentConfigPromise:u=null}){this._stats&&this._stats.time("Overall");const h="print"===n?"print":"display";this.pendingCleanup=!1,u||(u=this._transport.getOptionalContentConfig());let d=this._intentStates.get(h);d||(d=Object.create(null),this._intentStates.set(h,d)),d.streamReaderCancelTimeout&&(clearTimeout(d.streamReaderCancelTimeout),d.streamReaderCancelTimeout=null);const p=o||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),g=new _webgl.WebGLContext({enable:r});d.displayReadyCapability||(d.displayReadyCapability=(0,_util.createPromiseCapability)(),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:h,renderInteractiveForms:!0===a,annotationStorage:c?.serializable||null}));const f=e=>{const t=d.renderTasks.indexOf(m);t>=0&&d.renderTasks.splice(t,1),(this.cleanupAfterRender||"print"===h)&&(this.pendingCleanup=!0),this._tryCleanup(),e?(m.capability.reject(e),this._abortOperatorList({intentState:d,reason:e})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},m=new InternalRenderTask({callback:f,params:{canvasContext:e,viewport:t,transform:i,imageLayer:s,background:l},objs:this.objs,commonObjs:this.commonObjs,operatorList:d.operatorList,pageIndex:this._pageIndex,canvasFactory:p,webGLContext:g,useRequestAnimationFrame:"print"!==h,pdfBug:this._pdfBug});d.renderTasks||(d.renderTasks=[]),d.renderTasks.push(m);const v=m.task;return Promise.all([d.displayReadyCapability.promise,u]).then((([e,t])=>{this.pendingCleanup?f():(this._stats&&this._stats.time("Rendering"),m.initializeGraphics({transparency:e,optionalContentConfig:t}),m.operatorListChanged())})).catch(f),v}getOperatorList(){const e="oplist";let t,n=this._intentStates.get(e);return n||(n=Object.create(null),this._intentStates.set(e,n)),n.opListReadCapability||(t=Object.create(null),t.operatorListChanged=function(){if(n.operatorList.lastChunk){n.opListReadCapability.resolve(n.operatorList);const e=n.renderTasks.indexOf(t);e>=0&&n.renderTasks.splice(e,1)}},n.opListReadCapability=(0,_util.createPromiseCapability)(),n.renderTasks=[],n.renderTasks.push(t),n.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:e})),n.opListReadCapability.promise}streamTextContent({normalizeWhitespace:e=!1,disableCombineTextItems:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===e,combineTextItems:!0!==t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(e={}){const t=this.streamTextContent(e);return new Promise((function(e,n){const r=t.getReader(),a={items:[],styles:Object.create(null)};!function t(){r.read().then((function({value:n,done:r}){r?e(a):(Object.assign(a.styles,n.styles),a.items.push(...n.items),t())}),n)}()}))}_destroy(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;const e=[];for(const[t,n]of this._intentStates)if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==t)for(const t of n.renderTasks)e.push(t.completed),t.cancel();return this.objs.clear(),this.annotationsPromise=null,this._jsActionsPromise=null,this.pendingCleanup=!1,Promise.all(e)}cleanup(e=!1){return this.pendingCleanup=!0,this._tryCleanup(e)}_tryCleanup(e=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(0!==e.length||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.annotationsPromise=null,this._jsActionsPromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk;for(let e=0;e<t.renderTasks.length;e++)t.renderTasks[e].operatorListChanged();e.lastChunk&&this._tryCleanup()}_pumpOperatorList(e){(0,_util.assert)(e.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');const t=this._transport.messageHandler.sendWithStream("GetOperatorList",e).getReader(),n=this._intentStates.get(e.intent);n.streamReader=t;const r=()=>{t.read().then((({value:e,done:t})=>{t?n.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,n),r())}),(e=>{if(n.streamReader=null,!this._transport.destroyed){if(n.operatorList){n.operatorList.lastChunk=!0;for(let e=0;e<n.renderTasks.length;e++)n.renderTasks[e].operatorListChanged();this._tryCleanup()}if(n.displayReadyCapability)n.displayReadyCapability.reject(e);else{if(!n.opListReadCapability)throw e;n.opListReadCapability.reject(e)}}}))};r()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if((0,_util.assert)(t instanceof Error||"object"==typeof t&&null!==t,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),e.streamReader){if(!n){if(0!==e.renderTasks.length)return;if(t instanceof _display_utils.RenderingCancelledException)return void(e.streamReaderCancelTimeout=setTimeout((()=>{this._abortOperatorList({intentState:e,reason:t,force:!0}),e.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}if(e.streamReader.cancel(new _util.AbortException(t?.message)),e.streamReader=null,!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve(void 0)}postMessage(e,t){const n=new WeakMap,r={data:function e(r){if("object"!=typeof r||null===r)return r;if(n.has(r))return n.get(r);let a,i;if((a=r.buffer)&&(0,_util.isArrayBuffer)(a))return i=t?.includes(a)?new r.constructor(a,r.byteOffset,r.byteLength):new r.constructor(r),n.set(r,i),i;if(r instanceof Map){i=new Map,n.set(r,i);for(const[t,n]of r)i.set(t,e(n));return i}if(r instanceof Set){i=new Set,n.set(r,i);for(const t of r)i.add(e(t));return i}i=Array.isArray(r)?[]:{},n.set(r,i);for(const t in r){let n,a=r;for(;!(n=Object.getOwnPropertyDescriptor(a,t));)a=Object.getPrototypeOf(a);if(void 0!==n.value)if("function"!=typeof n.value)i[t]=e(n.value);else if(r.hasOwnProperty?.(t))throw new Error(`LoopbackPort.postMessage - cannot clone: ${r[t]}`)}return i}(e)};this._deferred.then((()=>{for(const e of this._listeners)e.call(this,r)}))}addEventListener(e,t){this._listeners.push(t)}removeEventListener(e,t){const n=this._listeners.indexOf(t);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorker=function PDFWorkerClosure(){const pdfWorkerPorts=new WeakMap;let isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS&&"function"==typeof commonjsRequire)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document&&"currentScript"in document){const e=document.currentScript?.src;e&&(fallbackWorkerSrc=e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){let e;try{e=globalThis.pdfjsWorker?.WorkerMessageHandler}catch(e){}return e||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();const loader=async function(){const mainWorkerMessageHandler=getMainThreadWorkerMessageHandler();if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&"function"==typeof commonjsRequire){const worker=eval("require")(getWorkerSrc());return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(getWorkerSrc()),window.pdfjsWorker.WorkerMessageHandler};return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(e){const t="importScripts('"+e+"');";return URL.createObjectURL(new Blob([t]))}class PDFWorker{constructor({name:e=null,port:t=null,verbosity:n=(0,_util.getVerbosityLevel)()}={}){if(t&&pdfWorkerPorts.has(t))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=e,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=n,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,t)return pdfWorkerPorts.set(t,this),void this._initializeFromPort(t);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){let e=getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,e)||(e=createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e),n=new _message_handler.MessageHandler("main","worker",t),r=()=>{t.removeEventListener("error",a),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=()=>{this._webWorker||r()};t.addEventListener("error",a),n.on("test",(e=>{t.removeEventListener("error",a),this.destroyed?r():e?(this._messageHandler=n,this._port=t,this._webWorker=t,e.supportTransfers||(this.postMessageTransfers=!1),this._readyCapability.resolve(),n.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),n.destroy(),t.terminate())})),n.on("ready",(e=>{if(t.removeEventListener("error",a),this.destroyed)r();else try{i()}catch(e){this._setupFakeWorker()}}));const i=()=>{const e=new Uint8Array([this.postMessageTransfers?255:0]);try{n.send("test",e,[e.buffer])}catch(t){(0,_util.warn)("Cannot use postMessage transfers."),e[0]=0,n.send("test",e)}};return void i()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then((e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new LoopbackPort;this._port=t;const n="fake"+nextFakeWorkerId++,r=new _message_handler.MessageHandler(n+"_worker",n,t);e.setup(r,t);const a=new _message_handler.MessageHandler(n,n+"_worker",t);this._messageHandler=a,this._readyCapability.resolve(),a.send("configure",{verbosity:this.verbosity})})).catch((e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))}))}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(e.port)?pdfWorkerPorts.get(e.port):new PDFWorker(e)}static getWorkerSrc(){return getWorkerSrc()}}return PDFWorker}();exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(e,t,n,r){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:r.ownerDocument}),this._params=r,this.CMapReaderFactory=new r.CMapReaderFactory({baseUrl:r.cMapUrl,isCompressed:r.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get loadingTaskSettled(){return this.loadingTask._capability.settled}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];this.pageCache.forEach((function(t){t&&e.push(t._destroy())})),this.pageCache.length=0,this.pagePromises.length=0;const t=this.messageHandler.sendWithPromise("Terminate",null);if(e.push(t),this.loadingTaskSettled){const t=this.loadingTask.promise.then((e=>{e.hasOwnProperty("annotationStorage")&&e.annotationStorage.resetModified()})).catch((()=>{}));e.push(t)}return Promise.all(e).then((()=>{this.commonObjs.clear(),this.fontLoader.clear(),this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function({value:e,done:n}){n?t.close():((0,_util.assert)((0,_util.isArrayBuffer)(e),"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(e=>{const n=(0,_util.createPromiseCapability)(),r=this._fullReader;return r.headersReady.then((()=>{r.isStreamingSupported&&r.isRangeSupported||(this._lastProgress&&t.onProgress&&t.onProgress(this._lastProgress),r.onProgress=e=>{t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}),n.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})}),n.reject),n.promise})),e.on("GetRangeReader",((e,t)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function({value:e,done:n}){n?t.close():((0,_util.assert)((0,_util.isArrayBuffer)(e),"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(({pdfInfo:e})=>{this._numPages=e.numPages,t._capability.resolve(new PDFDocumentProxy(e,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":n=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":n=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":n=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":n=new _util.UnknownErrorException(e.message,e.details)}if(!(n instanceof Error)){const e="DocException - expected a valid Error.";(0,_util.warn)(e)}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),t.onPassword){const n=e=>{this._passwordCapability.resolve({password:e})};try{t.onPassword(n,e.code)}catch(e){this._passwordCapability.reject(e)}}else this._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return this._passwordCapability.promise})),e.on("DataLoaded",(e=>{t.onProgress&&t.onProgress({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{this.destroyed||this.pageCache[e.pageIndex]._startRenderPage(e.transparency,e.intent)})),e.on("commonobj",(t=>{if(this.destroyed)return;const[n,r,a]=t;if(!this.commonObjs.has(n))switch(r){case"Font":const t=this._params;if("error"in a){const e=a.error;(0,_util.warn)(`Error during font loading: ${e}`),this.commonObjs.resolve(n,e);break}let i=null;t.pdfBug&&globalThis.FontInspector?.enabled&&(i={registerFont(e,t){globalThis.FontInspector.fontAdded(e,t)}});const s=new _font_loader.FontFaceObject(a,{isEvalSupported:t.isEvalSupported,disableFontFace:t.disableFontFace,ignoreErrors:t.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:i});this.fontLoader.bind(s).catch((t=>e.sendWithPromise("FontFallback",{id:n}))).finally((()=>{!t.fontExtraProperties&&s.data&&(s.data=null),this.commonObjs.resolve(n,s)}));break;case"FontPath":case"Image":this.commonObjs.resolve(n,a);break;default:throw new Error(`Got unknown common object type ${r}`)}})),e.on("obj",(e=>{if(this.destroyed)return;const[t,n,r,a]=e,i=this.pageCache[n];if(!i.objs.has(t))switch(r){case"Image":i.objs.resolve(t,a);const e=8e6;a?.data?.length>e&&(i.cleanupAfterRender=!0);break;default:throw new Error(`Got unknown object type ${r}`)}})),e.on("DocProgress",(e=>{this.destroyed||t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})})),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",((e,t)=>{if(this.destroyed)return void t.error(new Error("Worker was destroyed"));let n=!1;t.onPull=()=>{n?t.close():(n=!0,this.CMapReaderFactory.fetch(e).then((function(e){t.enqueue(e,1,[e.cMapData.buffer])})).catch((function(e){t.error(e)})))}}))}_onUnsupportedFeature({featureId:e}){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(e)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request"));const t=e-1;if(t in this.pagePromises)return this.pagePromises[t];const n=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((e=>{if(this.destroyed)throw new Error("Transport destroyed");const n=new PDFPageProxy(t,e,this,this._params.ownerDocument,this._params.pdfBug);return this.pageCache[t]=n,n}));return this.pagePromises[t]=n,n}getPageIndex(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch((function(e){return Promise.reject(new Error(e))}))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}saveDocument(e){return this.messageHandler.sendWithPromise("SaveDocument",{numPages:this._numPages,annotationStorage:e?.serializable||null,filename:this._fullReader?.filename??null}).finally((()=>{e&&e.resetModified()}))}getFieldObjects(){return this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((e=>new _optional_content_config.OptionalContentConfig(e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.messageHandler.sendWithPromise("GetMetadata",null).then((e=>({info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}getStats(){return this.messageHandler.sendWithPromise("GetStats",null)}startCleanup(){return this.messageHandler.sendWithPromise("Cleanup",null).then((()=>{for(let e=0,t=this.pageCache.length;e<t;e++){const t=this.pageCache[e];if(t&&!t.cleanup())throw new Error(`startCleanup: Page ${e+1} is currently rendering.`)}this.commonObjs.clear(),this.fontLoader.clear(),this._hasJSActionsPromise=null}))}get loadingParams(){const e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,disableFontFace:e.disableFontFace})}}class PDFObjects{constructor(){this._objs=Object.create(null)}_ensureObj(e){return this._objs[e]?this._objs[e]:this._objs[e]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}get(e,t=null){if(t)return this._ensureObj(e).capability.promise.then(t),null;const n=this._objs[e];if(!n||!n.resolved)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){return this._objs[e]?.resolved||!1}resolve(e,t){const n=this._ensureObj(e);n.resolved=!0,n.data=t,n.capability.resolve(t)}clear(){this._objs=Object.create(null)}}class RenderTask{constructor(e){this._internalRenderTask=e,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}const InternalRenderTask=function(){const e=new WeakSet;return class{constructor({callback:e,params:t,objs:n,commonObjs:r,operatorList:a,pageIndex:i,canvasFactory:s,webGLContext:o,useRequestAnimationFrame:l=!1,pdfBug:c=!1}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=i,this.canvasFactory=s,this.webGLContext=o,this._pdfBug=c,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===l&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics({transparency:t=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:a,transform:i,imageLayer:s,background:o}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,s,n),this.gfx.beginDrawing({transform:i,viewport:a,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(t=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&e.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame((()=>{this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&e.delete(this._canvas),this.callback())))}}}(),version="2.8.188";exports.version=version;const build="5e3af62d5";exports.build=build},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var r=n(2);class a{constructor({docId:e,onUnsupportedFeature:t,ownerDocument:n=globalThis.document}){this.constructor===a&&(0,r.unreachable)("Cannot initialize BaseFontLoader."),this.docId=e,this._onUnsupportedFeature=t,this._document=n,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}insertRule(e){let t=this.styleElement;t||(t=this.styleElement=this._document.createElement("style"),t.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(t));const n=t.sheet;n.insertRule(e,n.cssRules.length)}clear(){this.nativeFontFaces.forEach((e=>{this._document.fonts.delete(e)})),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(e){if(e.attached||e.missingFile)return;if(e.attached=!0,this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,r.warn)(`Failed to load font '${t.family}': '${n}'.`),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((n=>{const r=this._queueLoadingCallback(n);this._prepareFontLoadEvent([t],[e],r)}))}}_queueLoadingCallback(e){(0,r.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,r.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,r.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,r.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(e,t,n){(0,r.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let i;t.FontLoader=i,t.FontLoader=i=class extends a{constructor(e){super(e),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let e=!1;return("undefined"==typeof navigator||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(e=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const t=this.loadingContext,n={id:"pdfjs-font-loading-"+t.nextRequestId++,done:!1,complete:function(){for((0,r.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.requests.length>0&&t.requests[0].done;){const e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(n),n}get _loadTestFont(){return(0,r.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t,n){function a(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}let s,o;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let u=0;const h=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=i(d,976,h.length,h);const p=1482184792;let g=a(d,16);for(s=0,o=h.length-3;s<o;s+=4)g=g-p+a(h,s)|0;s<h.length&&(g=g-p+a(h+"XXX",s)|0),d=i(d,16,4,(0,r.string32)(g));const f=`@font-face {font-family:"${h}";src:url(data:font/opentype;base64,${btoa(d)});}`;this.insertRule(f);const m=[];for(s=0,o=t.length;s<o;s++)m.push(t[s].loadedName);m.push(h);const v=this._document.createElement("div");for(v.style.visibility="hidden",v.style.width=v.style.height="10px",v.style.position="absolute",v.style.top=v.style.left="0px",s=0,o=m.length;s<o;++s){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=m[s],v.appendChild(e)}this._document.body.appendChild(v),function e(t,n){if(u++,u>30)return(0,r.warn)("Load test font never loaded."),void n();c.font="30px "+t,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(h,(()=>{this._document.body.removeChild(v),n.complete()}))}},t.FontFaceObject=class{constructor(e,{isEvalSupported:t=!0,disableFontFace:n=!1,ignoreErrors:r=!1,onUnsupportedFeature:a,fontRegistry:i=null}){this.compiledGlyphs=Object.create(null);for(const t in e)this[t]=e[t];this.isEvalSupported=!1!==t,this.disableFontFace=!0===n,this.ignoreErrors=!0===r,this._onUnsupportedFeature=a,this.fontRegistry=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;const e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=(0,r.bytesToString)(new Uint8Array(this.data)),t=`url(data:${this.mimetype};base64,${btoa(e)});`,n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n,a;try{n=e.get(this.loadedName+"_path_"+t)}catch(e){if(!this.ignoreErrors)throw e;return this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,r.warn)(`getPathGenerator - ignoring character: "${e}".`),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&r.IsEvalSupportedCached.value){let e,r="";for(let t=0,i=n.length;t<i;t++)a=n[t],e=void 0!==a.args?a.args.join(","):"",r+="c."+a.cmd+"("+e+");\n";return this.compiledGlyphs[t]=new Function("c","size",r)}return this.compiledGlyphs[t]=function(e,t){for(let r=0,i=n.length;r<i;r++)a=n[r],"scale"===a.cmd&&(a.args=[t,-t]),e[a.cmd].apply(e,a.args)}}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeCMapReaderFactory=t.NodeCanvasFactory=void 0;var r=n(1),a=n(4),i=n(2);let s=class{constructor(){(0,i.unreachable)("Not implemented: NodeCanvasFactory")}};t.NodeCanvasFactory=s;let o=class{constructor(){(0,i.unreachable)("Not implemented: NodeCMapReaderFactory")}};t.NodeCMapReaderFactory=o,a.isNodeJS&&(t.NodeCanvasFactory=s=class extends r.BaseCanvasFactory{create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=require$$0__default.default.createCanvas(e,t);return{canvas:n,context:n.getContext("2d")}}},t.NodeCMapReaderFactory=o=class extends r.BaseCMapReaderFactory{_fetchData(e,t){return new Promise(((n,r)=>{require$$1__default.default.readFile(e,((e,a)=>{!e&&a?n({cMapData:new Uint8Array(a),compressionType:t}):r(new Error(e))}))}))}})},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationStorage=void 0;var r=n(1),a=n(2);t.AnnotationStorage=class{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(e,t){return this._storage.has(e)?this._storage.get(e):t}getOrCreateValue(e,t){return(0,r.deprecated)("Use getValue instead."),this._storage.has(e)?this._storage.get(e):(this._storage.set(e,t),t)}setValue(e,t){const n=this._storage.get(e);let r=!1;if(void 0!==n)for(const[e,a]of Object.entries(t))n[e]!==a&&(r=!0,n[e]=a);else this._storage.set(e,t),r=!0;r&&this._setModified()}getAll(){return this._storage.size>0?(0,a.objectFromEntries)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.apiCompatibilityParams=void 0;var r=n(4);const a=Object.create(null);r.isNodeJS&&(a.disableFontFace=!0);const i=Object.freeze(a);t.apiCompatibilityParams=i},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var r=n(2),a=n(11);const i=4096,s=16;function o(e){e.mozCurrentTransform||(e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[],Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){const e=this._transformMatrix,t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],s=e[5],o=t*a-n*r,l=n*r-t*a;return[a/o,n/l,r/l,t/o,(a*i-r*s)/l,(n*i-t*s)/o]}}),e.save=function(){const e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){const e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){const n=this._transformMatrix;n[4]=n[0]*e+n[2]*t+n[4],n[5]=n[1]*e+n[3]*t+n[5],this._originalTranslate(e,t)},e.scale=function(e,t){const n=this._transformMatrix;n[0]=n[0]*e,n[1]=n[1]*e,n[2]=n[2]*t,n[3]=n[3]*t,this._originalScale(e,t)},e.transform=function(t,n,r,a,i,s){const o=this._transformMatrix;this._transformMatrix=[o[0]*t+o[2]*n,o[1]*t+o[3]*n,o[0]*r+o[2]*a,o[1]*r+o[3]*a,o[0]*i+o[2]*s+o[4],o[1]*i+o[3]*s+o[5]],e._originalTransform(t,n,r,a,i,s)},e.setTransform=function(t,n,r,a,i,s){this._transformMatrix=[t,n,r,a,i,s],e._originalSetTransform(t,n,r,a,i,s)},e.rotate=function(e){const t=Math.cos(e),n=Math.sin(e),r=this._transformMatrix;this._transformMatrix=[r[0]*t+r[2]*n,r[1]*t+r[3]*n,r[0]*-n+r[2]*t,r[1]*-n+r[3]*t,r[4],r[5]],this._originalRotate(e)})}const l=function(){function e(e){this.canvasFactory=e,this.cache=Object.create(null)}return e.prototype={getCanvas:function(e,t,n,r){let a;return void 0!==this.cache[e]?(a=this.cache[e],this.canvasFactory.reset(a,t,n),a.context.setTransform(1,0,0,1,0,0)):(a=this.canvasFactory.create(t,n),this.cache[e]=a),r&&o(a.context),a},clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}},e}(),c=function(){function e(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null,this.transferMaps=null}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),u=function(){function e(e,t,n,r,a,i,s){this.ctx=e,this.current=new c,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.webGLContext=a,this.imageLayer=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=s,this.cachedCanvases=new l(this.canvasFactory),e&&o(e),this._cachedGetSinglePixelWidth=null}function t(e,t,n=null){if("undefined"!=typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const a=t.height,i=t.width,o=a%s,l=(a-o)/s,c=0===o?l:l+1,u=e.createImageData(i,s);let h,d=0;const p=t.data,g=u.data;let f,m,v,b,y,A,_,w;if(n)switch(n.length){case 1:y=n[0],A=n[0],_=n[0],w=n[0];break;case 4:y=n[0],A=n[1],_=n[2],w=n[3]}if(t.kind===r.ImageKind.GRAYSCALE_1BPP){const t=p.byteLength,n=new Uint32Array(g.buffer,0,g.byteLength>>2),a=n.length,b=i+7>>3;let y=4294967295,A=r.IsLittleEndianCached.value?4278190080:255;for(w&&255===w[0]&&0===w[255]&&([y,A]=[A,y]),f=0;f<c;f++){for(v=f<l?s:o,h=0,m=0;m<v;m++){const e=t-d;let r=0;const a=e>b?i:8*e-7,s=-8&a;let o=0,l=0;for(;r<s;r+=8)l=p[d++],n[h++]=128&l?y:A,n[h++]=64&l?y:A,n[h++]=32&l?y:A,n[h++]=16&l?y:A,n[h++]=8&l?y:A,n[h++]=4&l?y:A,n[h++]=2&l?y:A,n[h++]=1&l?y:A;for(;r<a;r++)0===o&&(l=p[d++],o=128),n[h++]=l&o?y:A,o>>=1}for(;h<a;)n[h++]=0;e.putImageData(u,0,f*s)}}else if(t.kind===r.ImageKind.RGBA_32BPP){const t=!!(y||A||_);for(m=0,b=i*s*4,f=0;f<l;f++){if(g.set(p.subarray(d,d+b)),d+=b,t)for(let e=0;e<b;e+=4)y&&(g[e+0]=y[g[e+0]]),A&&(g[e+1]=A[g[e+1]]),_&&(g[e+2]=_[g[e+2]]);e.putImageData(u,0,m),m+=s}if(f<c){if(b=i*o*4,g.set(p.subarray(d,d+b)),t)for(let e=0;e<b;e+=4)y&&(g[e+0]=y[g[e+0]]),A&&(g[e+1]=A[g[e+1]]),_&&(g[e+2]=_[g[e+2]]);e.putImageData(u,0,m)}}else{if(t.kind!==r.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);{const t=!!(y||A||_);for(v=s,b=i*v,f=0;f<c;f++){for(f>=l&&(v=o,b=i*v),h=0,m=b;m--;)g[h++]=p[d++],g[h++]=p[d++],g[h++]=p[d++],g[h++]=255;if(t)for(let e=0;e<h;e+=4)y&&(g[e+0]=y[g[e+0]]),A&&(g[e+1]=A[g[e+1]]),_&&(g[e+2]=_[g[e+2]]);e.putImageData(u,0,f*s)}}}}function n(e,t){const n=t.height,r=t.width,a=n%s,i=(n-a)/s,o=0===a?i:i+1,l=e.createImageData(r,s);let c=0;const u=t.data,h=l.data;for(let t=0;t<o;t++){const n=t<i?s:a;let o=3;for(let e=0;e<n;e++){let e,t=0;for(let n=0;n<r;n++)t||(e=u[c++],t=128),h[o]=e&t?0:255,o+=4,t>>=1}e.putImageData(l,0,t*s)}}function u(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let r=0,a=n.length;r<a;r++){const a=n[r];void 0!==e[a]&&(t[a]=e[a])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function h(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function d(e,t,n,r){const a=e.length;for(let i=3;i<a;i+=4){const a=e[i];if(0===a)e[i-3]=t,e[i-2]=n,e[i-1]=r;else if(a<255){const s=255-a;e[i-3]=e[i-3]*a+t*s>>8,e[i-2]=e[i-2]*a+n*s>>8,e[i-1]=e[i-1]*a+r*s>>8}}}function p(e,t,n){const r=e.length;for(let a=3;a<r;a+=4){const r=n?n[e[a]]:e[a];t[a]=t[a]*r*.00392156862745098|0}}function g(e,t,n){const r=e.length;for(let a=3;a<r;a+=4){const r=77*e[a-3]+152*e[a-2]+28*e[a-1];t[a]=n?t[a]*n[r>>8]>>8:t[a]*r>>16}}function f(e,t,n,r){const a=t.canvas,i=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);const s=t.backdrop||null;if(!t.transferMap&&r.isEnabled){const i=r.composeSMask({layer:n.canvas,mask:a,properties:{subtype:t.subtype,backdrop:s}});return e.setTransform(1,0,0,1,0,0),void e.drawImage(i,t.offsetX,t.offsetY)}!function(e,t,n,r,a,i,s){const o=!!i,l=o?i[0]:0,c=o?i[1]:0,u=o?i[2]:0;let h;h="Luminosity"===a?g:p;const f=Math.min(r,Math.ceil(1048576/n));for(let a=0;a<r;a+=f){const i=Math.min(f,r-a),p=e.getImageData(0,a,n,i),g=t.getImageData(0,a,n,i);o&&d(p.data,l,c,u),h(p.data,g.data,s),e.putImageData(g,0,a)}}(i,n,a.width,a.height,t.subtype,s,t.transferMap),e.drawImage(a,0,0)}const m=["butt","round","square"],v=["miter","round","bevel"],b={},y={};e.prototype={beginDrawing({transform:e,viewport:t,transparency:n=!1,background:r=null}){const a=this.ctx.canvas.width,i=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=r||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,a,i),this.ctx.restore(),n){const e=this.cachedCanvases.getCanvas("transparent",a,i,!0);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),h(this.ctx),e&&this.ctx.transform.apply(this.ctx,e),this.ctx.transform.apply(this.ctx,t.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,n,a){const i=e.argsArray,s=e.fnArray;let o=t||0;const l=i.length;if(l===o)return o;const c=l-o>10&&"function"==typeof n,u=c?Date.now()+15:0;let h=0;const d=this.commonObjs,p=this.objs;let g;for(;;){if(void 0!==a&&o===a.nextBreakPoint)return a.breakIt(o,n),o;if(g=s[o],g!==r.OPS.dependency)this[g].apply(this,i[o]);else for(const e of i[o]){const t=e.startsWith("g_")?d:p;if(!t.has(e))return t.get(e,n),o}if(o++,o===l)return o;if(c&&++h>10){if(Date.now()>u)return n(),o;h=0}}},endDrawing:function(){for(;this.stateStack.length||null!==this.current.activeSMask;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=m[e]},setLineJoin:function(e){this.ctx.lineJoin=v[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)},setRenderingIntent(e){},setFlatness(e){},setGState:function(e){for(let t=0,n=e.length;t<n;t++){const n=e[t],r=n[0],a=n[1];switch(r){case"LW":this.setLineWidth(a);break;case"LC":this.setLineCap(a);break;case"LJ":this.setLineJoin(a);break;case"ML":this.setMiterLimit(a);break;case"D":this.setDash(a[0],a[1]);break;case"RI":this.setRenderingIntent(a);break;case"FL":this.setFlatness(a);break;case"Font":this.setFont(a[0],a[1]);break;case"CA":this.current.strokeAlpha=n[1];break;case"ca":this.current.fillAlpha=n[1],this.ctx.globalAlpha=n[1];break;case"BM":this.ctx.globalCompositeOperation=a;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=a?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break;case"TR":this.current.transferMaps=a}}},beginSMaskGroup:function(){const e=this.current.activeSMask,t=e.canvas.width,n=e.canvas.height,r="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(r,t,n,!0),i=this.ctx,s=i.mozCurrentTransform;this.ctx.save();const o=a.context;o.scale(1/e.scaleX,1/e.scaleY),o.translate(-e.offsetX,-e.offsetY),o.transform.apply(o,s),e.startTransformInverse=o.mozCurrentTransformInverse,u(i,o),this.ctx=o,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++},suspendSMaskGroup:function(){const e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),f(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),this.ctx.save(),u(e,this.ctx),this.current.resumeSMaskCtx=e;const t=r.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){const e=this.current.resumeSMaskCtx,t=this.ctx;this.ctx=e,this.groupStack.push(t),this.groupLevel++},endSMaskGroup:function(){const e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),f(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),u(e,this.ctx);const t=r.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)},save:function(){this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null):this.current.activeSMask=null},transform:function(e,t,n,r,a,i){this.ctx.transform(e,t,n,r,a,i),this._cachedGetSinglePixelWidth=null},constructPath:function(e,t){const n=this.ctx,a=this.current;let i=a.x,s=a.y;for(let a=0,o=0,l=e.length;a<l;a++)switch(0|e[a]){case r.OPS.rectangle:i=t[o++],s=t[o++];const e=t[o++],a=t[o++],l=i+e,c=s+a;n.moveTo(i,s),0===e||0===a?n.lineTo(l,c):(n.lineTo(l,s),n.lineTo(l,c),n.lineTo(i,c)),n.closePath();break;case r.OPS.moveTo:i=t[o++],s=t[o++],n.moveTo(i,s);break;case r.OPS.lineTo:i=t[o++],s=t[o++],n.lineTo(i,s);break;case r.OPS.curveTo:i=t[o+4],s=t[o+5],n.bezierCurveTo(t[o],t[o+1],t[o+2],t[o+3],i,s),o+=6;break;case r.OPS.curveTo2:n.bezierCurveTo(i,s,t[o],t[o+1],t[o+2],t[o+3]),i=t[o+2],s=t[o+3],o+=4;break;case r.OPS.curveTo3:i=t[o+2],s=t[o+3],n.bezierCurveTo(t[o],t[o+1],i,s,i,s),o+=4;break;case r.OPS.closePath:n.closePath()}a.setCurrentPoint(i,s)},closePath:function(){this.ctx.closePath()},stroke:function(e){e=void 0===e||e;const t=this.ctx,n=this.current.strokeColor;if(t.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof n&&n?.getPattern){t.save();const e=t.mozCurrentTransform,a=r.Util.singularValueDecompose2dScale(e)[0];t.strokeStyle=n.getPattern(t,this);const i=this.getSinglePixelWidth(),s=this.current.lineWidth*a;i<0&&-i>=s?(t.resetTransform(),t.lineWidth=Math.round(this._combinedScaleFactor)):t.lineWidth=Math.max(i,s),t.stroke(),t.restore()}else{const e=this.getSinglePixelWidth();e<0&&-e>=this.current.lineWidth?(t.save(),t.resetTransform(),t.lineWidth=Math.round(this._combinedScaleFactor),t.stroke(),t.restore()):(t.lineWidth=Math.max(e,this.current.lineWidth),t.stroke())}e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e=void 0===e||e;const t=this.ctx,n=this.current.fillColor;let r=!1;this.current.patternFill&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=n.getPattern(t,this),r=!0),this.contentVisible&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=b},eoClip:function(){this.pendingClip=y},beginText:function(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(let n=0;n<e.length;n++){const r=e[n];t.setTransform.apply(t,r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){const n=this.commonObjs.get(e),a=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(a.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX,0!==a.fontMatrix[0]&&0!==a.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+e),t<0?(t=-t,a.fontDirection=-1):a.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const i=n.loadedName||"sans-serif";let s="normal";n.black?s="900":n.bold&&(s="bold");const o=n.italic?"italic":"normal",l=`"${i}", ${n.fallbackName}`;let c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font=`${o} ${s} ${c}px ${l}`},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,n,r,a,i){this.current.textMatrix=[e,t,n,r,a,i],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar(e,t,n,a,i){const s=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,h=c&r.TextRenderingMode.FILL_STROKE_MASK,d=!!(c&r.TextRenderingMode.ADD_TO_PATH_FLAG),p=o.patternFill&&!l.missingFile;let g;(l.disableFontFace||d||p)&&(g=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||p?(s.save(),s.translate(t,n),s.beginPath(),g(s,u),a&&s.setTransform.apply(s,a),h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||s.fill(),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||(i&&(s.resetTransform(),s.lineWidth=Math.round(this._combinedScaleFactor)),s.stroke()),s.restore()):(h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||s.fillText(e,t,n),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||(i?(s.save(),s.moveTo(t,n),s.resetTransform(),s.lineWidth=Math.round(this._combinedScaleFactor),s.strokeText(e,0,0),s.restore()):s.strokeText(e,t,n))),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:s.mozCurrentTransform,x:t,y:n,fontSize:u,addToPath:g})},get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let e=3;e<t.length;e+=4)if(t[e]>0&&t[e]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)},showText:function(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const a=t.fontSize;if(0===a)return;const i=this.ctx,s=t.fontSizeScale,o=t.charSpacing,l=t.wordSpacing,c=t.fontDirection,u=t.textHScale*c,h=e.length,d=n.vertical,p=d?1:-1,g=n.defaultVMetrics,f=a*t.fontMatrix[0],m=t.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;let v;if(i.save(),t.patternFill){i.save();const e=t.fillColor.getPattern(i,this);v=i.mozCurrentTransform,i.restore(),i.fillStyle=e}i.transform.apply(i,t.textMatrix),i.translate(t.x,t.y+t.textRise),c>0?i.scale(u,-1):i.scale(u,1);let b=t.lineWidth,y=!1;const A=t.textMatrixScale;if(0===A||0===b){const e=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;e!==r.TextRenderingMode.STROKE&&e!==r.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,b=this.getSinglePixelWidth(),y=b<0)}else b/=A;1!==s&&(i.scale(s,s),b/=s),i.lineWidth=b;let _,w=0;for(_=0;_<h;++_){const t=e[_];if((0,r.isNum)(t)){w+=p*t*a/1e3;continue}let u=!1;const h=(t.isSpace?l:0)+o,b=t.fontChar,A=t.accent;let k,x,C,P=t.width;if(d){const e=t.vmetric||g,n=-(t.vmetric?e[1]:.5*P)*f,r=e[2]*f;P=e?-e[0]:P,k=n/s,x=(w+r)/s}else k=w/s,x=0;if(n.remeasure&&P>0){const e=1e3*i.measureText(b).width/a*s;if(P<e&&this.isFontSubpixelAAEnabled){const t=P/e;u=!0,i.save(),i.scale(t,1),k/=t}else P!==e&&(k+=(P-e)/2e3*a/s)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(m&&!A)i.fillText(b,k,x);else if(this.paintChar(b,k,x,v,y),A){const e=k+a*A.offset.x/s,t=x-a*A.offset.y/s;this.paintChar(A.fontChar,e,t,v,y)}C=d?P*f-h*c:P*f+h*c,w+=C,u&&i.restore()}d?t.y-=w:t.x+=w*u,i.restore()},showType3Text:function(e){const t=this.ctx,n=this.current,a=n.font,i=n.fontSize,s=n.fontDirection,o=a.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,u=n.textHScale*s,h=n.fontMatrix||r.FONT_IDENTITY_MATRIX,d=e.length;let p,g,f,m;if(n.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==i){for(this._cachedGetSinglePixelWidth=null,t.save(),t.transform.apply(t,n.textMatrix),t.translate(n.x,n.y),t.scale(u,s),p=0;p<d;++p){if(g=e[p],(0,r.isNum)(g)){m=o*g*i/1e3,this.ctx.translate(m,0),n.x+=m*u;continue}const s=(g.isSpace?c:0)+l,d=a.charProcOperatorList[g.operatorListId];d?(this.contentVisible&&(this.processingType3=g,this.save(),t.scale(i,i),t.transform.apply(t,h),this.executeOperatorList(d),this.restore()),f=r.Util.applyTransform([g.width,0],h)[0]*i+s,t.translate(f,0),n.x+=f*u):(0,r.warn)(`Type3 character "${g.operatorListId}" is not available.`)}t.restore(),this.processingType3=null}},setCharWidth:function(e,t){},setCharWidthAndBounds:function(e,t,n,r,a,i){this.ctx.rect(n,r,a-n,i-r),this.clip(),this.endPath()},getColorN_Pattern:function(t){let n;if("TilingPattern"===t[0]){const r=t[1],i=this.baseTransform||this.ctx.mozCurrentTransform.slice(),s={createCanvasGraphics:t=>new e(t,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext)};n=new a.TilingPattern(t,r,this.ctx,s,i)}else n=(0,a.getShadingPatternFromIR)(t);return n},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,n){const a=r.Util.makeHexColor(e,t,n);this.ctx.strokeStyle=a,this.current.strokeColor=a},setFillRGBColor:function(e,t,n){const a=r.Util.makeHexColor(e,t,n);this.ctx.fillStyle=a,this.current.fillColor=a,this.current.patternFill=!1},shadingFill:function(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=(0,a.getShadingPatternFromIR)(e);t.fillStyle=n.getPattern(t,this,!0);const i=t.mozCurrentTransformInverse;if(i){const e=t.canvas,n=e.width,a=e.height,s=r.Util.applyTransform([0,0],i),o=r.Util.applyTransform([0,a],i),l=r.Util.applyTransform([n,0],i),c=r.Util.applyTransform([n,a],i),u=Math.min(s[0],o[0],l[0],c[0]),h=Math.min(s[1],o[1],l[1],c[1]),d=Math.max(s[0],o[0],l[0],c[0]),p=Math.max(s[1],o[1],l[1],c[1]);this.ctx.fillRect(u,h,d-u,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,r.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,r.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())},beginGroup:function(e){if(!this.contentVisible)return;this.save();const t=this.ctx;e.isolated||(0,r.info)("TODO: Support non-isolated groups."),e.knockout&&(0,r.warn)("Knockout groups not supported.");const n=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");let a=r.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform);const s=[0,0,t.canvas.width,t.canvas.height];a=r.Util.intersect(a,s)||[0,0,0,0];const o=Math.floor(a[0]),l=Math.floor(a[1]);let c=Math.max(Math.ceil(a[2])-o,1),h=Math.max(Math.ceil(a[3])-l,1),d=1,p=1;c>i&&(d=c/i,c=i),h>i&&(p=h/i,h=i);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(g,c,h,!0),m=f.context;m.scale(1/d,1/p),m.translate(-o,-l),m.transform.apply(m,n),e.smask?this.smaskStack.push({canvas:f.canvas,context:m,offsetX:o,offsetY:l,scaleX:d,scaleY:p,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,l),t.scale(d,p)),u(t,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null},endGroup:function(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,n){if(this.save(),h(this.ctx),this.current=new c,Array.isArray(e)&&4===e.length){const t=e[2]-e[0],n=e[3]-e[1];this.ctx.rect(e[0],e[1],t,n),this.clip(),this.endPath()}this.transform.apply(this,t),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(e){if(!this.contentVisible)return;const t=this.ctx,r=e.width,a=e.height,i=this.current.fillColor,s=this.current.patternFill,o=this.processingType3;if(o&&void 0===o.compiled&&(o.compiled=r<=1e3&&a<=1e3?function(e){const t=e.width,n=e.height,r=t+1;let a,i,s,o;const l=new Uint8Array(r*(n+1)),c=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=t+7&-8,h=e.data,d=new Uint8Array(u*n);let p=0;for(a=0,i=h.length;a<i;a++){const e=h[a];let t=128;for(;t>0;)d[p++]=e&t?0:255,t>>=1}let g=0;for(p=0,0!==d[p]&&(l[0]=1,++g),s=1;s<t;s++)d[p]!==d[p+1]&&(l[s]=d[p]?2:1,++g),p++;for(0!==d[p]&&(l[s]=2,++g),a=1;a<n;a++){p=a*u,o=a*r,d[p-u]!==d[p]&&(l[o]=d[p]?1:8,++g);let e=(d[p]?4:0)+(d[p-u]?8:0);for(s=1;s<t;s++)e=(e>>2)+(d[p+1]?4:0)+(d[p-u+1]?8:0),c[e]&&(l[o+s]=c[e],++g),p++;if(d[p-u]!==d[p]&&(l[o+s]=d[p]?2:4,++g),g>1e3)return null}for(p=u*(n-1),o=a*r,0!==d[p]&&(l[o]=8,++g),s=1;s<t;s++)d[p]!==d[p+1]&&(l[o+s]=d[p]?4:8,++g),p++;if(0!==d[p]&&(l[o+s]=4,++g),g>1e3)return null;const f=new Int32Array([0,r,-1,0,-r,0,0,0,1]),m=[];for(a=0;g&&a<=n;a++){let e=a*r;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;const i=[e%r,a],s=e;let o=l[e];do{const t=f[o];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(o=n,l[e]=0):(o=n&51*o>>4,l[e]&=o>>2|o<<2),i.push(e%r),i.push(e/r|0),l[e]||--g}while(s!==e);m.push(i),--a}return function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.beginPath();for(let t=0,n=m.length;t<n;t++){const n=m[t];e.moveTo(n[0],n[1]);for(let t=2,r=n.length;t<r;t+=2)e.lineTo(n[t],n[t+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:r,height:a}):null),o?.compiled)return void o.compiled(t);const l=this.cachedCanvases.getCanvas("maskCanvas",r,a),c=l.context;c.save(),n(c,e),c.globalCompositeOperation="source-in",c.fillStyle=s?i.getPattern(c,this):i,c.fillRect(0,0,r,a),c.restore(),this.paintInlineImageXObject(l.canvas)},paintImageMaskXObjectRepeat(e,t,r=0,a=0,i,s){if(!this.contentVisible)return;const o=e.width,l=e.height,c=this.current.fillColor,u=this.current.patternFill,h=this.cachedCanvases.getCanvas("maskCanvas",o,l),d=h.context;d.save(),n(d,e),d.globalCompositeOperation="source-in",d.fillStyle=u?c.getPattern(d,this):c,d.fillRect(0,0,o,l),d.restore();const p=this.ctx;for(let e=0,n=s.length;e<n;e+=2)p.save(),p.transform(t,r,a,i,s[e],s[e+1]),p.scale(1,-1),p.drawImage(h.canvas,0,0,o,l,0,-1,1,1),p.restore()},paintImageMaskXObjectGroup:function(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,a=this.current.patternFill;for(let i=0,s=e.length;i<s;i++){const s=e[i],o=s.width,l=s.height,c=this.cachedCanvases.getCanvas("maskCanvas",o,l),u=c.context;u.save(),n(u,s),u.globalCompositeOperation="source-in",u.fillStyle=a?r.getPattern(u,this):r,u.fillRect(0,0,o,l),u.restore(),t.save(),t.transform.apply(t,s.transform),t.scale(1,-1),t.drawImage(c.canvas,0,0,o,l,0,-1,1,1),t.restore()}},paintImageXObject:function(e){if(!this.contentVisible)return;const t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(e,t,n,a){if(!this.contentVisible)return;const i=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);if(!i)return void(0,r.warn)("Dependent image isn't ready yet");const s=i.width,o=i.height,l=[];for(let e=0,r=a.length;e<r;e+=2)l.push({transform:[t,0,0,n,a[e],a[e+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(i,l)},paintInlineImageXObject:function(e){if(!this.contentVisible)return;const n=e.width,r=e.height,a=this.ctx;this.save(),a.scale(1/n,-1/r);const i=a.mozCurrentTransformInverse;let s,o,l,c=Math.max(Math.hypot(i[0],i[1]),1),u=Math.max(Math.hypot(i[2],i[3]),1);"function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data?s=e:(o=this.cachedCanvases.getCanvas("inlineImage",n,r),l=o.context,t(l,e,this.current.transferMaps),s=o.canvas);let h=n,d=r,p="prescale1";for(;c>2&&h>1||u>2&&d>1;){let e=h,t=d;c>2&&h>1&&(e=Math.ceil(h/2),c/=h/e),u>2&&d>1&&(t=Math.ceil(d/2),u/=d/t),o=this.cachedCanvases.getCanvas(p,e,t),l=o.context,l.clearRect(0,0,e,t),l.drawImage(s,0,0,h,d,0,0,e,t),s=o.canvas,h=e,d=t,p="prescale1"===p?"prescale2":"prescale1"}if(a.drawImage(s,0,0,h,d,0,-r,n,r),this.imageLayer){const t=this.getCanvasPosition(0,-r);this.imageLayer.appendImage({imgData:e,left:t[0],top:t[1],width:n/i[0],height:r/i[3]})}this.restore()},paintInlineImageXObjectGroup:function(e,n){if(!this.contentVisible)return;const r=this.ctx,a=e.width,i=e.height,s=this.cachedCanvases.getCanvas("inlineImage",a,i);t(s.context,e,this.current.transferMaps);for(let t=0,o=n.length;t<o;t++){const o=n[t];if(r.save(),r.transform.apply(r,o.transform),r.scale(1,-1),r.drawImage(s.canvas,o.x,o.y,o.w,o.h,0,-1,1,1),this.imageLayer){const t=this.getCanvasPosition(o.x,o.y);this.imageLayer.appendImage({imgData:e,left:t[0],top:t[1],width:a,height:i})}r.restore()}},paintSolidColorImageMask:function(){this.contentVisible&&this.ctx.fillRect(0,0,1,1)},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){this.markedContentStack.push({visible:!0})},beginMarkedContentProps:function(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()},endMarkedContent:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()},beginCompat:function(){},endCompat:function(){},consumePath:function(){const e=this.ctx;this.pendingClip&&(this.pendingClip===y?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const e=this.ctx.mozCurrentTransform,t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=e[0]**2+e[2]**2,r=e[1]**2+e[3]**2,a=Math.sqrt(Math.max(n,r))/t;n!==r&&this._combinedScaleFactor*a>1?this._cachedGetSinglePixelWidth=-this._combinedScaleFactor*a:t>Number.EPSILON?this._cachedGetSinglePixelWidth=1.0000001*a:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){const n=this.ctx.mozCurrentTransform;return[n[0]*e+n[2]*t+n[4],n[1]*e+n[3]*t+n[5]]},isContentVisible:function(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};for(const t in r.OPS)e.prototype[r.OPS[t]]=e.prototype[t];return e}();t.CanvasGraphics=u},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPatternFromIR=function(e){const t=a[e[0]];if(!t)throw new Error(`Unknown IR type: ${e[0]}`);return t.fromIR(e)},t.TilingPattern=void 0;var r=n(2);const a={};function i(e,t){if(!t||"undefined"==typeof Path2D)return;const n=t[2]-t[0],r=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],n,r),e.clip(a)}a.RadialAxial={fromIR:function(e){const t=e[1],n=e[2],r=e[3],a=e[4],s=e[5],o=e[6],l=e[7];return{getPattern:function(e){let c;i(e,n),"axial"===t?c=e.createLinearGradient(a[0],a[1],s[0],s[1]):"radial"===t&&(c=e.createRadialGradient(a[0],a[1],o,s[0],s[1],l));for(let e=0,t=r.length;e<t;++e){const t=r[e];c.addColorStop(t[0],t[1])}return c}}}};const s=function(){function e(e,t,n,r,a,i,s,o){const l=t.coords,c=t.colors,u=e.data,h=4*e.width;let d;l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=i,i=s,s=d),l[r+1]>l[a+1]&&(d=r,r=a,a=d,d=s,s=o,o=d),l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=i,i=s,s=d);const p=(l[n]+t.offsetX)*t.scaleX,g=(l[n+1]+t.offsetY)*t.scaleY,f=(l[r]+t.offsetX)*t.scaleX,m=(l[r+1]+t.offsetY)*t.scaleY,v=(l[a]+t.offsetX)*t.scaleX,b=(l[a+1]+t.offsetY)*t.scaleY;if(g>=b)return;const y=c[i],A=c[i+1],_=c[i+2],w=c[s],k=c[s+1],x=c[s+2],C=c[o],P=c[o+1],S=c[o+2],T=Math.round(g),E=Math.round(b);let D,F,$,I,M,N,j,O;for(let e=T;e<=E;e++){if(e<m){let t;t=e<g?0:g===m?1:(g-e)/(g-m),D=p-(p-f)*t,F=y-(y-w)*t,$=A-(A-k)*t,I=_-(_-x)*t}else{let t;t=e>b?1:m===b?0:(m-e)/(m-b),D=f-(f-v)*t,F=w-(w-C)*t,$=k-(k-P)*t,I=x-(x-S)*t}let t;t=e<g?0:e>b?1:(g-e)/(g-b),M=p-(p-v)*t,N=y-(y-C)*t,j=A-(A-P)*t,O=_-(_-S)*t;const n=Math.round(Math.min(D,M)),r=Math.round(Math.max(D,M));let a=h*e+4*n;for(let e=n;e<=r;e++)t=(D-e)/(D-M),t<0?t=0:t>1&&(t=1),u[a++]=F-(F-N)*t|0,u[a++]=$-($-j)*t|0,u[a++]=I-(I-O)*t|0,u[a++]=255}}function t(t,n,r){const a=n.coords,i=n.colors;let s,o;switch(n.type){case"lattice":const l=n.verticesPerRow,c=Math.floor(a.length/l)-1,u=l-1;for(s=0;s<c;s++){let n=s*l;for(let s=0;s<u;s++,n++)e(t,r,a[n],a[n+1],a[n+l],i[n],i[n+1],i[n+l]),e(t,r,a[n+l+1],a[n+1],a[n+l],i[n+l+1],i[n+1],i[n+l])}break;case"triangles":for(s=0,o=a.length;s<o;s+=3)e(t,r,a[s],a[s+1],a[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}return function(e,n,r,a,i,s,o,l){const c=Math.floor(e[0]),u=Math.floor(e[1]),h=Math.ceil(e[2])-c,d=Math.ceil(e[3])-u,p=Math.min(Math.ceil(Math.abs(h*n[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(d*n[1]*1.1)),3e3),f=h/p,m=d/g,v={coords:r,colors:a,offsetX:-c,offsetY:-u,scaleX:1/f,scaleY:1/m},b=p+4,y=g+4;let A,_,w,k;if(l.isEnabled)A=l.drawFigures({width:p,height:g,backgroundColor:s,figures:i,context:v}),_=o.getCanvas("mesh",b,y,!1),_.context.drawImage(A,2,2),A=_.canvas;else{_=o.getCanvas("mesh",b,y,!1);const e=_.context,n=e.createImageData(p,g);if(s){const e=n.data;for(w=0,k=e.length;w<k;w+=4)e[w]=s[0],e[w+1]=s[1],e[w+2]=s[2],e[w+3]=255}for(w=0;w<i.length;w++)t(n,i[w],v);e.putImageData(n,2,2),A=_.canvas}return{canvas:A,offsetX:c-2*f,offsetY:u-2*m,scaleX:f,scaleY:m}}}();a.Mesh={fromIR:function(e){const t=e[2],n=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return{getPattern:function(e,h,d){let p;if(i(e,c),d)p=r.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(p=r.Util.singularValueDecompose2dScale(h.baseTransform),l){const e=r.Util.singularValueDecompose2dScale(l);p=[p[0]*e[0],p[1]*e[1]]}const g=s(o,p,t,n,a,d?null:u,h.cachedCanvases,h.webGLContext);return d||(e.setTransform.apply(e,h.baseTransform),l&&e.transform.apply(e,l)),e.translate(g.offsetX,g.offsetY),e.scale(g.scaleX,g.scaleY),e.createPattern(g.canvas,"no-repeat")}}}},a.Dummy={fromIR:function(){return{getPattern:function(){return"hotpink"}}}};const o=function(){const e=1,t=2;function n(e,t,n,r,a){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=r,this.baseTransform=a,this.ctx=n}return n.prototype={createPatternCanvas:function(e){const t=this.operatorList,n=this.bbox,a=this.xstep,i=this.ystep,s=this.paintType,o=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+o);const u=n[0],h=n[1],d=n[2],p=n[3],g=r.Util.singularValueDecompose2dScale(this.matrix),f=r.Util.singularValueDecompose2dScale(this.baseTransform),m=[g[0]*f[0],g[1]*f[1]],v=this.getSizeAndScale(a,this.ctx.canvas.width,m[0]),b=this.getSizeAndScale(i,this.ctx.canvas.height,m[1]),y=e.cachedCanvases.getCanvas("pattern",v.size,b.size,!0),A=y.context,_=c.createCanvasGraphics(A);return _.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(_,s,l),_.transform(v.scale,0,0,b.scale,0,0),_.transform(1,0,0,1,-u,-h),this.clipBbox(_,n,u,h,d,p),_.executeOperatorList(t),this.ctx.transform(1,0,0,1,u,h),this.ctx.scale(1/v.scale,1/b.scale),y.canvas},getSizeAndScale:function(e,t,n){e=Math.abs(e);const r=Math.max(3e3,t);let a=Math.ceil(e*n);return a>=r?a=r:n=a/e,{scale:n,size:a}},clipBbox:function(e,t,n,r,a,i){if(Array.isArray(t)&&4===t.length){const t=a-n,s=i-r;e.ctx.rect(n,r,t,s),e.clip(),e.endPath()}},setFillAndStrokeStyleToContext:function(n,a,i){const s=n.ctx,o=n.current;switch(a){case e:const n=this.ctx;s.fillStyle=n.fillStyle,s.strokeStyle=n.strokeStyle,o.fillColor=n.fillStyle,o.strokeColor=n.strokeStyle;break;case t:const l=r.Util.makeHexColor(i[0],i[1],i[2]);s.fillStyle=l,s.strokeStyle=l,o.fillColor=l,o.strokeColor=l;break;default:throw new r.FormatError(`Unsupported paint type: ${a}`)}},getPattern:function(e,t){(e=this.ctx).setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix);const n=this.createPatternCanvas(t);return e.createPattern(n,"repeat")}},n}();t.TilingPattern=o},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=void 0===n.workerPort?null:n.workerPort,n.workerSrc=void 0===n.workerSrc?"":n.workerSrc},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var r=n(2);const a=1,i=2,s=1,o=2,l=3,c=4,u=5,h=6,d=7,p=8;function g(e){if("object"!=typeof e||null===e)return e;switch(e.name){case"AbortException":return new r.AbortException(e.message);case"MissingPDFException":return new r.MissingPDFException(e.message);case"UnexpectedResponseException":return new r.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new r.UnknownErrorException(e.message,e.details);default:return new r.UnknownErrorException(e.message,e.toString())}}t.MessageHandler=class{constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{const t=e.data;if(t.targetName!==this.sourceName)return;if(t.stream)return void this._processStreamMessage(t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error(`Cannot resolve callback ${e}`);if(delete this.callbackCapabilities[e],t.callback===a)n.resolve(t.data);else{if(t.callback!==i)throw new Error("Unexpected callback case");n.reject(g(t.reason))}return}const r=this.actionHandler[t.action];if(!r)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const e=this.sourceName,s=t.sourceName;new Promise((function(e){e(r(t.data))})).then((function(r){n.postMessage({sourceName:e,targetName:s,callback:a,callbackId:t.callbackId,data:r})}),(function(r){n.postMessage({sourceName:e,targetName:s,callback:i,callbackId:t.callbackId,reason:g(r)})}))}else t.streamId?this._createStreamSink(t):r(t.data)},n.addEventListener("message",this._onComObjOnMessage)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const a=this.callbackId++,i=(0,r.createPromiseCapability)();this.callbackCapabilities[a]=i;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:a,data:t},n)}catch(e){i.reject(e)}return i.promise}sendWithStream(e,t,n,a){const i=this.streamId++,o=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:n=>{const s=(0,r.createPromiseCapability)();return this.streamControllers[i]={controller:n,startCall:s,pullCall:null,cancelCall:null,isClosed:!1},this._postMessage({sourceName:o,targetName:l,action:e,streamId:i,data:t,desiredSize:n.desiredSize},a),s.promise},pull:e=>{const t=(0,r.createPromiseCapability)();return this.streamControllers[i].pullCall=t,c.postMessage({sourceName:o,targetName:l,stream:h,streamId:i,desiredSize:e.desiredSize}),t.promise},cancel:e=>{(0,r.assert)(e instanceof Error,"cancel must have a valid reason");const t=(0,r.createPromiseCapability)();return this.streamControllers[i].cancelCall=t,this.streamControllers[i].isClosed=!0,c.postMessage({sourceName:o,targetName:l,stream:s,streamId:i,reason:g(e)}),t.promise}},n)}_createStreamSink(e){const t=this,n=this.actionHandler[e.action],a=e.streamId,i=this.sourceName,s=e.sourceName,o=this.comObj,h={enqueue(e,n=1,o){if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=n,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),t._postMessage({sourceName:i,targetName:s,stream:c,streamId:a,chunk:e},o)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:s,stream:l,streamId:a}),delete t.streamSinks[a])},error(e){(0,r.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:s,stream:u,streamId:a,reason:g(e)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[a]=h,new Promise((function(t){t(n(e.data,h))})).then((function(){o.postMessage({sourceName:i,targetName:s,stream:p,streamId:a,success:!0})}),(function(e){o.postMessage({sourceName:i,targetName:s,stream:p,streamId:a,reason:g(e)})}))}_processStreamMessage(e){const t=e.streamId,n=this.sourceName,a=e.sourceName,i=this.comObj;switch(e.stream){case p:e.success?this.streamControllers[t].startCall.resolve():this.streamControllers[t].startCall.reject(g(e.reason));break;case d:e.success?this.streamControllers[t].pullCall.resolve():this.streamControllers[t].pullCall.reject(g(e.reason));break;case h:if(!this.streamSinks[t]){i.postMessage({sourceName:n,targetName:a,stream:d,streamId:t,success:!0});break}this.streamSinks[t].desiredSize<=0&&e.desiredSize>0&&this.streamSinks[t].sinkCapability.resolve(),this.streamSinks[t].desiredSize=e.desiredSize;const{onPull:f}=this.streamSinks[e.streamId];new Promise((function(e){e(f&&f())})).then((function(){i.postMessage({sourceName:n,targetName:a,stream:d,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:a,stream:d,streamId:t,reason:g(e)})}));break;case c:if((0,r.assert)(this.streamControllers[t],"enqueue should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].controller.enqueue(e.chunk);break;case l:if((0,r.assert)(this.streamControllers[t],"close should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].isClosed=!0,this.streamControllers[t].controller.close(),this._deleteStreamController(t);break;case u:(0,r.assert)(this.streamControllers[t],"error should have stream controller"),this.streamControllers[t].controller.error(g(e.reason)),this._deleteStreamController(t);break;case o:e.success?this.streamControllers[t].cancelCall.resolve():this.streamControllers[t].cancelCall.reject(g(e.reason)),this._deleteStreamController(t);break;case s:if(!this.streamSinks[t])break;const{onCancel:m}=this.streamSinks[e.streamId];new Promise((function(t){t(m&&m(g(e.reason)))})).then((function(){i.postMessage({sourceName:n,targetName:a,stream:o,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:a,stream:o,streamId:t,reason:g(e)})})),this.streamSinks[t].sinkCapability.reject(g(e.reason)),this.streamSinks[t].isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(e){await Promise.allSettled([this.streamControllers[e].startCall,this.streamControllers[e].pullCall,this.streamControllers[e].cancelCall].map((function(e){return e&&e.promise}))),delete this.streamControllers[e]}_postMessage(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(2);t.Metadata=class{constructor({parsedData:e,rawData:t}){this._metadataMap=e,this._data=t}getRaw(){return this._data}get(e){return this._metadataMap.get(e)??null}getAll(){return(0,r.objectFromEntries)(this._metadataMap)}has(e){return this._metadataMap.has(e)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var r=n(2);class a{constructor(e,t){this.visible=!0,this.name=e,this.intent=t}}t.OptionalContentConfig=class{constructor(e){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==e){this.name=e.name,this.creator=e.creator,this._order=e.order;for(const t of e.groups)this._groups.set(t.id,new a(t.name,t.intent));if("OFF"===e.baseState)for(const e of this._groups)e.visible=!1;for(const t of e.on)this._groups.get(t).visible=!0;for(const t of e.off)this._groups.get(t).visible=!1}}isVisible(e){if("OCG"===e.type)return this._groups.has(e.id)?this._groups.get(e.id).visible:((0,r.warn)(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression&&(0,r.warn)("Visibility expression not supported yet."),!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this._groups.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(this._groups.get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!this._groups.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(!this._groups.get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!this._groups.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(!this._groups.get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!this._groups.has(t))return(0,r.warn)(`Optional content group not found: ${t}`),!0;if(this._groups.get(t).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${e.policy}.`),!0}return(0,r.warn)(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){this._groups.has(e)?this._groups.get(e).visible=!!t:(0,r.warn)(`Optional content group not found: ${e}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size?(0,r.objectFromEntries)(this._groups):null}getGroup(e){return this._groups.get(e)||null}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var r=n(2),a=n(1);t.PDFDataTransportStream=class{constructor(e,t){(0,r.assert)(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1,this._contentDispositionFilename=e.contentDispositionFilename||null;const n=e.initialData;if(n?.length>0){const e=new Uint8Array(n).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){const t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{const n=this._rangeReaders.some((function(n){return n._begin===e.begin&&(n._enqueue(t),!0)}));(0,r.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){if(void 0===e.total){const t=this._rangeReaders[0];t?.onProgress&&t.onProgress({loaded:e.loaded})}else{const t=this._fullRequestReader;t?.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new i(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new s(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeReaders.slice(0).forEach((function(t){t.cancel(e)})),this._pdfDataRangeTransport.abort()}};class i{constructor(e,t,n=!1,r=null){this._stream=e,this._done=n||!1,this._filename=(0,a.isPdfFile)(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const e of this._queuedChunks)this._loaded+=e.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[]}progressiveDone(){this._done||(this._done=!0)}}class s{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){this._done||(0===this._requests.length?this._queuedChunk=e:(this._requests.shift().resolve({value:e,done:!1}),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._stream._removeRangeReader(this)}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var r=n(2);t.WebGLContext=class{constructor({enable:e=!1}){this._enabled=!0===e}get isEnabled(){let e=this._enabled;return e&&(e=a.tryInitGL()),(0,r.shadow)(this,"isEnabled",e)}composeSMask({layer:e,mask:t,properties:n}){return a.composeSMask(e,t,n)}drawFigures({width:e,height:t,backgroundColor:n,figures:r,context:i}){return a.drawFigures(e,t,n,r,i)}clear(){a.cleanup()}};const a=function(){function e(e,t,n){const r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){const t=e.getShaderInfoLog(r);throw new Error("Error during shader compilation: "+t)}return r}function t(t,n){return e(t,n,t.VERTEX_SHADER)}function n(t,n){return e(t,n,t.FRAGMENT_SHADER)}function r(e,t){const n=e.createProgram();for(let r=0,a=t.length;r<a;++r)e.attachShader(n,t[r]);if(e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){const t=e.getProgramInfoLog(n);throw new Error("Error during program linking: "+t)}return n}function a(e,t,n){e.activeTexture(n);const r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),r}let i,s;function o(){i||(s=document.createElement("canvas"),i=s.getContext("webgl",{premultipliedalpha:!1}))}let l=null,c=null;return{tryInitGL(){try{return o(),!!i}catch(e){}return!1},composeSMask:function(e,c,u){const h=e.width,d=e.height;l||function(){o();const e=s;s=null;const a=i;i=null;const c=r(a,[t(a,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),n(a,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);a.useProgram(c);const u={};u.gl=a,u.canvas=e,u.resolutionLocation=a.getUniformLocation(c,"u_resolution"),u.positionLocation=a.getAttribLocation(c,"a_position"),u.backdropLocation=a.getUniformLocation(c,"u_backdrop"),u.subtypeLocation=a.getUniformLocation(c,"u_subtype");const h=a.getAttribLocation(c,"a_texCoord"),d=a.getUniformLocation(c,"u_image"),p=a.getUniformLocation(c,"u_mask"),g=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,g),a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),a.STATIC_DRAW),a.enableVertexAttribArray(h),a.vertexAttribPointer(h,2,a.FLOAT,!1,0,0),a.uniform1i(d,0),a.uniform1i(p,1),l=u}();const p=l,g=p.canvas,f=p.gl;g.width=h,g.height=d,f.viewport(0,0,f.drawingBufferWidth,f.drawingBufferHeight),f.uniform2f(p.resolutionLocation,h,d),u.backdrop?f.uniform4f(p.resolutionLocation,u.backdrop[0],u.backdrop[1],u.backdrop[2],1):f.uniform4f(p.resolutionLocation,0,0,0,0),f.uniform1i(p.subtypeLocation,"Luminosity"===u.subtype?1:0);const m=a(f,e,f.TEXTURE0),v=a(f,c,f.TEXTURE1),b=f.createBuffer();return f.bindBuffer(f.ARRAY_BUFFER,b),f.bufferData(f.ARRAY_BUFFER,new Float32Array([0,0,h,0,0,d,0,d,h,0,h,d]),f.STATIC_DRAW),f.enableVertexAttribArray(p.positionLocation),f.vertexAttribPointer(p.positionLocation,2,f.FLOAT,!1,0,0),f.clearColor(0,0,0,0),f.enable(f.BLEND),f.blendFunc(f.ONE,f.ONE_MINUS_SRC_ALPHA),f.clear(f.COLOR_BUFFER_BIT),f.drawArrays(f.TRIANGLES,0,6),f.flush(),f.deleteTexture(m),f.deleteTexture(v),f.deleteBuffer(b),g},drawFigures:function(e,a,l,u,h){c||function(){o();const e=s;s=null;const a=i;i=null;const l=r(a,[t(a,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),n(a,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);a.useProgram(l);const u={};u.gl=a,u.canvas=e,u.resolutionLocation=a.getUniformLocation(l,"u_resolution"),u.scaleLocation=a.getUniformLocation(l,"u_scale"),u.offsetLocation=a.getUniformLocation(l,"u_offset"),u.positionLocation=a.getAttribLocation(l,"a_position"),u.colorLocation=a.getAttribLocation(l,"a_color"),c=u}();const d=c,p=d.canvas,g=d.gl;p.width=e,p.height=a,g.viewport(0,0,g.drawingBufferWidth,g.drawingBufferHeight),g.uniform2f(d.resolutionLocation,e,a);let f=0;for(let e=0,t=u.length;e<t;e++)switch(u[e].type){case"lattice":f+=((u[e].coords.length/u[e].verticesPerRow|0)-1)*(u[e].verticesPerRow-1)*6;break;case"triangles":f+=u[e].coords.length}const m=new Float32Array(2*f),v=new Uint8Array(3*f),b=h.coords,y=h.colors;let A=0,_=0;for(let e=0,t=u.length;e<t;e++){const t=u[e],n=t.coords,r=t.colors;switch(t.type){case"lattice":const e=t.verticesPerRow,a=n.length/e|0;for(let t=1;t<a;t++){let a=t*e+1;for(let t=1;t<e;t++,a++)m[A]=b[n[a-e-1]],m[A+1]=b[n[a-e-1]+1],m[A+2]=b[n[a-e]],m[A+3]=b[n[a-e]+1],m[A+4]=b[n[a-1]],m[A+5]=b[n[a-1]+1],v[_]=y[r[a-e-1]],v[_+1]=y[r[a-e-1]+1],v[_+2]=y[r[a-e-1]+2],v[_+3]=y[r[a-e]],v[_+4]=y[r[a-e]+1],v[_+5]=y[r[a-e]+2],v[_+6]=y[r[a-1]],v[_+7]=y[r[a-1]+1],v[_+8]=y[r[a-1]+2],m[A+6]=m[A+2],m[A+7]=m[A+3],m[A+8]=m[A+4],m[A+9]=m[A+5],m[A+10]=b[n[a]],m[A+11]=b[n[a]+1],v[_+9]=v[_+3],v[_+10]=v[_+4],v[_+11]=v[_+5],v[_+12]=v[_+6],v[_+13]=v[_+7],v[_+14]=v[_+8],v[_+15]=y[r[a]],v[_+16]=y[r[a]+1],v[_+17]=y[r[a]+2],A+=12,_+=18}break;case"triangles":for(let e=0,t=n.length;e<t;e++)m[A]=b[n[e]],m[A+1]=b[n[e]+1],v[_]=y[r[e]],v[_+1]=y[r[e]+1],v[_+2]=y[r[e]+2],A+=2,_+=3}}l?g.clearColor(l[0]/255,l[1]/255,l[2]/255,1):g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT);const w=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,w),g.bufferData(g.ARRAY_BUFFER,m,g.STATIC_DRAW),g.enableVertexAttribArray(d.positionLocation),g.vertexAttribPointer(d.positionLocation,2,g.FLOAT,!1,0,0);const k=g.createBuffer();return g.bindBuffer(g.ARRAY_BUFFER,k),g.bufferData(g.ARRAY_BUFFER,v,g.STATIC_DRAW),g.enableVertexAttribArray(d.colorLocation),g.vertexAttribPointer(d.colorLocation,3,g.UNSIGNED_BYTE,!1,0,0),g.uniform2f(d.scaleLocation,h.scaleX,h.scaleY),g.uniform2f(d.offsetLocation,h.offsetX,h.offsetY),g.drawArrays(g.TRIANGLES,0,f),g.flush(),g.deleteBuffer(w),g.deleteBuffer(k),p},cleanup(){l?.canvas&&(l.canvas.width=0,l.canvas.height=0),c?.canvas&&(c.canvas.width=0,c.canvas.height=0),l=null,c=null}}}()},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var r=n(1),a=n(2),i=n(8),s=n(19);class o{static create(e){switch(e.data.annotationType){case a.AnnotationType.LINK:return new c(e);case a.AnnotationType.TEXT:return new u(e);case a.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new d(e);case"Btn":return e.data.radioButton?new g(e):e.data.checkBox?new p(e):new f(e);case"Ch":return new m(e)}return new h(e);case a.AnnotationType.POPUP:return new v(e);case a.AnnotationType.FREETEXT:return new y(e);case a.AnnotationType.LINE:return new A(e);case a.AnnotationType.SQUARE:return new _(e);case a.AnnotationType.CIRCLE:return new w(e);case a.AnnotationType.POLYLINE:return new k(e);case a.AnnotationType.CARET:return new C(e);case a.AnnotationType.INK:return new P(e);case a.AnnotationType.POLYGON:return new x(e);case a.AnnotationType.HIGHLIGHT:return new S(e);case a.AnnotationType.UNDERLINE:return new T(e);case a.AnnotationType.SQUIGGLY:return new E(e);case a.AnnotationType.STRIKEOUT:return new D(e);case a.AnnotationType.STAMP:return new F(e);case a.AnnotationType.FILEATTACHMENT:return new $(e);default:return new l(e)}}}class l{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderInteractiveForms=e.renderInteractiveForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._mouseState=e.mouseState,t&&(this.container=this._createContainer(n)),r&&(this.quadrilaterals=this._createQuadrilaterals(n))}_createContainer(e=!1){const t=this.data,n=this.page,r=this.viewport,i=document.createElement("section");let s=t.rect[2]-t.rect[0],o=t.rect[3]-t.rect[1];i.setAttribute("data-annotation-id",t.id);const l=a.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(i.style.transform=`matrix(${r.transform.join(",")})`,i.style.transformOrigin=`${-l[0]}px ${-l[1]}px`,!e&&t.borderStyle.width>0){i.style.borderWidth=`${t.borderStyle.width}px`,t.borderStyle.style!==a.AnnotationBorderStyleType.UNDERLINE&&(s-=2*t.borderStyle.width,o-=2*t.borderStyle.width);const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`${e}px / ${n}px`;i.style.borderRadius=t}switch(t.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:i.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:i.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:i.style.borderBottomStyle="solid"}t.color?i.style.borderColor=a.Util.makeHexColor(0|t.color[0],0|t.color[1],0|t.color[2]):i.style.borderWidth=0}return i.style.left=`${l[0]}px`,i.style.top=`${l[1]}px`,i.style.width=`${s}px`,i.style.height=`${o}px`,i}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const t=[],n=this.data.rect;for(const n of this.data.quadPoints)this.data.rect=[n[2].x,n[2].y,n[1].x,n[1].y],t.push(this._createContainer(e));return this.data.rect=n,t}_createPopup(e,t){let n=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,n=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=n.style.height,e.style.width=n.style.width,n.appendChild(e));const r=new b({container:n,trigger:e,color:t.color,title:t.title,modificationDate:t.modificationDate,contents:t.contents,hideWrapper:!0}).render();r.style.left=n.style.width,n.appendChild(r)}_renderQuadrilaterals(e){return this.quadrilaterals.forEach((t=>{t.className=e})),this.quadrilaterals}render(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}}class c extends l{constructor(e){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),createQuadrilaterals:!0})}render(){const{data:e,linkService:t}=this,n=document.createElement("a");return e.url?(0,r.addLinkAttributes)(n,{url:e.url,target:e.newWindow?r.LinkTarget.BLANK:t.externalLinkTarget,rel:t.externalLinkRel,enabled:t.externalLinkEnabled}):e.action?this._bindNamedAction(n,e.action):e.dest?this._bindLink(n,e.dest):e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions?this._bindJSAction(n,e):this._bindLink(n,""),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(((e,t)=>{const r=0===t?n:n.cloneNode();return e.appendChild(r),e})):(this.container.className="linkAnnotation",this.container.appendChild(n),this.container)}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&(e.className="internalLink")}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),e.className="internalLink"}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const a=n.get(r);a&&(e[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}e.className="internalLink"}}class u extends l{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class h extends l{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){return navigator.platform.includes("Win")&&e.ctrlKey||navigator.platform.includes("Mac")&&e.metaKey}_setEventListener(e,t,n,r){t.includes("mouse")?e.addEventListener(t,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:r(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(t,(e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:e.target.checked}})}))}_setEventListeners(e,t,n){for(const[r,a]of t)("Action"===a||this.data.actions?.[a])&&this._setEventListener(e,r,a,n)}_setColor(e){const{detail:t,target:n}=e,{style:r}=n;for(const e of["bgColor","fillColor","fgColor","textColor","borderColor","strokeColor"]){let n=t[e];if(n)switch(n=s.ColorConverters[`${n[0]}_HTML`](n.slice(1)),e){case"bgColor":case"fillColor":r.backgroundColor=n;break;case"fgColor":case"textColor":r.color=n;break;case"borderColor":case"strokeColor":r.borderColor=n}}}}class d extends h{constructor(e){super(e,{isRenderable:e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue})}render(){const e=this.annotationStorage,t=this.data.id;this.container.className="textWidgetAnnotation";let n=null;if(this.renderInteractiveForms){const r=e.getValue(t,{value:this.data.fieldValue}).value,a={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=r):(n=document.createElement("input"),n.type="text",n.setAttribute("value",r)),a.userValue=r,n.setAttribute("id",t),n.addEventListener("input",(function(n){e.setValue(t,{value:n.target.value})}));let i=e=>{a.formattedValue&&(e.target.value=a.formattedValue),e.target.setSelectionRange(0,0),a.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",(e=>{a.userValue&&(e.target.value=a.userValue)})),n.addEventListener("updatefromsandbox",(n=>{const{detail:r}=n,i={value(){a.userValue=r.value||"",e.setValue(t,{value:a.userValue.toString()}),a.formattedValue||(n.target.value=a.userValue)},valueAsString(){a.formattedValue=r.valueAsString||"",n.target!==document.activeElement&&(n.target.value=a.formattedValue),e.setValue(t,{formattedValue:a.formattedValue})},focus(){setTimeout((()=>n.target.focus({preventScroll:!1})),0)},userName(){n.target.title=r.userName},hidden(){n.target.style.visibility=r.hidden?"hidden":"visible",e.setValue(t,{hidden:r.hidden})},editable(){n.target.disabled=!r.editable},selRange(){const[e,t]=r.selRange;e>=0&&t<n.target.value.length&&n.target.setSelectionRange(e,t)}};Object.keys(r).filter((e=>e in i)).forEach((e=>i[e]())),this._setColor(n)})),n.addEventListener("keydown",(e=>{a.beforeInputValue=e.target.value;let n=-1;"Escape"===e.key?n=0:"Enter"===e.key?n=2:"Tab"===e.key&&(n=3),-1!==n&&(a.userValue=e.target.value,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:e.target.value,willCommit:!0,commitKey:n,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const r=i;i=null,n.addEventListener("blur",(e=>{this._mouseState.isDown&&(a.userValue=e.target.value,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:e.target.value,willCommit:!0,commitKey:1,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}})),r(e)})),n.addEventListener("mousedown",(e=>{a.beforeInputValue=e.target.value,a.beforeInputSelectionRange=null})),n.addEventListener("keyup",(e=>{e.target.selectionStart===e.target.selectionEnd&&(a.beforeInputSelectionRange=null)})),n.addEventListener("select",(e=>{a.beforeInputSelectionRange=[e.target.selectionStart,e.target.selectionEnd]})),this.data.actions?.Keystroke&&n.addEventListener("input",(e=>{let n=-1,r=-1;a.beforeInputSelectionRange&&([n,r]=a.beforeInputSelectionRange),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a.beforeInputValue,change:e.data,willCommit:!1,selStart:n,selEnd:r}})})),this._setEventListeners(n,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(i&&n.addEventListener("blur",i),n.disabled=this.data.readOnly,n.name=this.data.fieldName,null!==this.data.maxLen&&(n.maxLength=this.data.maxLen),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;n.classList.add("comb"),n.style.letterSpacing=`calc(${e}px - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell";return this._setTextStyle(n),this.container.appendChild(n),this.container}_setTextStyle(e){const t=["left","center","right"],{fontSize:n,fontColor:r}=this.data.defaultAppearanceData,i=e.style;n&&(i.fontSize=`${n}px`),i.color=a.Util.makeHexColor(r[0],r[1],r[2]),null!==this.data.textAlignment&&(i.textAlign=t[this.data.textAlignment])}}class p extends h{constructor(e){super(e,{isRenderable:e.renderInteractiveForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id,r=e.getValue(n,{value:t.fieldValue&&(t.exportValue&&t.exportValue===t.fieldValue||!t.exportValue&&"Off"!==t.fieldValue)}).value;this.container.className="buttonWidgetAnnotation checkBox";const a=document.createElement("input");return a.disabled=t.readOnly,a.type="checkbox",a.name=this.data.fieldName,r&&a.setAttribute("checked",!0),a.setAttribute("id",n),a.addEventListener("change",(function(t){const r=t.target.name;for(const n of document.getElementsByName(r))n!==t.target&&(n.checked=!1,e.setValue(n.parentNode.getAttribute("data-annotation-id"),{value:!1}));e.setValue(n,{value:t.target.checked})})),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",(t=>{const{detail:r}=t,a={value(){t.target.checked="Off"!==r.value,e.setValue(n,{value:t.target.checked})},focus(){setTimeout((()=>t.target.focus({preventScroll:!1})),0)},hidden(){t.target.style.visibility=r.hidden?"hidden":"visible",e.setValue(n,{hidden:r.hidden})},editable(){t.target.disabled=!r.editable}};Object.keys(r).filter((e=>e in a)).forEach((e=>a[e]())),this._setColor(t)})),this._setEventListeners(a,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this.container.appendChild(a),this.container}}class g extends h{constructor(e){super(e,{isRenderable:e.renderInteractiveForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,t=this.data,n=t.id,r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value,a=document.createElement("input");if(a.disabled=t.readOnly,a.type="radio",a.name=t.fieldName,r&&a.setAttribute("checked",!0),a.setAttribute("id",n),a.addEventListener("change",(function(t){const{target:r}=t;for(const t of document.getElementsByName(r.name))t!==r&&e.setValue(t.getAttribute("id"),{value:!1});e.setValue(n,{value:r.checked})})),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;a.addEventListener("updatefromsandbox",(t=>{const{detail:a}=t,i={value(){const i=r===a.value;for(const r of document.getElementsByName(t.target.name)){const t=r.getAttribute("id");r.checked=t===n&&i,e.setValue(t,{value:r.checked})}},focus(){setTimeout((()=>t.target.focus({preventScroll:!1})),0)},hidden(){t.target.style.visibility=a.hidden?"hidden":"visible",e.setValue(n,{hidden:a.hidden})},editable(){t.target.disabled=!a.editable}};Object.keys(a).filter((e=>e in i)).forEach((e=>i[e]())),this._setColor(t)})),this._setEventListeners(a,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this.container.appendChild(a),this.container}}class f extends c{render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),e}}class m extends h{constructor(e){super(e,{isRenderable:e.renderInteractiveForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,t=this.data.id;e.getValue(t,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});const n=document.createElement("select");n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.setAttribute("id",t),this.data.combo||(n.size=this.data.options.length,this.data.multiSelect&&(n.multiple=!0));for(const e of this.data.options){const t=document.createElement("option");t.textContent=e.displayValue,t.value=e.exportValue,this.data.fieldValue.includes(e.exportValue)&&t.setAttribute("selected",!0),n.appendChild(t)}const r=(e,t)=>{const n=t?"value":"textContent",r=e.target.options;return e.target.multiple?Array.prototype.filter.call(r,(e=>e.selected)).map((e=>e[n])):-1===r.selectedIndex?null:r[r.selectedIndex][n]},a=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(n.addEventListener("updatefromsandbox",(i=>{const{detail:s}=i,o={value(){const a=n.options,o=s.value,l=new Set(Array.isArray(o)?o:[o]);Array.prototype.forEach.call(a,(e=>{e.selected=l.has(e.value)})),e.setValue(t,{value:r(i,!0)})},multipleSelection(){n.multiple=!0},remove(){const o=n.options,l=s.remove;o[l].selected=!1,n.remove(l),o.length>0&&-1===Array.prototype.findIndex.call(o,(e=>e.selected))&&(o[0].selected=!0),e.setValue(t,{value:r(i,!0),items:a(i)})},clear(){for(;0!==n.length;)n.remove(0);e.setValue(t,{value:null,items:[]})},insert(){const{index:o,displayValue:l,exportValue:c}=s.insert,u=document.createElement("option");u.textContent=l,u.value=c,n.insertBefore(u,n.children[o]),e.setValue(t,{value:r(i,!0),items:a(i)})},items(){const{items:o}=s;for(;0!==n.length;)n.remove(0);for(const e of o){const{displayValue:t,exportValue:r}=e,a=document.createElement("option");a.textContent=t,a.value=r,n.appendChild(a)}n.options.length>0&&(n.options[0].selected=!0),e.setValue(t,{value:r(i,!0),items:a(i)})},indices(){const n=new Set(s.indices),a=i.target.options;Array.prototype.forEach.call(a,((e,t)=>{e.selected=n.has(t)})),e.setValue(t,{value:r(i,!0)})},focus(){setTimeout((()=>i.target.focus({preventScroll:!1})),0)},hidden(){i.target.style.visibility=s.hidden?"hidden":"visible",e.setValue(t,{hidden:s.hidden})},editable(){i.target.disabled=!s.editable}};Object.keys(s).filter((e=>e in o)).forEach((e=>o[e]())),this._setColor(i)})),n.addEventListener("input",(n=>{const a=r(n,!0),i=r(n,!1);e.setValue(t,{value:a}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,changeEx:a,willCommit:!0,commitKey:1,keyDown:!1}})})),this._setEventListeners(n,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],(e=>e.target.checked))):n.addEventListener("input",(function(n){e.setValue(t,{value:r(n)})})),this.container.appendChild(n),this.container}}class v extends l{constructor(e){super(e,{isRenderable:!(!e.data.title&&!e.data.contents)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const e=`[data-annotation-id="${this.data.parentId}"]`,t=this.layer.querySelectorAll(e);if(0===t.length)return this.container;const n=new b({container:this.container,trigger:Array.from(t),color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),r=this.page,i=a.Util.normalizeRect([this.data.parentRect[0],r.view[3]-this.data.parentRect[1]+r.view[1],this.data.parentRect[2],r.view[3]-this.data.parentRect[3]+r.view[1]]),s=i[0]+this.data.parentRect[2]-this.data.parentRect[0],o=i[1];return this.container.style.transformOrigin=`${-s}px ${-o}px`,this.container.style.left=`${s}px`,this.container.style.top=`${o}px`,this.container.appendChild(n.render()),this.container}}class b{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.title=e.title,this.modificationDate=e.modificationDate,this.contents=e.contents,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.hidden=!0;const t=document.createElement("div");t.className="popup";const n=this.color;if(n){const e=.7*(255-n[0])+n[0],r=.7*(255-n[1])+n[1],i=.7*(255-n[2])+n[2];t.style.backgroundColor=a.Util.makeHexColor(0|e,0|r,0|i)}const i=document.createElement("h1");i.textContent=this.title,t.appendChild(i);const s=r.PDFDateString.toDateObject(this.modificationDate);if(s){const e=document.createElement("span");e.textContent="{{date}}, {{time}}",e.dataset.l10nId="annotation_date_string",e.dataset.l10nArgs=JSON.stringify({date:s.toLocaleDateString(),time:s.toLocaleTimeString()}),t.appendChild(e)}const o=this._formatContents(this.contents);return t.appendChild(o),Array.isArray(this.trigger)||(this.trigger=[this.trigger]),this.trigger.forEach((e=>{e.addEventListener("click",this._toggle.bind(this)),e.addEventListener("mouseover",this._show.bind(this,!1)),e.addEventListener("mouseout",this._hide.bind(this,!1))})),t.addEventListener("click",this._hide.bind(this,!0)),e.appendChild(t),e}_formatContents(e){const t=document.createElement("p"),n=e.split(/(?:\r\n?|\n)/);for(let e=0,r=n.length;e<r;++e){const a=n[e];t.appendChild(document.createTextNode(a)),e<r-1&&t.appendChild(document.createElement("br"))}return t}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class y extends l{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class A extends l{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),a=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),r.appendChild(a),this.container.append(r),this._createPopup(a,e),this.container}}class _ extends l{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),a=e.borderStyle.width,i=this.svgFactory.createElement("svg:rect");return i.setAttribute("x",a/2),i.setAttribute("y",a/2),i.setAttribute("width",t-a),i.setAttribute("height",n-a),i.setAttribute("stroke-width",a||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","none"),r.appendChild(i),this.container.append(r),this._createPopup(i,e),this.container}}class w extends l{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),a=e.borderStyle.width,i=this.svgFactory.createElement("svg:ellipse");return i.setAttribute("cx",t/2),i.setAttribute("cy",n/2),i.setAttribute("rx",t/2-a/2),i.setAttribute("ry",n/2-a/2),i.setAttribute("stroke-width",a||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","none"),r.appendChild(i),this.container.append(r),this._createPopup(i,e),this.container}}class k extends l{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n);let a=[];for(const t of e.vertices){const n=t.x-e.rect[0],r=e.rect[3]-t.y;a.push(n+","+r)}a=a.join(" ");const i=this.svgFactory.createElement(this.svgElementName);return i.setAttribute("points",a),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","none"),r.appendChild(i),this.container.append(r),this._createPopup(i,e),this.container}}class x extends k{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class C extends l{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class P extends l{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n);for(const t of e.inkLists){let n=[];for(const r of t){const t=r.x-e.rect[0],a=e.rect[3]-r.y;n.push(`${t},${a}`)}n=n.join(" ");const a=this.svgFactory.createElement(this.svgElementName);a.setAttribute("points",n),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","none"),this._createPopup(a,e),r.appendChild(a)}return this.container.append(r),this.container}}class S extends l{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class T extends l{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class E extends l{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class D extends l{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class F extends l{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.title||e.data.contents),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class $ extends l{constructor(e){super(e,{isRenderable:!0});const{filename:t,content:n}=this.data.file;this.filename=(0,r.getFilenameFromUrl)(t),this.content=n,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,id:(0,a.stringToPDFString)(t),filename:t,content:n})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}t.AnnotationLayer=class{static render(e){const t=[],n=[];for(const r of e.annotations)r&&(r.annotationType!==a.AnnotationType.POPUP?t.push(r):n.push(r));n.length&&t.push(...n);for(const n of t){const t=o.create({data:n,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderInteractiveForms:!1!==e.renderInteractiveForms,svgFactory:new r.DOMSVGFactory,annotationStorage:e.annotationStorage||new i.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,mouseState:e.mouseState||{isDown:!1}});if(t.isRenderable){const r=t.render();if(n.hidden&&(r.style.visibility="hidden"),Array.isArray(r))for(const t of r)e.div.appendChild(t);else t instanceof v?e.div.prepend(r):e.div.appendChild(r)}}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;for(const n of e.annotations){const r=e.div.querySelectorAll(`[data-annotation-id="${n.id}"]`);r&&r.forEach((e=>{e.style.transform=t}))}e.div.hidden=!1}}},(e,t)=>{function n(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0,t.ColorConverters=class{static CMYK_G([e,t,n,r]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_HTML([e]){const t=n(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_HTML([e,t,r]){return`#${n(e)}${n(t)}${n(r)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([e,t,n,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,n+r),1-Math.min(1,t+r)]}static CMYK_HTML(e){return this.RGB_HTML(this.CMYK_RGB(e))}static RGB_CMYK([e,t,n]){const r=1-e,a=1-t,i=1-n;return["CMYK",r,a,i,Math.min(r,a,i)]}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var r=n(2);const a=function(){const e=30,t=new Map,n=/\S/;function a(a,i,s,o){const l=document.createElement("span"),c={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(a._textDivs.push(l),u=i.str,!n.test(u))return c.isWhitespace=!0,void a._textDivProperties.set(l,c);var u;const h=r.Util.transform(a._viewport.transform,i.transform);let d=Math.atan2(h[1],h[0]);const p=s[i.fontName];p.vertical&&(d+=Math.PI/2);const g=Math.hypot(h[2],h[3]),f=g*function(n,r){const a=t.get(n);if(a)return a;r.save(),r.font=`30px ${n}`;const i=r.measureText("");let s=i.fontBoundingBoxAscent,o=Math.abs(i.fontBoundingBoxDescent);if(s){r.restore();const e=s/(s+o);return t.set(n,e),e}r.strokeStyle="red",r.clearRect(0,0,e,e),r.strokeText("g",0,0);let l=r.getImageData(0,0,e,e).data;o=0;for(let t=l.length-1-3;t>=0;t-=4)if(l[t]>0){o=Math.ceil(t/4/e);break}r.clearRect(0,0,e,e),r.strokeText("A",0,e),l=r.getImageData(0,0,e,e).data,s=0;for(let t=0,n=l.length;t<n;t+=4)if(l[t]>0){s=e-Math.floor(t/4/e);break}if(r.restore(),s){const e=s/(s+o);return t.set(n,e),e}return t.set(n,.8),.8}(p.fontFamily,o);let m,v;0===d?(m=h[4],v=h[5]-f):(m=h[4]+f*Math.sin(d),v=h[5]-f*Math.cos(d)),l.style.left=`${m}px`,l.style.top=`${v}px`,l.style.fontSize=`${g}px`,l.style.fontFamily=p.fontFamily,l.textContent=i.str,l.dir=i.dir,a._fontInspectorEnabled&&(l.dataset.fontName=i.fontName),0!==d&&(c.angle=d*(180/Math.PI));let b=!1;if(i.str.length>1)b=!0;else if(i.transform[0]!==i.transform[3]){const e=Math.abs(i.transform[0]),t=Math.abs(i.transform[3]);e!==t&&Math.max(e,t)/Math.min(e,t)>1.5&&(b=!0)}if(b&&(p.vertical?c.canvasWidth=i.height*a._viewport.scale:c.canvasWidth=i.width*a._viewport.scale),a._textDivProperties.set(l,c),a._textContentStream&&a._layoutText(l),a._enhanceTextSelection){let e=1,t=0;0!==d&&(e=Math.cos(d),t=Math.sin(d));const n=(p.vertical?i.height:i.width)*a._viewport.scale,s=g;let o,c;0!==d?(o=[e,t,-t,e,m,v],c=r.Util.getAxialAlignedBoundingBox([0,0,n,s],o)):c=[m,v,m+n,v+s],a._bounds.push({left:c[0],top:c[1],right:c[2],bottom:c[3],div:l,size:[n,s],m:o})}}function i(e){if(e._canceled)return;const t=e._textDivs,n=e._capability,r=t.length;if(r>1e5)return e._renderingDone=!0,void n.resolve();if(!e._textContentStream)for(let n=0;n<r;n++)e._layoutText(t[n]);e._renderingDone=!0,n.resolve()}function s(e,t,n){let r=0;for(let a=0;a<n;a++){const n=e[t++];n>0&&(r=r?Math.min(n,r):n)}return r}function o(e){const t=e._bounds,n=e._viewport,a=function(e,t,n){const r=n.map((function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}}));l(e,r);const a=new Array(n.length);return r.forEach((function(e){const t=e.index;a[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}})),n.map((function(t,n){const i=a[n],s=r[n];s.x1=t.top,s.y1=e-i.right,s.x2=t.bottom,s.y2=e-i.left,s.index=n,s.x1New=void 0,s.x2New=void 0})),l(t,r),r.forEach((function(e){const t=e.index;a[t].top=e.x1New,a[t].bottom=e.x2New})),a}(n.width,n.height,t);for(let n=0;n<a.length;n++){const i=t[n].div,o=e._textDivProperties.get(i);if(0===o.angle){o.paddingLeft=t[n].left-a[n].left,o.paddingTop=t[n].top-a[n].top,o.paddingRight=a[n].right-t[n].right,o.paddingBottom=a[n].bottom-t[n].bottom,e._textDivProperties.set(i,o);continue}const l=a[n],c=t[n],u=c.m,h=u[0],d=u[1],p=[[0,0],[0,c.size[1]],[c.size[0],0],c.size],g=new Float64Array(64);p.forEach((function(e,t){const n=r.Util.applyTransform(e,u);g[t+0]=h&&(l.left-n[0])/h,g[t+4]=d&&(l.top-n[1])/d,g[t+8]=h&&(l.right-n[0])/h,g[t+12]=d&&(l.bottom-n[1])/d,g[t+16]=d&&(l.left-n[0])/-d,g[t+20]=h&&(l.top-n[1])/h,g[t+24]=d&&(l.right-n[0])/-d,g[t+28]=h&&(l.bottom-n[1])/h,g[t+32]=h&&(l.left-n[0])/-h,g[t+36]=d&&(l.top-n[1])/-d,g[t+40]=h&&(l.right-n[0])/-h,g[t+44]=d&&(l.bottom-n[1])/-d,g[t+48]=d&&(l.left-n[0])/d,g[t+52]=h&&(l.top-n[1])/-h,g[t+56]=d&&(l.right-n[0])/d,g[t+60]=h&&(l.bottom-n[1])/-h}));const f=1+Math.min(Math.abs(h),Math.abs(d));o.paddingLeft=s(g,32,16)/f,o.paddingTop=s(g,48,16)/f,o.paddingRight=s(g,0,16)/f,o.paddingBottom=s(g,16,16)/f,e._textDivProperties.set(i,o)}}function l(e,t){t.sort((function(e,t){return e.x1-t.x1||e.index-t.index}));const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];t.forEach((function(e){let t=0;for(;t<n.length&&n[t].end<=e.y1;)t++;let r,a,i=n.length-1;for(;i>=0&&n[i].start>=e.y2;)i--;let s,o,l=-1/0;for(s=t;s<=i;s++){let t;r=n[s],a=r.boundary,t=a.x2>e.x1?a.index>e.index?a.x1New:e.x1:void 0===a.x2New?(a.x2+e.x1)/2:a.x2New,t>l&&(l=t)}for(e.x1New=l,s=t;s<=i;s++)r=n[s],a=r.boundary,void 0===a.x2New?a.x2>e.x1?a.index>e.index&&(a.x2New=a.x2):a.x2New=l:a.x2New>l&&(a.x2New=Math.max(l,a.x2));const c=[];let u=null;for(s=t;s<=i;s++){r=n[s],a=r.boundary;const t=a.x2>e.x2?a:e;u===t?c[c.length-1].end=r.end:(c.push({start:r.start,end:r.end,boundary:t}),u=t)}for(n[t].start<e.y1&&(c[0].start=e.y1,c.unshift({start:n[t].start,end:e.y1,boundary:n[t].boundary})),e.y2<n[i].end&&(c[c.length-1].end=e.y2,c.push({start:e.y2,end:n[i].end,boundary:n[i].boundary})),s=t;s<=i;s++){if(r=n[s],a=r.boundary,void 0!==a.x2New)continue;let e=!1;for(o=t-1;!e&&o>=0&&n[o].start>=a.y1;o--)e=n[o].boundary===a;for(o=i+1;!e&&o<n.length&&n[o].end<=a.y2;o++)e=n[o].boundary===a;for(o=0;!e&&o<c.length;o++)e=c[o].boundary===a;e||(a.x2New=l)}Array.prototype.splice.apply(n,[t,i-t+1].concat(c))})),n.forEach((function(t){const n=t.boundary;void 0===n.x2New&&(n.x2New=Math.max(e,n.x2))}))}function c({textContent:e,textContentStream:t,container:n,viewport:a,textDivs:i,textContentItemsStr:s,enhanceTextSelection:o}){this._textContent=e,this._textContentStream=t,this._container=n,this._document=n.ownerDocument,this._viewport=a,this._textDivs=i||[],this._textContentItemsStr=s||[],this._enhanceTextSelection=!!o,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally((()=>{this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)})).catch((()=>{}))}return c.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems(e,t){for(let n=0,r=e.length;n<r;n++)this._textContentItemsStr.push(e[n].str),a(this,e[n],t,this._layoutTextCtx)},_layoutText(e){const t=this._textDivProperties.get(e);if(t.isWhitespace)return;let n="";if(0!==t.canvasWidth){const{fontSize:r,fontFamily:a}=e.style;r===this._layoutTextLastFontSize&&a===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=`${r} ${a}`,this._layoutTextLastFontSize=r,this._layoutTextLastFontFamily=a);const{width:i}=this._layoutTextCtx.measureText(e.textContent);i>0&&(t.scale=t.canvasWidth/i,n=`scaleX(${t.scale})`)}0!==t.angle&&(n=`rotate(${t.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(t.originalTransform=n),e.style.transform=n),this._textDivProperties.set(e,t),this._container.appendChild(e)},_render:function(t){const n=(0,r.createPromiseCapability)();let a=Object.create(null);const s=this._document.createElement("canvas");if(s.height=s.width=e,s.mozOpaque=!0,this._layoutTextCtx=s.getContext("2d",{alpha:!1}),this._textContent){const e=this._textContent.items,t=this._textContent.styles;this._processItems(e,t),n.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const e=()=>{this._reader.read().then((({value:t,done:r})=>{r?n.resolve():(Object.assign(a,t.styles),this._processItems(t.items,a),e())}),n.reject)};this._reader=this._textContentStream.getReader(),e()}}n.promise.then((()=>{a=null,t?this._renderTimer=setTimeout((()=>{i(this),this._renderTimer=null}),t):i(this)}),this._capability.reject)},expandTextDivs:function(e){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(o(this),this._bounds=null);const t=[],n=[];for(let r=0,a=this._textDivs.length;r<a;r++){const a=this._textDivs[r],i=this._textDivProperties.get(a);i.isWhitespace||(e?(t.length=0,n.length=0,i.originalTransform&&t.push(i.originalTransform),i.paddingTop>0?(n.push(`${i.paddingTop}px`),t.push(`translateY(${-i.paddingTop}px)`)):n.push(0),i.paddingRight>0?n.push(i.paddingRight/i.scale+"px"):n.push(0),i.paddingBottom>0?n.push(`${i.paddingBottom}px`):n.push(0),i.paddingLeft>0?(n.push(i.paddingLeft/i.scale+"px"),t.push(`translateX(${-i.paddingLeft/i.scale}px)`)):n.push(0),a.style.padding=n.join(" "),t.length&&(a.style.transform=t.join(" "))):(a.style.padding=null,a.style.transform=i.originalTransform))}}},function(e){const t=new c({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}}();t.renderTextLayer=a},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var r=n(2),a=n(1),i=n(4);let s=function(){throw new Error("Not implemented: SVGGraphics")};t.SVGGraphics=s;{const e={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},n="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/1999/xlink",u=["butt","round","square"],h=["miter","round","bevel"],d=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256);for(let e=0;e<256;e++){let n=e;for(let e=0;e<8;e++)n=1&n?3988292384^n>>1&2147483647:n>>1&2147483647;t[e]=n}function n(e,n,r,a){let i=a;const s=n.length;r[i]=s>>24&255,r[i+1]=s>>16&255,r[i+2]=s>>8&255,r[i+3]=255&s,i+=4,r[i]=255&e.charCodeAt(0),r[i+1]=255&e.charCodeAt(1),r[i+2]=255&e.charCodeAt(2),r[i+3]=255&e.charCodeAt(3),i+=4,r.set(n,i),i+=n.length;const o=function(e,n,r){let a=-1;for(let i=n;i<r;i++){const n=255&(a^e[i]);a=a>>>8^t[n]}return-1^a}(r,a+4,i);r[i]=o>>24&255,r[i+1]=o>>16&255,r[i+2]=o>>8&255,r[i+3]=255&o}function a(e){let t=e.length;const n=65535,r=Math.ceil(t/n),a=new Uint8Array(2+t+5*r+4);let i=0;a[i++]=120,a[i++]=156;let s=0;for(;t>n;)a[i++]=0,a[i++]=255,a[i++]=255,a[i++]=0,a[i++]=0,a.set(e.subarray(s,s+n),i),i+=n,s+=n,t-=n;a[i++]=1,a[i++]=255&t,a[i++]=t>>8&255,a[i++]=255&~t,a[i++]=(65535&~t)>>8&255,a.set(e.subarray(s),i),i+=e.length-s;const o=function(e,t,n){let r=1,a=0;for(let i=t;i<n;++i)r=(r+(255&e[i]))%65521,a=(a+r)%65521;return a<<16|r}(e,0,e.length);return a[i++]=o>>24&255,a[i++]=o>>16&255,a[i++]=o>>8&255,a[i++]=255&o,a}function s(t,s,o,l){const c=t.width,u=t.height;let h,d,p;const g=t.data;switch(s){case r.ImageKind.GRAYSCALE_1BPP:d=0,h=1,p=c+7>>3;break;case r.ImageKind.RGB_24BPP:d=2,h=8,p=3*c;break;case r.ImageKind.RGBA_32BPP:d=6,h=8,p=4*c;break;default:throw new Error("invalid format")}const f=new Uint8Array((1+p)*u);let m=0,v=0;for(let e=0;e<u;++e)f[m++]=0,f.set(g.subarray(v,v+p),m),v+=p,m+=p;if(s===r.ImageKind.GRAYSCALE_1BPP&&l){m=0;for(let e=0;e<u;e++){m++;for(let e=0;e<p;e++)f[m++]^=255}}const b=new Uint8Array([c>>24&255,c>>16&255,c>>8&255,255&c,u>>24&255,u>>16&255,u>>8&255,255&u,h,d,0,0,0]),y=function(e){if(!i.isNodeJS)return a(e);try{let t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);const n=require$$2__default.default.deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(e){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return a(e)}(f),A=e.length+36+b.length+y.length,_=new Uint8Array(A);let w=0;return _.set(e,w),w+=e.length,n("IHDR",b,_,w),w+=12+b.length,n("IDATA",y,_,w),w+=12+y.length,n("IEND",new Uint8Array(0),_,w),(0,r.createObjectURL)(_,"image/png",o)}return function(e,t,n){return s(e,void 0===e.kind?r.ImageKind.GRAYSCALE_1BPP:e.kind,t,n)}}();class p{constructor(){this.fontSizeScale=1,this.fontWeight=e.fontWeight,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=e.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(e,t){this.x=e,this.y=t}}function o(e){if(Number.isInteger(e))return e.toString();const t=e.toFixed(10);let n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)}function l(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":`scale(${o(e[0])} ${o(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2])return`rotate(${o(180*Math.acos(e[0])/Math.PI)})`}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return`translate(${o(e[4])} ${o(e[5])})`;return`matrix(${o(e[0])} ${o(e[1])} ${o(e[2])} ${o(e[3])} ${o(e[4])} ${o(e[5])})`}let g=0,f=0,m=0;t.SVGGraphics=s=class{constructor(e,t,n=!1){this.svgFactory=new a.DOMSVGFactory,this.current=new p,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n,this._operatorIdMapping=[];for(const e in r.OPS)this._operatorIdMapping[r.OPS[e]]=e}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const t=e.fnArray,n=e.argsArray;for(let e=0,a=t.length;e<a;e++)if(t[e]===r.OPS.dependency)for(const t of n[e]){const e=t.startsWith("g_")?this.commonObjs:this.objs,n=new Promise((n=>{e.get(t,n)}));this.current.dependencies.push(n)}return Promise.all(this.current.dependencies)}transform(e,t,n,a,i,s){const o=[e,t,n,a,i,s];this.transformMatrix=r.Util.transform(this.transformMatrix,o),this.tgrp=null}getSVG(e,t){this.viewport=t;const n=this._initialize(t);return this.loadDependencies(e).then((()=>(this.transformMatrix=r.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),n)))}convertOpList(e){const t=this._operatorIdMapping,n=e.argsArray,r=e.fnArray,a=[];for(let e=0,i=r.length;e<i;e++){const i=r[e];a.push({fnId:i,fn:t[i],args:n[e]})}return function(e){let t=[];const n=[];for(const r of e)"save"!==r.fn?"restore"===r.fn?t=n.pop():t.push(r):(t.push({fnId:92,fn:"group",items:[]}),n.push(t),t=t[t.length-1].items);return t}(a)}executeOpTree(e){for(const t of e){const e=t.fn,n=t.fnId,a=t.args;switch(0|n){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(a);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(a[0],a[1]);break;case r.OPS.setFont:this.setFont(a);break;case r.OPS.showText:case r.OPS.showSpacedText:this.showText(a[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(a[0],a[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(a[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(a[0]);break;case r.OPS.setHScale:this.setHScale(a[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(a[0],a[1],a[2],a[3],a[4],a[5]);break;case r.OPS.setTextRise:this.setTextRise(a[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(a[0]);break;case r.OPS.setLineWidth:this.setLineWidth(a[0]);break;case r.OPS.setLineJoin:this.setLineJoin(a[0]);break;case r.OPS.setLineCap:this.setLineCap(a[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(a[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(a[0],a[1],a[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(a[0],a[1],a[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(a);break;case r.OPS.setFillColorN:this.setFillColorN(a);break;case r.OPS.shadingFill:this.shadingFill(a[0]);break;case r.OPS.setDash:this.setDash(a[0],a[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(a[0]);break;case r.OPS.setFlatness:this.setFlatness(a[0]);break;case r.OPS.setGState:this.setGState(a[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(a[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(a[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(a[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(a[0],a[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(a[0],a[1],a[2],a[3],a[4],a[5]);break;case r.OPS.constructPath:this.constructPath(a[0],a[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(t.items);break;default:(0,r.warn)(`Unimplemented operator ${e}`)}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,t,n,r,a,i){const s=this.current;s.textMatrix=s.lineMatrix=[e,t,n,r,a,i],s.textMatrixScale=Math.hypot(e,t),s.x=s.lineX=0,s.y=s.lineY=0,s.xcoords=[],s.ycoords=[],s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size",`${o(s.fontSize)}px`),s.tspan.setAttributeNS(null,"y",o(-s.y)),s.txtElement=this.svgFactory.createElement("svg:text"),s.txtElement.appendChild(s.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=r.IDENTITY_MATRIX,e.lineMatrix=r.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,t){const n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${o(n.fontSize)}px`),n.tspan.setAttributeNS(null,"y",o(-n.y))}showText(t){const a=this.current,i=a.font,s=a.fontSize;if(0===s)return;const c=a.fontSizeScale,u=a.charSpacing,h=a.wordSpacing,d=a.fontDirection,p=a.textHScale*d,g=i.vertical,f=g?1:-1,m=i.defaultVMetrics,v=s*a.fontMatrix[0];let b=0;for(const e of t){if(null===e){b+=d*h;continue}if((0,r.isNum)(e)){b+=f*e*s/1e3;continue}const t=(e.isSpace?h:0)+u,n=e.fontChar;let o,l,p,y=e.width;if(g){let t;const n=e.vmetric||m;t=e.vmetric?n[1]:.5*y,t=-t*v;const r=n[2]*v;y=n?-n[0]:y,o=t/c,l=(b+r)/c}else o=b/c,l=0;(e.isInFont||i.missingFile)&&(a.xcoords.push(a.x+o),g&&a.ycoords.push(-a.y+l),a.tspan.textContent+=n),p=g?y*v-t*d:y*v+t*d,b+=p}a.tspan.setAttributeNS(null,"x",a.xcoords.map(o).join(" ")),g?a.tspan.setAttributeNS(null,"y",a.ycoords.map(o).join(" ")):a.tspan.setAttributeNS(null,"y",o(-a.y)),g?a.y-=b:a.x+=b*p,a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",`${o(a.fontSize)}px`),a.fontStyle!==e.fontStyle&&a.tspan.setAttributeNS(null,"font-style",a.fontStyle),a.fontWeight!==e.fontWeight&&a.tspan.setAttributeNS(null,"font-weight",a.fontWeight);const y=a.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;if(y===r.TextRenderingMode.FILL||y===r.TextRenderingMode.FILL_STROKE?(a.fillColor!==e.fillColor&&a.tspan.setAttributeNS(null,"fill",a.fillColor),a.fillAlpha<1&&a.tspan.setAttributeNS(null,"fill-opacity",a.fillAlpha)):a.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?a.tspan.setAttributeNS(null,"fill","transparent"):a.tspan.setAttributeNS(null,"fill","none"),y===r.TextRenderingMode.STROKE||y===r.TextRenderingMode.FILL_STROKE){const e=1/(a.textMatrixScale||1);this._setStrokeAttributes(a.tspan,e)}let A=a.textMatrix;0!==a.textRise&&(A=A.slice(),A[5]+=a.textRise),a.txtElement.setAttributeNS(null,"transform",`${l(A)} scale(${o(p)}, -1)`),a.txtElement.setAttributeNS(n,"xml:space","preserve"),a.txtElement.appendChild(a.tspan),a.txtgrp.appendChild(a.txtElement),this._ensureTransformGroup().appendChild(a.txtElement)}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const t=(0,r.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${t}); }\n`}setFont(e){const t=this.current,n=this.commonObjs.get(e[0]);let a=e[1];t.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX;let i="normal";n.black?i="900":n.bold&&(i="bold");const s=n.italic?"italic":"normal";a<0?(a=-a,t.fontDirection=-1):t.fontDirection=1,t.fontSize=a,t.fontFamily=n.loadedName,t.fontWeight=i,t.fontStyle=s,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",o(-t.y)),t.xcoords=[],t.ycoords=[]}endText(){const e=this.current;e.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement?.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=u[e]}setLineJoin(e){this.current.lineJoin=h[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,t,n){this.current.strokeColor=r.Util.makeHexColor(e,t,n)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,t,n){this.current.fillColor=r.Util.makeHexColor(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const t=this.viewport.width,n=this.viewport.height,a=r.Util.inverseTransform(this.transformMatrix),i=r.Util.applyTransform([0,0],a),s=r.Util.applyTransform([0,n],a),o=r.Util.applyTransform([t,0],a),l=r.Util.applyTransform([t,n],a),c=Math.min(i[0],s[0],o[0],l[0]),u=Math.min(i[1],s[1],o[1],l[1]),h=Math.max(i[0],s[0],o[0],l[0]),d=Math.max(i[1],s[1],o[1],l[1]),p=this.svgFactory.createElement("svg:rect");p.setAttributeNS(null,"x",c),p.setAttributeNS(null,"y",u),p.setAttributeNS(null,"width",h-c),p.setAttributeNS(null,"height",d-u),p.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&p.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(p)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const t=e[1],n=e[2],a=e[3]||r.IDENTITY_MATRIX,[i,s,o,l]=e[4],c=e[5],u=e[6],h=e[7],d="shading"+m++,[p,g]=r.Util.applyTransform([i,s],a),[f,v]=r.Util.applyTransform([o,l],a),[b,y]=r.Util.singularValueDecompose2dScale(a),A=c*b,_=u*y,w=this.svgFactory.createElement("svg:pattern");w.setAttributeNS(null,"id",d),w.setAttributeNS(null,"patternUnits","userSpaceOnUse"),w.setAttributeNS(null,"width",A),w.setAttributeNS(null,"height",_),w.setAttributeNS(null,"x",`${p}`),w.setAttributeNS(null,"y",`${g}`);const k=this.svg,x=this.transformMatrix,C=this.current.fillColor,P=this.current.strokeColor,S=this.svgFactory.create(f-p,v-g);if(this.svg=S,this.transformMatrix=a,2===h){const e=r.Util.makeHexColor(...t);this.current.fillColor=e,this.current.strokeColor=e}return this.executeOpTree(this.convertOpList(n)),this.svg=k,this.transformMatrix=x,this.current.fillColor=C,this.current.strokeColor=P,w.appendChild(S.childNodes[0]),this.defs.appendChild(w),`url(#${d})`}_makeShadingPattern(e){switch(e[0]){case"RadialAxial":const t="shading"+m++,n=e[3];let a;switch(e[1]){case"axial":const n=e[4],r=e[5];a=this.svgFactory.createElement("svg:linearGradient"),a.setAttributeNS(null,"id",t),a.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),a.setAttributeNS(null,"x1",n[0]),a.setAttributeNS(null,"y1",n[1]),a.setAttributeNS(null,"x2",r[0]),a.setAttributeNS(null,"y2",r[1]);break;case"radial":const i=e[4],s=e[5],o=e[6],l=e[7];a=this.svgFactory.createElement("svg:radialGradient"),a.setAttributeNS(null,"id",t),a.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),a.setAttributeNS(null,"cx",s[0]),a.setAttributeNS(null,"cy",s[1]),a.setAttributeNS(null,"r",l),a.setAttributeNS(null,"fx",i[0]),a.setAttributeNS(null,"fy",i[1]),a.setAttributeNS(null,"fr",o);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const e of n){const t=this.svgFactory.createElement("svg:stop");t.setAttributeNS(null,"offset",e[0]),t.setAttributeNS(null,"stop-color",e[1]),a.appendChild(t)}return this.defs.appendChild(a),`url(#${t})`;case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,t){this.current.dashArray=e,this.current.dashPhase=t}constructPath(e,t){const n=this.current;let a=n.x,i=n.y,s=[],l=0;for(const n of e)switch(0|n){case r.OPS.rectangle:a=t[l++],i=t[l++];const e=a+t[l++],n=i+t[l++];s.push("M",o(a),o(i),"L",o(e),o(i),"L",o(e),o(n),"L",o(a),o(n),"Z");break;case r.OPS.moveTo:a=t[l++],i=t[l++],s.push("M",o(a),o(i));break;case r.OPS.lineTo:a=t[l++],i=t[l++],s.push("L",o(a),o(i));break;case r.OPS.curveTo:a=t[l+4],i=t[l+5],s.push("C",o(t[l]),o(t[l+1]),o(t[l+2]),o(t[l+3]),o(a),o(i)),l+=6;break;case r.OPS.curveTo2:s.push("C",o(a),o(i),o(t[l]),o(t[l+1]),o(t[l+2]),o(t[l+3])),a=t[l+2],i=t[l+3],l+=4;break;case r.OPS.curveTo3:a=t[l+2],i=t[l+3],s.push("C",o(t[l]),o(t[l+1]),o(a),o(i),o(a),o(i)),l+=4;break;case r.OPS.closePath:s.push("Z")}s=s.join(" "),n.path&&e.length>0&&e[0]!==r.OPS.rectangle&&e[0]!==r.OPS.moveTo?s=n.path.getAttributeNS(null,"d")+s:(n.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(n.path)),n.path.setAttributeNS(null,"d",s),n.path.setAttributeNS(null,"fill","none"),n.element=n.path,n.setCurrentPoint(a,i)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const t="clippath"+g++,n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",l(this.transformMatrix));const r=e.element.cloneNode(!0);"evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.appendChild(r),this.defs.appendChild(n),e.activeClipUrl&&(e.clipGroup=null,this.extraStack.forEach((function(e){e.clipGroup=null})),n.setAttributeNS(null,"clip-path",e.activeClipUrl)),e.activeClipUrl=`url(#${t})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const t=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",t)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n);break;case"CA":this.setStrokeAlpha(n);break;case"ca":this.setFillAlpha(n);break;default:(0,r.warn)(`Unimplemented graphic state operator ${t}`)}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e,t=1){const n=this.current;let r=n.dashArray;1!==t&&r.length>0&&(r=r.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",o(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",o(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.map(o).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",o(t*n.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}paintImageXObject(e){const t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,r.warn)(`Dependent image with object ID ${e} is not ready yet`)}paintInlineImageXObject(e,t){const n=e.width,r=e.height,a=d(e,this.forceDataSchema,!!t),i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width",o(n)),i.setAttributeNS(null,"height",o(r)),this.current.element=i,this.clip("nonzero");const s=this.svgFactory.createElement("svg:image");s.setAttributeNS(c,"xlink:href",a),s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y",o(-r)),s.setAttributeNS(null,"width",o(n)+"px"),s.setAttributeNS(null,"height",o(r)+"px"),s.setAttributeNS(null,"transform",`scale(${o(1/n)} ${o(-1/r)})`),t?t.appendChild(s):this._ensureTransformGroup().appendChild(s)}paintImageMaskXObject(e){const t=this.current,n=e.width,r=e.height,a=t.fillColor;t.maskId="mask"+f++;const i=this.svgFactory.createElement("svg:mask");i.setAttributeNS(null,"id",t.maskId);const s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",o(n)),s.setAttributeNS(null,"height",o(r)),s.setAttributeNS(null,"fill",a),s.setAttributeNS(null,"mask",`url(#${t.maskId})`),this.defs.appendChild(i),this._ensureTransformGroup().appendChild(s),this.paintInlineImageXObject(e,i)}paintFormXObjectBegin(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){const e=t[2]-t[0],n=t[3]-t[1],r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x",t[0]),r.setAttributeNS(null,"y",t[1]),r.setAttributeNS(null,"width",o(e)),r.setAttributeNS(null,"height",o(n)),this.current.element=r,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.appendChild(n),this.defs=n;const r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",l(e.transform)),t.appendChild(r),this.svg=r,t}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",l(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var r=n(2),a=n(23);const i=require$$1__default.default,s=require$$3__default.default,o=require$$4__default.default,l=require$$5__default.default,c=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=class{constructor(e){this.source=e,this.url=function(e){const t=l.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?l.parse(`file:///${e}`):(t.host||(t.protocol="file:"),t)}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new f(this):new p(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new m(this,e,t):new g(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}};class u{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class h{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return null===e?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}function d(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class p extends u{constructor(e){super(e);const t=t=>{if(404===t.statusCode){const e=new r.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=e=>this._readableStream.headers[e.toLowerCase()],{allowRangeRequests:i,suggestedLength:s}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=s||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(n)};this._request=null,"http:"===this._url.protocol?this._request=s.request(d(this._url,e.httpHeaders),t):this._request=o.request(d(this._url,e.httpHeaders),t),this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class g extends h{constructor(e,t,n){super(e),this._httpHeaders={};for(const t in e.httpHeaders){const n=e.httpHeaders[t];void 0!==n&&(this._httpHeaders[t]=n)}this._httpHeaders.Range=`bytes=${t}-${n-1}`;const a=e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=e}};this._request=null,"http:"===this._url.protocol?this._request=s.request(d(this._url,this._httpHeaders),a):this._request=o.request(d(this._url,this._httpHeaders),a),this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class f extends u{constructor(e){super(e);let t=decodeURIComponent(this._url.path);c.test(this._url.href)&&(t=t.replace(/^\//,"")),i.lstat(t,((e,n)=>{if(e)return"ENOENT"===e.code&&(e=new r.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=e,void this._headersCapability.reject(e);this._contentLength=n.size,this._setReadableStream(i.createReadStream(t)),this._headersCapability.resolve()}))}}class m extends h{constructor(e,t,n){super(e);let r=decodeURIComponent(this._url.path);c.test(this._url.href)&&(r=r.replace(/^\//,"")),this._setReadableStream(i.createReadStream(r,{start:t,end:n-1}))}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+t+'".'):new r.UnexpectedResponseException(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)},t.extractFilenameFromHeader=function(e){const t=e("Content-Disposition");if(t){let e=(0,a.getFilenameFromContentDispositionHeader)(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(e){}if((0,i.isPdfFile)(e))return e}return null},t.validateRangeRequestCapabilities=function({getResponseHeader:e,isHttp:t,rangeChunkSize:n,disableRange:a}){(0,r.assert)(n>0,"Range chunk size must be larger than zero");const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(e("Content-Length"),10);return Number.isInteger(s)?(i.suggestedLength=s,s<=2*n||a||!t||"bytes"!==e("Accept-Ranges")||"identity"!==(e("Content-Encoding")||"identity")||(i.allowRangeRequests=!0),i):i},t.validateResponseStatus=function(e){return 200===e||206===e};var r=n(2),a=n(24),i=n(1)},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){let t=!0,n=r("filename\\*","i").exec(e);if(n){n=n[1];let e=s(n);return e=unescape(e),e=o(e),e=l(e),i(e)}if(n=function(e){const t=[];let n;const a=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=a.exec(e));){let[,e,r,a]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[r,a]}const i=[];for(let e=0;e<t.length&&e in t;++e){let[n,r]=t[e];r=s(r),n&&(r=unescape(r),0===e&&(r=o(r))),i.push(r)}return i.join("")}(e),n)return i(l(n));if(n=r("filename","i").exec(e),n){n=n[1];let e=s(n);return e=l(e),i(e)}function r(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function a(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const r=new TextDecoder(e,{fatal:!0}),a=Array.from(n,(function(e){return 255&e.charCodeAt(0)}));n=r.decode(new Uint8Array(a)),t=!1}catch(r){if(/^utf-?8$/i.test(e))try{n=decodeURIComponent(escape(n)),t=!1}catch(e){}}}return n}function i(e){return t&&/[\x80-\xff]/.test(e)&&(e=a("utf-8",e),t&&(e=a("iso-8859-1",e))),e}function s(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:a(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return a(t,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch(e){}return a(t,r)}))}return""}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var r=n(2),a=n(23);class i{constructor(e,t){this.url=e,t=t||{},this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const e in n)r[e]=n[e];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const e in this.httpHeaders){const n=this.httpHeaders[e];void 0!==n&&t.setRequestHeader(e,n)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress&&n.onProgress(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const a=n.xhr;if(a.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==a.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===a.status&&this.isHttp)return void(n.onError&&n.onError(a.status));const i=a.status||200;if((200!==i||206!==n.expectedStatus)&&i!==n.expectedStatus)return void(n.onError&&n.onError(a.status));const s=function(e){const t=e.response;return"string"!=typeof t?t:(0,r.stringToBytes)(t).buffer}(a);if(206===i){const e=a.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:s})}else s?n.onDone({begin:0,chunk:s}):n.onError&&n.onError(a.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}t.PDFNetworkStream=class{constructor(e){this._source=e,this._manager=new i(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new s(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new o(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}};class s{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=e=>t.getResponseHeader(e),{allowRangeRequests:r,suggestedLength:i}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[])}_onError(e){const t=this._url,n=(0,a.createResponseStatusError)(e,t);this._storedError=n,this._headersReceivedCapability.reject(n),this._requests.forEach((function(e){e.reject(n)})),this._requests=[],this._cachedChunks=[]}_onProgress(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class o{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}_close(){this.onClosed&&this.onClosed(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._close()}_onProgress(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,r.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var r=n(2),a=n(23);function i(e,t,n){return{method:"GET",headers:e,signal:n?.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function s(e){const t=new Headers;for(const n in e){const r=e[n];void 0!==r&&t.append(n,r)}return t}t.PDFFetchStream=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new o(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new l(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}};class o{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=s(this._stream.httpHeaders);const n=t.url;fetch(n,i(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,a.validateResponseStatus)(e.status))throw(0,a.createResponseStatusError)(e.status,n);this._reader=e.body.getReader(),this._headersCapability.resolve();const t=t=>e.headers.get(t),{allowRangeRequests:i,suggestedLength:s}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=s||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}class l{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const o=e.source;this._withCredentials=o.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!o.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=s(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${n-1}`);const l=o.url;fetch(l,i(this._headers,this._withCredentials,this._abortController)).then((e=>{if(!(0,a.validateResponseStatus)(e.status))throw(0,a.createResponseStatusError)(e.status,l);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch((e=>{if("AbortError"!==e?.name)throw e})),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__w_pdfjs_require__),t.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"addLinkAttributes",{enumerable:!0,get:function(){return t.addLinkAttributes}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return t.getFilenameFromUrl}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return t.isPdfFile}}),Object.defineProperty(e,"LinkTarget",{enumerable:!0,get:function(){return t.LinkTarget}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return t.loadScript}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return t.PDFDateString}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return t.RenderingCancelledException}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(e,"LoopbackPort",{enumerable:!0,get:function(){return n.LoopbackPort}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return n.version}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return r.CMapCompressionType}}),Object.defineProperty(e,"createObjectURL",{enumerable:!0,get:function(){return r.createObjectURL}}),Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return r.createPromiseCapability}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return r.createValidAbsoluteUrl}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return r.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return r.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return r.OPS}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return r.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return r.PermissionFlag}}),Object.defineProperty(e,"removeNullCharacters",{enumerable:!0,get:function(){return r.removeNullCharacters}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return r.shadow}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return r.UnexpectedResponseException}}),Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return r.UNSUPPORTED_FEATURES}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return r.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return r.VerbosityLevel}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return a.AnnotationLayer}}),Object.defineProperty(e,"apiCompatibilityParams",{enumerable:!0,get:function(){return i.apiCompatibilityParams}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return s.GlobalWorkerOptions}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return o.renderTextLayer}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return l.SVGGraphics}});var t=__w_pdfjs_require__(1),n=__w_pdfjs_require__(5),r=__w_pdfjs_require__(2),a=__w_pdfjs_require__(18),i=__w_pdfjs_require__(9),s=__w_pdfjs_require__(12),o=__w_pdfjs_require__(20),l=__w_pdfjs_require__(21);{const{isNodeJS:e}=__w_pdfjs_require__(4);if(e){const e=__w_pdfjs_require__(22).PDFNodeStream;(0,n.setPDFNetworkStreamFactory)((t=>new e(t)))}else{const e=__w_pdfjs_require__(25).PDFNetworkStream;let r;(0,t.isFetchSupported)()&&(r=__w_pdfjs_require__(26).PDFFetchStream),(0,n.setPDFNetworkStreamFactory)((n=>r&&(0,t.isValidFetchUrl)(n.url)?new r(n):new e(n)))}}})(),__webpack_exports__})()},module.exports=factory()})),pdf$1=getDefaultExportFromCjs(pdf),pdf$2=Object.freeze(Object.assign(Object.create(null),pdf,{default:pdf$1}));function e(e,t=null,n=["rerun the code 10 times"],r=null,a=!1){if(!$()&&!a)return null;console.error(`%c 🧯 pragma.js  %c \n\n      encountered a soft error 🔫 %c \n\n      \n${r?`Triggered by: [${r.key} ${r}]`:""}\n      \n${e} %c\n\n      \n${null!=t?`Potential ${t}: \n\t${n.join("\n\t")}`:""}\n      `,"font-size:15px","font-size: 12px;","color:whitesmoke","color:white")}function n(){if(!$())return null;console.log(...arguments)}function i$1(){if(!$())return null;console.log("%c 🌴 [pragma] \n\n      ","font-size:12px; color:#86D787;",...arguments,"\n")}class r{constructor(e){this.self=e,this.actions=new Map,this.delete=this.destroy}addWithKey(e,t=null){t=t||this.actions.size,this.actions.set(t,e)}add(...e){for(let t of e)this.addWithKey(t)}forAction(e){for(let[t,n]of this.actions)e(t,n)}exec(...e){this.execAs(this.self,...e)}destroy(...e){e.forEach((e=>this.actions.delete(e)))}execAs(e,...t){this.forAction((function(n,r){r.bind(e)(...t)}))}}function s(){return Math.random().toString(36).substring(3,6)+Math.random().toString(36).substring(5,8)}function o(){return a(8)}function a(e=7){return e<5?s():(s()+a(e-5)).substring(0,e)}function l(e){return a(e)}function h(e,t){for(let[n,r]of Object.entries(t))e[n]=r;return e}const c=e=>e.replace(/([-_]\w)/g,(e=>e[1].toUpperCase()));function u(e,t){let n=`${e}Chain`,a=`on${e.capitalize()}`;return t[n]=new r(t),t[a]=function(e,r){t[n].addWithKey(e,r)},{chainName:n,eventName:a}}function f(e,...t){for(let n of t)u(n,e)}function d(e,t){let n=u(e,t),r=`is${e.capitalize()}ed`;t[n.chainName].add((()=>{t[r]=!0})),t[n.eventName]=function(e){if(t[r])return e(t);t[n.chainName].add(e)}}function p(e,...t){for(let n of t)d(n,e)}String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};const m=e=>e.toString().replace(/[^a-z0-9]/gi,"-").toLowerCase();globalThis.pragmaSpace||(globalThis.pragmaSpace={}),p(globalThis.pragmaSpace,"docLoad");const g=globalThis.pragmaSpace.onDocLoad;function y(){globalThis.pragmaSpace.isDocLoaded||(i$1("📰 document is loaded."),globalThis.pragmaSpace.docLoadChain.exec())}document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&y()})),document.addEventListener("turbolinks:load",(()=>{i$1("🚀 TURBOLINKS loaded"),y()}));var b=/[#.]/g;function x(e,t="div"){var n=e||"",r={tag:t},a=0;let i,s,o;for(;a<n.length;)b.lastIndex=a,o=b.exec(n),i=n.slice(a,o?o.index:n.length),i&&(s?"#"===s?r.id=i:r.class?r.class.push(i):r.class=[i]:r.tag=i,a+=i.length),o&&(s=o[0],a++);return r}function v(t,n,r){if(!Array.isArray(t))return e(`Could not ${r} class [${t}] -> [${n}]`);for(let e of t){let t=e.split(" ");t.length>1?v(t,n,r):n.classList[r](e)}}function C(e,t){v(e,t,"add")}function T(e,t){v(e,t,"remove")}function A(e,t){v(e,t,"toggle")}function S(e){try{let t=document.querySelector(e);if(t)return t}catch{}let t=x(e),n=document.createElement(t.tag||"div");return t.id&&(n.id=t.id),t.class&&C(t.class,n),n}function _(e){return document.createRange().createContextualFragment(e)}function w(t){return t instanceof Element?t:"string"==typeof t?"<"===t[0]?_(t):S(t):e(`Could not find/create element from [${t}]`)}const M={html:(e,t)=>{t.innerHTML=e},pcss:(e,t)=>{for(let[n,r]of O.cssToDict(e))t.style[c(n)]=r}},O={cssToDict:t=>{t=t.replace(/\n/g,";").replace(/:/g," ");let n=new Map;for(let e of t.split(";")){if(e.replace(/\s/g,"").length<2)continue;e=e.trim().split(" ");let t=e[0];e.shift(),n.set(t.trim(),e.join(" ").trim())}let r=[];for(const[e,t]of n.entries())CSS.supports(e,t)||r.push(`${e.trim()}: ${t.trim()}`);return r.length>0&&e("CSS syntax error","typos",r),n},css:e=>{let t="";for(let[n,r]of O.cssToDict(e))t+=`${n}:${r};`;return t},html:e=>e};function $(){return globalThis.pragmaSpace.dev}globalThis.pragmaSpace||(globalThis.pragmaSpace={}),globalThis.pragmaSpace.dev=globalThis.pragmaSpace.dev||"undefined"!=typeof process&&process.env&&"development"===process.env.NODE_ENV;var E=Object.freeze({__proto__:null,_deving:$,throwSoft:e,log:n,suc:i$1,whenDOM:g,parseQuery:x,addClassAryTo:C,removeClassAryFrom:T,toggleClassAryOf:A,selectOrCreateDOM:S,elementFrom:w,toHTMLAttr:m,fragmentFromString:_,fillSVG:function(e,t){j(e).findAll("path").forEach((e=>{const n=e.attr("fill");"none"!=n&&"transparent"!=n&&e.attr("fill",t)}))},generateRandomKey:l,objDiff:h,aryDiff:function(e,t){return e.filter((e=>t.indexOf(e)<0))},_extend:function(e,t){Object.setPrototypeOf(e,h(Object.getPrototypeOf(e),t))},overwrite:function(e,t,n){let r=e[t];e[`_${t}`]=r.bind(e),e[t]=n},createEventChains:p,createChains:f,snake2camel:c,mimic:function(e,t,n){for(let r of n||Object.keys(t)){let n=Object.getOwnPropertyDescriptor(t,r);if(!n)break;Object.defineProperty(e,r,n)}},bench:function(e,t){console.time(t),e(),console.timeEnd(t)},addStyles:function(e){globalThis.pragmaSpace.styles||(globalThis.pragmaSpace.styles=j("style").prependTo("head")),globalThis.pragmaSpace.styles.html(globalThis.pragmaSpace.styles.html()+e)},rk:a,rk5:s,rk8:o,parse:O,apply:M,createTemplate:e=>(new N).run((function(){f(this,"config"),this.config=function(e){return this.configChain.exec(e),this},this.onConfig(((e={})=>{["events","chains","exports","persistentExports"].forEach((t=>{e[t]&&(this[`_${t}`]=e[t],delete e[t])})),this._events&&p(this,...this._events),this._chains&&f(this,...this._chains);for(let[t,n]of Object.entries(e))this[t]=n,this.export(t);this._exports&&this.export(...this._exports)})),this.export("exports","config","exportChain","configChain","onConfig")}),(function(){"object"==typeof e&&this.config(e)}))});function k(t){return null==t||null==t?e(`Could not find a DOM element for ${t}`):t.element?k(t.element):w(t)}function j(e,t){let n=k(e);var r,a;return n.constructor===DocumentFragment&&(r=n,(a=document.createElement("template")).appendChild(r.cloneNode(!0)),n=a.firstChild),n instanceof Element&&(n.init(),n._render()),"string"==typeof t&&n.html(t),n}const L={init:function(){this.isPragmaElement=!0,p(this,"docLoad","render"),g((()=>this.docLoadChain.exec(this)))},_render:function(){this.renderChain.exec(this)},appendTo:function(e){return this.onDocLoad((()=>{this._parentElement=k(e),this._parentElement.appendChild(this),this._render()})),this},prependTo:function(e){return this.onDocLoad((()=>{this._parentElement=k(e),this._parentElement.prepend(this),this._render()})),this},append:function(...e){return this.onRender((()=>{for(let t of e){let e=k(t);this.appendChild(e)}})),this},destroy:function(){this.onRender((()=>{this.parentElement&&this.parentElement.removeChild(this)}))},css:function(e){return this.onRender((()=>{M.pcss(e,this)})),this},setText:function(e){return e?(this.onRender((()=>{this.textContent=e})),this):this.text},html:function(e){return e?(this.onRender((()=>{M.html(e,this)})),this):this.innerHTML},setId:function(e){return this.id=e,this},setData:function(e){for(let[t,n]of Object.entries(e))this.dataset[t]=n;return this},getData:function(e){return this.dataset[e]},addClass:function(...e){return C(e,this),this},removeClass:function(...e){return T(e,this),this},toggleClass:function(...e){return A(e,this),this},listenTo:function(...e){return this.onRender((()=>{this.addEventListener(...e)})),this},attr:function(e,t){if("string"==typeof e){if(void 0===t)return this.getAttribute(e);const n=e;(e={})[n]=t}for(let[t,n]of Object.entries(e))this.setAttribute(t,n);return this},find:function(){return j(this.query(...arguments))},findAll:function(e){return Array.from(this.queryAll(e)).map((e=>j(e)))},query:function(){return this.querySelector(...arguments)},queryAll:function(e){return this.querySelectorAll(e)},hide:function(){return this.style.display="none",this},show:function(){return this.style.display="",this},deepQueryAll:function(e){let t=Array.from(this.queryAll(e));for(let n of this.children)t=t.concat(n.deepQueryAll(e));return t},deepFindAll:function(e){return this.deepQueryAll(e).map((e=>j(e)))},rect:function(){return"function"==typeof this.getBoundingClientRect?this.getBoundingClientRect():{}},offset:function(e){e&&["width","height","left","right","top","bottom"].forEach((t=>{t in e&&(this.style[t]=e[t]+"px")}));var t=this.rect();return{top:t.top+window.scrollY,left:t.left+window.scrollX}},x:function(e){return this.left+this.width/2-e/2}},D={top:function(){return this.offset().top},left:function(){return this.offset().left},width:function(){return this.rect().width},height:function(){return this.rect().height},text:function(){return this.textContent},classArray:function(){return Array.from(this.classList)},childrenArray:function(){return Array.from(this.children)}};for(let[e,t]of Object.entries(L))Element.prototype[e]=t;for(let[e,t]of Object.entries(D))Object.defineProperty(Element.prototype,e,{get:t,configurable:!0});class P{constructor(e){this._childMap=new Map,this.key="string"==typeof e?e:o(),this.containsKey=this.childMap.has}set childMap(e){for(let[t,n]of e)n instanceof P&&this.add(n)}get childMap(){return this._childMap}get kidsum(){return this.childMap.size}get hasKids(){return this.kidsum>0}get shape(){return this.shapePrefix()}get master(){return null==this.parent||null==this.parent.parent?this.parent:this.parent.master}get children(){return Array.from(this.childMap.values())}get depthKey(){return this.parent?this.parent.depthKey+"<~<"+this.key:this.key}get allChildren(){if(!this.hasKids)return null;let e=this.children;for(let t of e){let n=t.allChildren;n&&(e=e.concat(n))}return e}get(e){return this.childMap.get(e)}find(e){if(this.childMap.has(e))return this.childMap.get(e);for(let t of this.childMap.values()){let n;try{n=t.find(e)}catch{}if(n)return n}}adopt(...e){for(let t of e)this.add(t);return this}add(t,n=!1){return t?!n&&this.childMap.has(t.key)?(t.key=`${t.key}<${s()}`,this.add(t)):(t.parent=this,void this.childMap.set(t.key,t)):e(`Could not add [${t}] to [${this.id}]`)}delete(e){return this.remove(e)}remove(e){this.childMap.get(e)&&this.childMap.delete(e)}shapePrefix(e=""){let t=`${e}| ${this.type} - ${this.key} \n`;if(this.hasKids){e+="| ";for(let n of this.children)t+=n.shapePrefix(e)}return t}}const R={parent:(e,t)=>{e.parent=t},value:(e,t)=>{e.value=t},key:(e,t)=>{e.key=t},class:(e,t)=>{e._class=t},element:(t,n)=>{if(!(n instanceof Element))return e(`Could not add ${n} as the element of [${t}]`);t.element=n},children:(e,t)=>{if(t.constructor==Array)return e.buildAry(t);e.build(t)},childTemplate:(e,t)=>{}};function K(e,t){return{val:e,set:t}}function z(t,n,r){if(!n)return K(t,!0);if(r)return K(function(t,n){return function(e){return null!=e.min&&null!=e.max}(n)?t=(t=t>n.max?n.min:t)<n.min?n.max:t:e(`Could not loop value, since range (${JSON.stringify(n)}) is unbounded`)}(t,n),!0);let a=function(e,t){return e=t.min?Math.max(t.min,e):e,t.max?Math.min(t.max,e):e}(t,n);return K(a,a==t)}class N extends P{constructor(e,t){super(),p(this,"export"),this.actionChain=new r,"object"==typeof e?function(e,t){let n=new Map;for(let[r,a]of Object.entries(e))R.hasOwnProperty(r)?R[r](t,a):n.set(r,a);t.element&&t.element.whenInDOM((e=>{for(let[r,a]of n)if(r=r.toLowerCase(),r.includes("on")){let n=r.split("on")[1].trim();e.listenTo(n,(()=>{t.action(a)}))}}))}(e,this):this.key=e,this.element||this.as()}get _e(){return this.element}setElement(e,t=!0){return this.elementDOM=e,t&&this.element.id&&(this.id=this.element.id),this}get element(){return this.elementDOM}set element(e){this.setElement(e)}setRange(e=null,t=null){return this.range=this.range||{},this.range.min=null===e?this.range.min:e,this.range.max=null===t?this.range.max:t,this}breakLoop(){return this._loopVal=!1,this}setLoop(e,t){return this.setRange(e,t),this._loopVal=!0,this}get dv(){return this.v-this._lv}get value(){return this.v}setValue(e){return this.value=e,this}set value(e){let t=z(e,this.range,this._loopVal);t.set&&(this._lv=this.v,this.v=t.val,this.exec())}exec(){return this.actionChain.execAs(this,...arguments),this}setKey(e){return this.key=e,this}set key(e){this._KEY=null==e?l():e}get key(){return this._KEY}set id(e){this.element&&(this.element.id=this.id)}get id(){return m(this.key)}buildAry(e){for(let t of e)this.add(new N(t,this));return this}build(...e){return this.buildAry(e)}on(e,t=null){var n=this;return{do:function(t){return n.element.listenTo(e,(()=>{n.run(t)})),n}}}as(e=null,t){return e=e||`div#${this.id}.pragma`,this.setElement(j(e,t),!1),this}addExport(e){this.exports=this.exports||new Set,this.exports.add(e)}export(...e){for(let t of e)this.addExport(t)}import(...e){let t=new r;for(let n of e)"function"==typeof n&&(n=n()),n.exports&&E.mimic(this,n,n.exports),n.exportChain&&t.add((e=>{n.exportChain.exec(this)}));return t.exec(),this}from(e){return e.exports&&E.mimic(this,e,e.exports),e.exportChain&&e.exportChain.exec(this),this}wireTo(e){let t=this;return e.do((function(){t.value=this.value})),this}do(){return this.actionChain.add(...arguments),this}extend(e,t){return E.overwrite(this,e,t),this}run(...t){let n=t[0];return"function"==typeof n?this._runAry(t):"object"==typeof n?this._runAry(Object.values(n)):e(`Could not run [${t}] as [${this}]`),this}_runAry(e){for(let t of e)this.runAs(t)}runAs(e){return e.bind(this)()}containAry(t,n="append"){for(let r of t)super.add(r),r.isRendered?e(`[${r}] is already appended`):this.element[n](r);return this}contain(...e){return this.containAry(e)}containFirst(...e){return this.containAry(e.reverse(),"prepend")}pragmatize(){return this.element.appendTo(this.parent&&this.parent.element||"body"),this}pragmatizeAt(e){return this.element.appendTo(e),this}addListeners(e){for(let[t,n]of Object.entries(e))this.on(t).do(n);return this}}const q=["html","css","addClass","removeClass","toggleClass","setId","append","prepend","appendTo","prependTo","listenTo","setData"];for(let e of q)N.prototype[e]=function(){return this.element[e](...arguments),this};const F=["getData"];for(let e of F)N.prototype[e]=function(){return this.element[e](...arguments)};const I=["offset","text","top","left","width","height","x","classArray"];for(let e of I)Object.defineProperty(N.prototype,e,{get:function(){return this.element[e]}});globalThis.pragmaSpace||(globalThis.pragmaSpace={}),globalThis.pragmaSpace.integrateMousetrap=function(e){"function"==typeof e&&(N.prototype.bind=function(t,n,r){let a=this;return e.bind(t,(function(){return a.runAs(n)}),r),this},globalThis.pragmaSpace.mousetrapIntegration=!0,i$1("Mousetrap configuration detected! Extended Pragmas to support .bind() method!"))};try{globalThis.pragmaSpace.integrateMousetrap(Mousetrap)}catch(e){n("Tried to integrate extensions, but failed. To disable,\n  this attempt: globalThis.pragmaSpace.integrate3rdParties = false")}function U(e){return new Promise((t=>t(e())))}function B(...e){return U((()=>{for(let t of e)U(t)}))}const Q=(e,t)=>new N(e,t),W=Q;var defaultInstanceSettings={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},defaultTweenSettings={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},validTransforms=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],cache$2={CSS:{},springs:{}};function minMax(e,t,n){return Math.min(Math.max(e,t),n)}function stringContains(e,t){return e.indexOf(t)>-1}function applyArguments(e,t){return e.apply(null,t)}var is={arr:function(e){return Array.isArray(e)},obj:function(e){return stringContains(Object.prototype.toString.call(e),"Object")},pth:function(e){return is.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||is.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return is.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return is.hex(e)||is.rgb(e)||is.hsl(e)},key:function(e){return!defaultInstanceSettings.hasOwnProperty(e)&&!defaultTweenSettings.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function parseEasingParameters(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function spring(e,t){var n=parseEasingParameters(e),r=minMax(is.und(n[0])?1:n[0],.1,100),a=minMax(is.und(n[1])?100:n[1],.1,100),i=minMax(is.und(n[2])?10:n[2],.1,100),s=minMax(is.und(n[3])?0:n[3],.1,100),o=Math.sqrt(a/r),l=i/(2*Math.sqrt(a*r)),c=l<1?o*Math.sqrt(1-l*l):0,u=l<1?(l*o-s)/c:-s+o;function h(e){var n=t?t*e/1e3:e;return n=l<1?Math.exp(-n*l*o)*(1*Math.cos(c*n)+u*Math.sin(c*n)):(1+u*n)*Math.exp(-n*o),0===e||1===e?e:1-n}return t?h:function(){var t=cache$2.springs[e];if(t)return t;for(var n=1/6,r=0,a=0;;)if(1===h(r+=n)){if(++a>=16)break}else a=0;var i=r*n*1e3;return cache$2.springs[e]=i,i}}function steps$1(e){return void 0===e&&(e=10),function(t){return Math.ceil(minMax(t,1e-6,1)*e)*(1/e)}}var bezier=function(){var e=.1;function t(e,t){return 1-3*t+3*e}function n(e,t){return 3*t-6*e}function r(e){return 3*e}function a(e,a,i){return((t(a,i)*e+n(a,i))*e+r(a))*e}function i(e,a,i){return 3*t(a,i)*e*e+2*n(a,i)*e+r(a)}return function(t,n,r,s){if(0<=t&&t<=1&&0<=r&&r<=1){var o=new Float32Array(11);if(t!==n||r!==s)for(var l=0;l<11;++l)o[l]=a(l*e,t,r);return function(e){return t===n&&r===s||0===e||1===e?e:a(c(e),n,s)}}function c(n){for(var s=0,l=1;10!==l&&o[l]<=n;++l)s+=e;--l;var c=s+(n-o[l])/(o[l+1]-o[l])*e,u=i(c,t,r);return u>=.001?function(e,t,n,r){for(var s=0;s<4;++s){var o=i(t,n,r);if(0===o)return t;t-=(a(t,n,r)-e)/o}return t}(n,c,t,r):0===u?c:function(e,t,n,r,i){var s,o,l=0;do{(s=a(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(s)>1e-7&&++l<10);return o}(n,s,s+e,t,r)}}}(),penner=(eases={linear:function(){return function(e){return e}}},functionEasings={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=minMax(e,1,10),r=minMax(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){functionEasings[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(functionEasings).forEach((function(e){var t=functionEasings[e];eases["easeIn"+e]=t,eases["easeOut"+e]=function(e,n){return function(r){return 1-t(e,n)(1-r)}},eases["easeInOut"+e]=function(e,n){return function(r){return r<.5?t(e,n)(2*r)/2:1-t(e,n)(-2*r+2)/2}},eases["easeOutIn"+e]=function(e,n){return function(r){return r<.5?(1-t(e,n)(1-2*r))/2:(t(e,n)(2*r-1)+1)/2}}})),eases),eases,functionEasings;function parseEasings(e,t){if(is.fnc(e))return e;var n=e.split("(")[0],r=penner[n],a=parseEasingParameters(e);switch(n){case"spring":return spring(e,t);case"cubicBezier":return applyArguments(bezier,a);case"steps":return applyArguments(steps$1,a);default:return applyArguments(r,a)}}function selectString(e){try{return document.querySelectorAll(e)}catch(e){return}}function filterArray(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,a=[],i=0;i<n;i++)if(i in e){var s=e[i];t.call(r,s,i,e)&&a.push(s)}return a}function flattenArray(e){return e.reduce((function(e,t){return e.concat(is.arr(t)?flattenArray(t):t)}),[])}function toArray$1(e){return is.arr(e)?e:(is.str(e)&&(e=selectString(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function arrayContains(e,t){return e.some((function(e){return e===t}))}function cloneObject(e){var t={};for(var n in e)t[n]=e[n];return t}function replaceObjectProps(e,t){var n=cloneObject(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function mergeObjects(e,t){var n=cloneObject(e);for(var r in t)n[r]=is.und(e[r])?t[r]:e[r];return n}function rgbToRgba(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function hexToRgba(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}function hslToRgba(e){var t,n,r,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(a[1],10)/360,s=parseInt(a[2],10)/100,o=parseInt(a[3],10)/100,l=a[4]||1;function c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==s)t=n=r=o;else{var u=o<.5?o*(1+s):o+s-o*s,h=2*o-u;t=c(h,u,i+1/3),n=c(h,u,i),r=c(h,u,i-1/3)}return"rgba("+255*t+","+255*n+","+255*r+","+l+")"}function colorToRgb(e){return is.rgb(e)?rgbToRgba(e):is.hex(e)?hexToRgba(e):is.hsl(e)?hslToRgba(e):void 0}function getUnit(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function getTransformUnit(e){return stringContains(e,"translate")||"perspective"===e?"px":stringContains(e,"rotate")||stringContains(e,"skew")?"deg":void 0}function getFunctionValue(e,t){return is.fnc(e)?e(t.target,t.id,t.total):e}function getAttribute(e,t){return e.getAttribute(t)}function convertPxToUnit(e,t,n){if(arrayContains([n,"deg","rad","turn"],getUnit(t)))return t;var r=cache$2.CSS[t+n];if(!is.und(r))return r;var a=document.createElement(e.tagName),i=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;i.appendChild(a),a.style.position="absolute",a.style.width=100+n;var s=100/a.offsetWidth;i.removeChild(a);var o=s*parseFloat(t);return cache$2.CSS[t+n]=o,o}function getCSSValue(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?convertPxToUnit(e,a,n):a}}function getAnimationType(e,t){return is.dom(e)&&!is.inp(e)&&(!is.nil(getAttribute(e,t))||is.svg(e)&&e[t])?"attribute":is.dom(e)&&arrayContains(validTransforms,t)?"transform":is.dom(e)&&"transform"!==t&&getCSSValue(e,t)?"css":null!=e[t]?"object":void 0}function getElementTransforms(e){if(is.dom(e)){for(var t,n=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,a=new Map;t=r.exec(n);)a.set(t[1],t[2]);return a}}function getTransformValue(e,t,n,r){var a=stringContains(t,"scale")?1:0+getTransformUnit(t),i=getElementTransforms(e).get(t)||a;return n&&(n.transforms.list.set(t,i),n.transforms.last=t),r?convertPxToUnit(e,i,r):i}function getOriginalTargetValue(e,t,n,r){switch(getAnimationType(e,t)){case"transform":return getTransformValue(e,t,r,n);case"css":return getCSSValue(e,t,n);case"attribute":return getAttribute(e,t);default:return e[t]||0}}function getRelativeValue(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=getUnit(e)||0,a=parseFloat(t),i=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return a+i+r;case"-":return a-i+r;case"*":return a*i+r}}function validateValue(e,t){if(is.col(e))return colorToRgb(e);if(/\s/g.test(e))return e;var n=getUnit(e),r=n?e.substr(0,e.length-n.length):e;return t?r+t:r}function getDistance(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function getCircleLength(e){return 2*Math.PI*getAttribute(e,"r")}function getRectLength(e){return 2*getAttribute(e,"width")+2*getAttribute(e,"height")}function getLineLength(e){return getDistance({x:getAttribute(e,"x1"),y:getAttribute(e,"y1")},{x:getAttribute(e,"x2"),y:getAttribute(e,"y2")})}function getPolylineLength(e){for(var t,n=e.points,r=0,a=0;a<n.numberOfItems;a++){var i=n.getItem(a);a>0&&(r+=getDistance(t,i)),t=i}return r}function getPolygonLength(e){var t=e.points;return getPolylineLength(e)+getDistance(t.getItem(t.numberOfItems-1),t.getItem(0))}function getTotalLength(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return getCircleLength(e);case"rect":return getRectLength(e);case"line":return getLineLength(e);case"polyline":return getPolylineLength(e);case"polygon":return getPolygonLength(e)}}function setDashoffset(e){var t=getTotalLength(e);return e.setAttribute("stroke-dasharray",t),t}function getParentSvgEl(e){for(var t=e.parentNode;is.svg(t)&&is.svg(t.parentNode);)t=t.parentNode;return t}function getParentSvg(e,t){var n=t||{},r=n.el||getParentSvgEl(e),a=r.getBoundingClientRect(),i=getAttribute(r,"viewBox"),s=a.width,o=a.height,l=n.viewBox||(i?i.split(" "):[0,0,s,o]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:s,h:o,vW:l[2],vH:l[3]}}function getPath(e,t){var n=is.str(e)?selectString(e)[0]:e,r=t||100;return function(e){return{property:e,el:n,svg:getParentSvg(n),totalLength:getTotalLength(n)*(r/100)}}}function getPathProgress(e,t,n){function r(n){void 0===n&&(n=0);var r=t+n>=1?t+n:0;return e.el.getPointAtLength(r)}var a=getParentSvg(e.el,e.svg),i=r(),s=r(-1),o=r(1),l=n?1:a.w/a.vW,c=n?1:a.h/a.vH;switch(e.property){case"x":return(i.x-a.x)*l;case"y":return(i.y-a.y)*c;case"angle":return 180*Math.atan2(o.y-s.y,o.x-s.x)/Math.PI}}function decomposeValue(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=validateValue(is.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:is.str(e)||t?r.split(n):[]}}function parseTargets(e){return filterArray(e?flattenArray(is.arr(e)?e.map(toArray$1):toArray$1(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function getAnimatables(e){var t=parseTargets(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:getElementTransforms(e)}}}))}function normalizePropertyTweens(e,t){var n=cloneObject(t);if(/^spring/.test(n.easing)&&(n.duration=spring(n.easing)),is.arr(e)){var r=e.length;2===r&&!is.obj(e[0])?e={value:e}:is.fnc(t.duration)||(n.duration=t.duration/r)}var a=is.arr(e)?e:[e];return a.map((function(e,n){var r=is.obj(e)&&!is.pth(e)?e:{value:e};return is.und(r.delay)&&(r.delay=n?0:t.delay),is.und(r.endDelay)&&(r.endDelay=n===a.length-1?t.endDelay:0),r})).map((function(e){return mergeObjects(e,n)}))}function flattenKeyframes(e){for(var t=filterArray(flattenArray(e.map((function(e){return Object.keys(e)}))),(function(e){return is.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},r=function(r){var a=t[r];n[a]=e.map((function(e){var t={};for(var n in e)is.key(n)?n==a&&(t.value=e[n]):t[n]=e[n];return t}))},a=0;a<t.length;a++)r(a);return n}function getProperties(e,t){var n=[],r=t.keyframes;for(var a in r&&(t=mergeObjects(flattenKeyframes(r),t)),t)is.key(a)&&n.push({name:a,tweens:normalizePropertyTweens(t[a],e)});return n}function normalizeTweenValues(e,t){var n={};for(var r in e){var a=getFunctionValue(e[r],t);is.arr(a)&&1===(a=a.map((function(e){return getFunctionValue(e,t)}))).length&&(a=a[0]),n[r]=a}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function normalizeTweens(e,t){var n;return e.tweens.map((function(r){var a=normalizeTweenValues(r,t),i=a.value,s=is.arr(i)?i[1]:i,o=getUnit(s),l=getOriginalTargetValue(t.target,e.name,o,t),c=n?n.to.original:l,u=is.arr(i)?i[0]:c,h=getUnit(u)||getUnit(l),d=o||h;return is.und(s)&&(s=c),a.from=decomposeValue(u,d),a.to=decomposeValue(getRelativeValue(s,u),d),a.start=n?n.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=parseEasings(a.easing,a.duration),a.isPath=is.pth(i),a.isPathTargetInsideSVG=a.isPath&&is.svg(t.target),a.isColor=is.col(a.from.original),a.isColor&&(a.round=1),n=a,a}))}var setProgressValue={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,a){if(r.list.set(t,n),t===r.last||a){var i="";r.list.forEach((function(e,t){i+=t+"("+e+") "})),e.style.transform=i}}};function setTargetsValue(e,t){getAnimatables(e).forEach((function(e){for(var n in t){var r=getFunctionValue(t[n],e),a=e.target,i=getUnit(r),s=getOriginalTargetValue(a,n,i,e),o=getRelativeValue(validateValue(r,i||getUnit(s)),s),l=getAnimationType(a,n);setProgressValue[l](a,n,o,e.transforms,!0)}}))}function createAnimation(e,t){var n=getAnimationType(e.target,t.name);if(n){var r=normalizeTweens(t,e),a=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:a.end,delay:r[0].delay,endDelay:a.endDelay}}}function getAnimations(e,t){return filterArray(flattenArray(e.map((function(e){return t.map((function(t){return createAnimation(e,t)}))}))),(function(e){return!is.und(e)}))}function getInstanceTimings(e,t){var n=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},a={};return a.duration=n?Math.max.apply(Math,e.map((function(e){return r(e)+e.duration}))):t.duration,a.delay=n?Math.min.apply(Math,e.map((function(e){return r(e)+e.delay}))):t.delay,a.endDelay=n?a.duration-Math.max.apply(Math,e.map((function(e){return r(e)+e.duration-e.endDelay}))):t.endDelay,a}var instanceID=0;function createNewInstance(e){var t=replaceObjectProps(defaultInstanceSettings,e),n=replaceObjectProps(defaultTweenSettings,e),r=getProperties(n,e),a=getAnimatables(e.targets),i=getAnimations(a,r),s=getInstanceTimings(i,n),o=instanceID;return instanceID++,mergeObjects(t,{id:o,children:[],animatables:a,animations:i,duration:s.duration,delay:s.delay,endDelay:s.endDelay})}var activeInstances=[],engine=function(){var e;function t(n){for(var r=activeInstances.length,a=0;a<r;){var i=activeInstances[a];i.paused?(activeInstances.splice(a,1),r--):(i.tick(n),a++)}e=a>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){anime.suspendWhenDocumentHidden&&(isDocumentHidden()?e=cancelAnimationFrame(e):(activeInstances.forEach((function(e){return e._onDocumentVisibility()})),engine()))})),function(){e||isDocumentHidden()&&anime.suspendWhenDocumentHidden||!(activeInstances.length>0)||(e=requestAnimationFrame(t))}}();function isDocumentHidden(){return!!document&&document.hidden}function anime(e){void 0===e&&(e={});var t,n=0,r=0,a=0,i=0,s=null;function o(e){var t=window.Promise&&new Promise((function(e){return s=e}));return e.finished=t,t}var l=createNewInstance(e);function c(){var e=l.direction;"alternate"!==e&&(l.direction="normal"!==e?"normal":"reverse"),l.reversed=!l.reversed,t.forEach((function(e){return e.reversed=l.reversed}))}function u(e){return l.reversed?l.duration-e:e}function h(){n=0,r=u(l.currentTime)*(1/anime.speed)}function d(e,t){t&&t.seek(e-t.timelineOffset)}function p(e){for(var t=0,n=l.animations,r=n.length;t<r;){var a=n[t],i=a.animatable,s=a.tweens,o=s.length-1,c=s[o];o&&(c=filterArray(s,(function(t){return e<t.end}))[0]||c);for(var u=minMax(e-c.start-c.delay,0,c.duration)/c.duration,h=isNaN(u)?1:c.easing(u),d=c.to.strings,p=c.round,g=[],f=c.to.numbers.length,m=void 0,v=0;v<f;v++){var b=void 0,y=c.to.numbers[v],A=c.from.numbers[v]||0;b=c.isPath?getPathProgress(c.value,h*y,c.isPathTargetInsideSVG):A+h*(y-A),p&&(c.isColor&&v>2||(b=Math.round(b*p)/p)),g.push(b)}var _=d.length;if(_){m=d[0];for(var w=0;w<_;w++){d[w];var k=d[w+1],x=g[w];isNaN(x)||(m+=k?x+k:x+" ")}}else m=g[0];setProgressValue[a.type](i.target,a.property,m,i.transforms),a.currentValue=m,t++}}function g(e){l[e]&&!l.passThrough&&l[e](l)}function f(e){var h=l.duration,f=l.delay,m=h-l.endDelay,v=u(e);l.progress=minMax(v/h*100,0,100),l.reversePlayback=v<l.currentTime,t&&function(e){if(l.reversePlayback)for(var n=i;n--;)d(e,t[n]);else for(var r=0;r<i;r++)d(e,t[r])}(v),!l.began&&l.currentTime>0&&(l.began=!0,g("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,g("loopBegin")),v<=f&&0!==l.currentTime&&p(0),(v>=m&&l.currentTime!==h||!h)&&p(h),v>f&&v<m?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,g("changeBegin")),g("change"),p(v)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,g("changeComplete")),l.currentTime=minMax(v,0,h),l.began&&g("update"),e>=h&&(r=0,l.remaining&&!0!==l.remaining&&l.remaining--,l.remaining?(n=a,g("loopComplete"),l.loopBegan=!1,"alternate"===l.direction&&c()):(l.paused=!0,l.completed||(l.completed=!0,g("loopComplete"),g("complete"),!l.passThrough&&"Promise"in window&&(s(),o(l)))))}return o(l),l.reset=function(){var e=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed="reverse"===e,l.remaining=l.loop,t=l.children;for(var n=i=t.length;n--;)l.children[n].reset();(l.reversed&&!0!==l.loop||"alternate"===e&&1===l.loop)&&l.remaining++,p(l.reversed?l.duration:0)},l._onDocumentVisibility=h,l.set=function(e,t){return setTargetsValue(e,t),l},l.tick=function(e){a=e,n||(n=a),f((a+(r-n))*anime.speed)},l.seek=function(e){f(u(e))},l.pause=function(){l.paused=!0,h()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,activeInstances.push(l),h(),engine())},l.reverse=function(){c(),l.completed=!l.reversed,h()},l.restart=function(){l.reset(),l.play()},l.remove=function(e){removeTargetsFromInstance(parseTargets(e),l)},l.reset(),l.autoplay&&l.play(),l}function removeTargetsFromAnimations(e,t){for(var n=t.length;n--;)arrayContains(e,t[n].animatable.target)&&t.splice(n,1)}function removeTargetsFromInstance(e,t){var n=t.animations,r=t.children;removeTargetsFromAnimations(e,n);for(var a=r.length;a--;){var i=r[a],s=i.animations;removeTargetsFromAnimations(e,s),s.length||i.children.length||r.splice(a,1)}n.length||r.length||t.pause()}function removeTargetsFromActiveInstances(e){for(var t=parseTargets(e),n=activeInstances.length;n--;){removeTargetsFromInstance(t,activeInstances[n])}}function stagger(e,t){void 0===t&&(t={});var n=t.direction||"normal",r=t.easing?parseEasings(t.easing):null,a=t.grid,i=t.axis,s=t.from||0,o="first"===s,l="center"===s,c="last"===s,u=is.arr(e),h=u?parseFloat(e[0]):parseFloat(e),d=u?parseFloat(e[1]):0,p=getUnit(u?e[1]:e)||0,g=t.start||0+(u?h:0),f=[],m=0;return function(e,t,v){if(o&&(s=0),l&&(s=(v-1)/2),c&&(s=v-1),!f.length){for(var b=0;b<v;b++){if(a){var y=l?(a[0]-1)/2:s%a[0],A=l?(a[1]-1)/2:Math.floor(s/a[0]),_=y-b%a[0],w=A-Math.floor(b/a[0]),k=Math.sqrt(_*_+w*w);"x"===i&&(k=-_),"y"===i&&(k=-w),f.push(k)}else f.push(Math.abs(s-b));m=Math.max.apply(Math,f)}r&&(f=f.map((function(e){return r(e/m)*m}))),"reverse"===n&&(f=f.map((function(e){return i?e<0?-1*e:-e:Math.abs(m-e)})))}return g+(u?(d-h)/m:h)*(Math.round(100*f[t])/100)+p}}function timeline(e){void 0===e&&(e={});var t=anime(e);return t.duration=0,t.add=function(n,r){var a=activeInstances.indexOf(t),i=t.children;function s(e){e.passThrough=!0}a>-1&&activeInstances.splice(a,1);for(var o=0;o<i.length;o++)s(i[o]);var l=mergeObjects(n,replaceObjectProps(defaultTweenSettings,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=is.und(r)?c:getRelativeValue(r,c),s(t),t.seek(l.timelineOffset);var u=anime(l);s(u),i.push(u);var h=getInstanceTimings(i,e);return t.delay=h.delay,t.endDelay=h.endDelay,t.duration=h.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var a=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}anime.version="3.2.1",anime.speed=1,anime.suspendWhenDocumentHidden=!0,anime.running=activeInstances,anime.remove=removeTargetsFromActiveInstances,anime.get=getOriginalTargetValue,anime.set=setTargetsValue,anime.convertPx=convertPxToUnit,anime.path=getPath,anime.setDashoffset=setDashoffset,anime.stagger=stagger,anime.timeline=timeline,anime.easing=parseEasings,anime.penner=penner,anime.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split("");function makeId(e){for(var t=(e=e||"_")+"-",n=0;n<7;n++)t+=chars[Math.floor(Math.random()*chars.length)];return t}var _id=makeId,compact={"!":"¡","?":"¿Ɂ",'"':'“”"❝❞',"'":"‘‛❛❜","-":"—–",a:"ªÀÁÂÃÄÅàáâãäåĀāĂăĄąǍǎǞǟǠǡǺǻȀȁȂȃȦȧȺΆΑΔΛάαλАадѦѧӐӑӒӓƛɅæ",b:"ßþƀƁƂƃƄƅɃΒβϐϦБВЪЬвъьѢѣҌҍ",c:"¢©ÇçĆćĈĉĊċČčƆƇƈȻȼͻͼͽϲϹϽϾСсєҀҁҪҫ",d:"ÐĎďĐđƉƊȡƋƌǷ",e:"ÈÉÊËèéêëĒēĔĕĖėĘęĚěƎƏƐǝȄȅȆȇȨȩɆɇΈΕΞΣέεξϱϵ϶ЀЁЕЭеѐёҼҽҾҿӖӗӘәӚӛӬӭ",f:"ƑƒϜϝӺӻҒғſ",g:"ĜĝĞğĠġĢģƓǤǥǦǧǴǵ",h:"ĤĥĦħƕǶȞȟΉΗЂЊЋНнђћҢңҤҥҺһӉӊ",I:"ÌÍÎÏ",i:"ìíîïĨĩĪīĬĭĮįİıƖƗȈȉȊȋΊΐΪίιϊІЇії",j:"ĴĵǰȷɈɉϳЈј",k:"ĶķĸƘƙǨǩΚκЌЖКжкќҚқҜҝҞҟҠҡ",l:"ĹĺĻļĽľĿŀŁłƚƪǀǏǐȴȽΙӀӏ",m:"ΜϺϻМмӍӎ",n:"ÑñŃńŅņŇňŉŊŋƝƞǸǹȠȵΝΠήηϞЍИЙЛПийлпѝҊҋӅӆӢӣӤӥπ",o:"ÒÓÔÕÖØðòóôõöøŌōŎŏŐőƟƠơǑǒǪǫǬǭǾǿȌȍȎȏȪȫȬȭȮȯȰȱΌΘΟθοσόϕϘϙϬϭϴОФоѲѳӦӧӨөӪӫ",p:"ƤƿΡρϷϸϼРрҎҏÞ",q:"Ɋɋ",r:"ŔŕŖŗŘřƦȐȑȒȓɌɍЃГЯгяѓҐґ",s:"ŚśŜŝŞşŠšƧƨȘșȿЅѕ",t:"ŢţŤťŦŧƫƬƭƮȚțȶȾΓΤτϮТт",u:"µÙÚÛÜùúûüŨũŪūŬŭŮůŰűŲųƯưƱƲǓǔǕǖǗǘǙǚǛǜȔȕȖȗɄΰμυϋύ",v:"νѴѵѶѷ",w:"ŴŵƜωώϖϢϣШЩшщѡѿ",x:"×ΧχϗϰХхҲҳӼӽӾӿ",y:"ÝýÿŶŷŸƳƴȲȳɎɏΎΥΫγψϒϓϔЎУучўѰѱҮүҰұӮӯӰӱӲӳ",z:"ŹźŻżŽžƩƵƶȤȥɀΖζ"},unicode={};Object.keys(compact).forEach((function(e){compact[e].split("").forEach((function(t){unicode[t]=e}))}));var killUnicode=function(e){var t=e.split("");return t.forEach((function(e,n){unicode[e]&&(t[n]=unicode[e])})),t.join("")},unicode_1=killUnicode,periodAcronym=/([A-Z]\.)+[A-Z]?,?$/,oneLetterAcronym$1=/^[A-Z]\.,?$/,noPeriodAcronym=/[A-Z]{2,}('s|,)?$/,lowerCaseAcronym=/([a-z]\.){1,}[a-z]\.?$/,isAcronym$2=function(e){return!0===periodAcronym.test(e)||(!0===lowerCaseAcronym.test(e)||(!0===oneLetterAcronym$1.test(e)||!0===noPeriodAcronym.test(e)))},isAcronym_1$1=isAcronym$2,hasSlash$1=/[a-z\u00C0-\u00FF] ?\/ ?[a-z\u00C0-\u00FF]/,clean=function(e){var t=e=(e=(e=e||"").toLowerCase()).trim();return e=unicode_1(e),!0===hasSlash$1.test(e)&&(e=e.replace(/\/.*/,"")),e=(e=(e=(e=(e=(e=(e=e.replace(/^[#@]/,"")).replace(/[,;.!?]+$/,"")).replace(/[\u0027\u0060\u00B4\u2018\u2019\u201A\u201B\u2032\u2035\u2039\u203A]+/g,"'")).replace(/[\u0022\u00AB\u00BB\u201C\u201D\u201E\u201F\u2033\u2034\u2036\u2037\u2E42\u301D\u301E\u301F\uFF02]+/g,'"')).replace(/\u2026/g,"...")).replace(/\u2013/g,"-")).replace(/([aeiou][ktrp])in$/,"$1ing"),!0===/^(re|un)-?[^aeiou]./.test(e)&&(e=e.replace("-","")),isAcronym_1$1(e)&&(e=e.replace(/\./g,"")),!1===/^[:;]/.test(e)&&(e=(e=(e=e.replace(/\.{3,}$/g,"")).replace(/[",\.!:;\?\)]+$/g,"")).replace(/^['"\(]+/g,"")),""===(e=(e=e.replace(/[\u200B-\u200D\uFEFF]/g,"")).trim())&&(e=t),e=e.replace(/([0-9]),([0-9])/g,"$1$2")},clean_1=clean,reduced=function(e){return e=(e=e.replace(/['’]s$/,"")).replace(/s['’]$/,"s")},reduce=reduced,startings=/^[ \n\t\.’'\[\](){}⟨⟩:,،、‒–—―…!.‹›«»‐\-?‘’;\/⁄·&*•^†‡°¡¿※№÷×ºª%‰+−=‱¶′″‴§~|‖¦©℗®℠™¤₳฿\u0022|\uFF02|\u0027|\u201C|\u2018|\u201F|\u201B|\u201E|\u2E42|\u201A|\u00AB|\u2039|\u2035|\u2036|\u2037|\u301D|\u0060|\u301F]+/,endings=/[ \n\t\.’'\[\](){}⟨⟩:,،、‒–—―…!.‹›«»‐\-?‘’;\/⁄·&*@•^†‡°¡¿※#№÷×ºª‰+−=‱¶′″‴§~|‖¦©℗®℠™¤₳฿\u0022|\uFF02|\u0027|\u201D|\u2019|\u201D|\u2019|\u201D|\u201D|\u2019|\u00BB|\u203A|\u2032|\u2033|\u2034|\u301E|\u00B4|\u301E]+$/,hasSlash=/\//,hasApostrophe=/['’]/,hasAcronym=/^[a-z]\.([a-z]\.)+/i,minusNumber=/^[-+\.][0-9]/,shortYear=/^'[0-9]{2}/,parseTerm=function(e){var t=e,n="",r="";""===(e=(e=e.replace(startings,(function(t){return"-"!==(n=t)&&"+"!==n&&"."!==n||!minusNumber.test(e)?"'"===n&&shortYear.test(e)?(n="",t):"":(n="",t)}))).replace(endings,(function(a){return r=a,hasApostrophe.test(a)&&/[sn]['’]$/.test(t)&&!1===hasApostrophe.test(n)?(r=r.replace(hasApostrophe,""),"'"):!0===hasAcronym.test(e)?(r=r.replace(/\./,""),"."):""})))&&(t=t.replace(/ *$/,(function(e){return r=e||"",""})),e=t,n="",r=r);var a=clean_1(e),i={text:e,clean:a,reduced:reduce(a),pre:n,post:r};return hasSlash.test(e)&&e.split(hasSlash).forEach((function(e){i.alias=i.alias||{},i.alias[e.trim()]=!0})),i},parse$2=parseTerm;function createCommonjsModule(e){var t={exports:{}};return e(t,t.exports),t.exports}var _01Case=createCommonjsModule((function(e,t){var n=/^[A-Z][a-z'\u00C0-\u00FF]/,r=/^[A-Z]+s?$/;t.toUpperCase=function(){return this.text=this.text.toUpperCase(),this},t.toLowerCase=function(){return this.text=this.text.toLowerCase(),this},t.toTitleCase=function(){return this.text=this.text.replace(/^ *[a-z\u00C0-\u00FF]/,(function(e){return e.toUpperCase()})),this},t.isUpperCase=function(){return r.test(this.text)},t.isTitleCase=function(){return n.test(this.text)},t.titleCase=t.isTitleCase})),_02Punctuation$1=createCommonjsModule((function(e,t){var n=/(\u0022|\uFF02|\u0027|\u201C|\u2018|\u201F|\u201B|\u201E|\u2E42|\u201A|\u00AB|\u2039|\u2035|\u2036|\u2037|\u301D|\u0060|\u301F)/,r=/(\u0022|\uFF02|\u0027|\u201D|\u2019|\u201D|\u2019|\u201D|\u201D|\u2019|\u00BB|\u203A|\u2032|\u2033|\u2034|\u301E|\u00B4|\u301E)/;t.hasPost=function(e){return-1!==this.post.indexOf(e)},t.hasPre=function(e){return-1!==this.pre.indexOf(e)},t.hasQuote=function(){return n.test(this.pre)||r.test(this.post)},t.hasQuotation=t.hasQuote,t.hasComma=function(){return this.hasPost(",")},t.hasPeriod=function(){return!0===this.hasPost(".")&&!1===this.hasPost("...")},t.hasExclamation=function(){return this.hasPost("!")},t.hasQuestionMark=function(){return this.hasPost("?")||this.hasPost("¿")},t.hasEllipses=function(){return this.hasPost("..")||this.hasPost("…")||this.hasPre("..")||this.hasPre("…")},t.hasSemicolon=function(){return this.hasPost(";")},t.hasSlash=function(){return/\//.test(this.text)},t.hasHyphen=function(){var e=/^(-|–|—)$/;return e.test(this.post)||e.test(this.pre)},t.hasDash=function(){var e=/ (-|–|—) /;return e.test(this.post)||e.test(this.pre)},t.hasContraction=function(){return Boolean(this.implicit)},t.addPunctuation=function(e){return","!==e&&";"!==e||(this.post=this.post.replace(e,"")),this.post=e+this.post,this}})),editDistance=function(e,t){var n=e.length,r=t.length;if(0===n)return r;if(0===r)return n;var a=(r>n?r:n)+1;if(Math.abs(n-r)>(a||100))return a||100;for(var i,s,o,l,c,u,h=[],d=0;d<a;d++)h[d]=[d],h[d].length=a;for(var p=0;p<a;p++)h[0][p]=p;for(var g=1;g<=n;++g)for(s=e[g-1],i=1;i<=r;++i){if(g===i&&h[g][i]>4)return n;l=s===(o=t[i-1])?0:1,c=h[g-1][i]+1,(u=h[g][i-1]+1)<c&&(c=u),(u=h[g-1][i-1]+l)<c&&(c=u);var f=g>1&&i>1&&s===t[i-2]&&e[g-2]===o&&(u=h[g-2][i-2]+l)<c;h[g][i]=f?u:c}return h[n][r]},fuzzyMatch=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(e===t)return 1;if(e.length<n||t.length<n)return 0;var r=editDistance(e,t),a=Math.max(e.length,t.length),i=0===a?0:r/a,s=1-i;return s},_fuzzy=fuzzyMatch,wrapMatch=function(){},doesMatch=function(e,t,n,r){if(t.id===e.id)return!0;if(!0===t.anything)return!0;if(!0===t.start&&0!==n)return!1;if(!0===t.end&&n!==r-1)return!1;if(void 0!==t.word){if(null!==e.implicit&&e.implicit===t.word)return!0;if(void 0!==e.alias&&e.alias.hasOwnProperty(t.word))return!0;if(!0===t.soft&&t.word===e.root)return!0;if(void 0!==t.fuzzy){var a=_fuzzy(t.word,e.reduced);if(a>t.fuzzy)return!0;if(!0===t.soft&&(a=_fuzzy(t.word,e.root))>t.fuzzy)return!0}return t.word===e.clean||t.word===e.text||t.word===e.reduced}return void 0!==t.tag?!0===e.tags[t.tag]:void 0!==t.method?"function"==typeof e[t.method]&&!0===e[t.method]():void 0!==t.regex?t.regex.test(e.clean):void 0!==t.fastOr?t.fastOr.hasOwnProperty(e.reduced)||t.fastOr.hasOwnProperty(e.text):void 0!==t.choices&&("and"===t.operator?t.choices.every((function(t){return wrapMatch(e,t,n,r)})):t.choices.some((function(t){return wrapMatch(e,t,n,r)})))};wrapMatch=function(e,t,n,r){var a=doesMatch(e,t,n,r);return!0===t.negative?!a:a};var _doesMatch=wrapMatch,boring={},doesMatch_1=function(e,t,n){return _doesMatch(this,e,t,n)},isAcronym_1=function(){return isAcronym_1$1(this.text)},isImplicit=function(){return""===this.text&&Boolean(this.implicit)},isKnown=function(){return Object.keys(this.tags).some((function(e){return!0!==boring[e]}))},setRoot=function(e){var t=e.transforms,n=this.implicit||this.clean;if(this.tags.Plural&&(n=t.toSingular(n,e)),this.tags.Verb&&!this.tags.Negative&&!this.tags.Infinitive){var r=null;this.tags.PastTense?r="PastTense":this.tags.Gerund?r="Gerund":this.tags.PresentTense?r="PresentTense":this.tags.Participle?r="Participle":this.tags.Actor&&(r="Actor"),n=t.toInfinitive(n,e,r)}this.root=n},_03Misc={doesMatch:doesMatch_1,isAcronym:isAcronym_1,isImplicit:isImplicit,isKnown:isKnown,setRoot:setRoot},hasSpace$1=/[\s-]/,isUpperCase=/^[A-Z-]+$/,textOut=function(e,t,n){e=e||{};var r=this.text,a=this.pre,i=this.post;return!0===e.reduced&&(r=this.reduced||""),!0===e.root&&(r=this.root||""),!0===e.implicit&&this.implicit&&(r=this.implicit||""),!0===e.normal&&(r=this.clean||this.text||""),!0===e.root&&(r=this.root||this.reduced||""),!0===e.unicode&&(r=unicode_1(r)),!0===e.titlecase&&(this.tags.ProperNoun&&!this.titleCase()||(this.tags.Acronym?r=r.toUpperCase():isUpperCase.test(r)&&!this.tags.Acronym&&(r=r.toLowerCase()))),!0===e.lowercase&&(r=r.toLowerCase()),!0===e.acronyms&&this.tags.Acronym&&(r=r.replace(/\./g,"")),!0!==e.whitespace&&!0!==e.root||(a="",i=" ",!1!==hasSpace$1.test(this.post)&&!e.last||this.implicit||(i="")),!0!==e.punctuation||e.root||(!0===this.hasPost(".")?i="."+i:!0===this.hasPost("?")?i="?"+i:!0===this.hasPost("!")?i="!"+i:!0===this.hasPost(",")?i=","+i:!0===this.hasEllipses()&&(i="..."+i)),!0!==t&&(a=""),!0!==n&&(i=""),!0===e.abbreviations&&this.tags.Abbreviation&&(i=i.replace(/^\./,"")),a+r+i},_04Text={textOut:textOut},boringTags={Auxiliary:1,Possessive:1},rankTags=function(e,t){var n=Object.keys(e.tags),r=t.tags;return n=n.sort((function(e,t){return boringTags[t]||!r[t]?-1:r[t]?r[e]?r[e].lineage.length>r[t].lineage.length?1:r[e].isA.length>r[t].isA.length?-1:0:0:1}))},_bestTag=rankTags,jsonDefault={text:!0,tags:!0,implicit:!0,whitespace:!0,clean:!1,id:!1,index:!1,offset:!1,bestTag:!1},json$1=function(e,t){e=e||{};var n={};return(e=Object.assign({},jsonDefault,e)).text&&(n.text=this.text),e.normal&&(n.normal=this.clean),e.tags&&(n.tags=Object.keys(this.tags)),e.clean&&(n.clean=this.clean),(e.id||e.offset)&&(n.id=this.id),e.implicit&&null!==this.implicit&&(n.implicit=this.implicit),e.whitespace&&(n.pre=this.pre,n.post=this.post),e.bestTag&&(n.bestTag=_bestTag(this,t)[0]),n},_05Json$1={json:json$1},methods$8=Object.assign({},_01Case,_02Punctuation$1,_03Misc,_04Text,_05Json$1);function isClientSide(){return"undefined"!=typeof window&&window.document}var padEnd=function(e,t){for(e=e.toString();e.length<t;)e+=" ";return e},logTag=function(e,t,n){if(isClientSide())console.log("%c"+padEnd(e.clean,3)+"  + "+t+" ","color: #6accb2;");else{var r="[33m"+padEnd(e.clean,15)+"[0m + [32m"+t+"[0m ";n&&(r=padEnd(r,35)+" "+n),console.log(r)}},logUntag=function(e,t,n){if(isClientSide())console.log("%c"+padEnd(e.clean,3)+"  - "+t+" ","color: #AB5850;");else{var r="[33m"+padEnd(e.clean,3)+" [31m - #"+t+"[0m ";n&&(r=padEnd(r,35)+" "+n),console.log(r)}},isArray$3=function(e){return"[object Array]"===Object.prototype.toString.call(e)},titleCase$4=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},fns$1={logTag:logTag,logUntag:logUntag,isArray:isArray$3,titleCase:titleCase$4},addTag=function(e,t,n,r){var a=r.tags;if(""!==t&&"."!==t&&"-"!==t&&("#"===t[0]&&(t=t.replace(/^#/,"")),t=fns$1.titleCase(t),!0!==e.tags[t])){var i=r.isVerbose();!0===i&&fns$1.logTag(e,t,n),e.tags[t]=!0,!0===a.hasOwnProperty(t)&&(a[t].isA.forEach((function(t){e.tags[t]=!0,!0===i&&fns$1.logTag(e,"→ "+t)})),e.unTag(a[t].notA,"←",r))}},addTags=function(e,t,n,r){if("string"!=typeof t)for(var a=0;a<t.length;a++)addTag(e,t[a],n,r);else addTag(e,t,n,r)},add=addTags,lowerCase=/^[a-z]/,titleCase$3=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},unTag$1=function(e,t,n,r){var a=r.isVerbose();if("*"===t)return e.tags={},e;t=t.replace(/^#/,""),!0===lowerCase.test(t)&&(t=titleCase$3(t)),!0===e.tags[t]&&(delete e.tags[t],!0===a&&fns$1.logUntag(e,t,n));var i=r.tags;if(i[t])for(var s=i[t].lineage,o=0;o<s.length;o++)!0===e.tags[s[o]]&&(delete e.tags[s[o]],!0===a&&fns$1.logUntag(e," - "+s[o]));return e},untagAll=function(e,t,n,r){if("string"!=typeof t&&t)for(var a=0;a<t.length;a++)unTag$1(e,t[a],n,r);else unTag$1(e,t,n,r)},unTag_1$1=untagAll,canBe$2=function e(t,n,r){var a=r.tags;if("#"===n[0]&&(n=n.replace(/^#/,"")),void 0===a[n])return!0;for(var i=a[n].notA||[],s=0;s<i.length;s++)if(!0===t.tags[i[s]])return!1;return void 0===a[n].isA||e(t,a[n].isA,r)},canBe_1$1=canBe$2,tag_1=function(e,t,n){return add(this,e,t,n),this},tagSafe$1=function(e,t,n){return canBe_1$1(this,e,n)&&add(this,e,t,n),this},unTag_1=function(e,t,n){return unTag_1$1(this,e,t,n),this},canBe_1=function(e,t){return canBe_1$1(this,e,t)},tag$1={tag:tag_1,tagSafe:tagSafe$1,unTag:unTag_1,canBe:canBe_1},Term=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";_classCallCheck(this,e),t=String(t);var n=parse$2(t);this.text=n.text||"",this.clean=n.clean,this.reduced=n.reduced,this.root=null,this.implicit=null,this.pre=n.pre||"",this.post=n.post||"",this.tags={},this.prev=null,this.next=null,this.id=_id(n.clean),this.isA="Term",n.alias&&(this.alias=n.alias)}return _createClass(e,[{key:"set",value:function(e){var t=parse$2(e);return this.text=t.text,this.clean=t.clean,this}}]),e}();Term.prototype.clone=function(){var e=new Term(this.text);return e.pre=this.pre,e.post=this.post,e.clean=this.clean,e.reduced=this.reduced,e.root=this.root,e.implicit=this.implicit,e.tags=Object.assign({},this.tags),e},Object.assign(Term.prototype,methods$8),Object.assign(Term.prototype,tag$1);var Term_1=Term,terms=function(e){if(0===this.length)return[];if(this.cache.terms)return void 0!==e?this.cache.terms[e]:this.cache.terms;for(var t=[this.pool.get(this.start)],n=0;n<this.length-1;n+=1){var r=t[t.length-1].next;if(null===r){console.error("Compromise error: Linked list broken in phrase '"+this.start+"'");break}var a=this.pool.get(r);if(t.push(a),void 0!==e&&e===n)return t[e]}return void 0===e&&(this.cache.terms=t),void 0!==e?t[e]:t},clone$1=function(e){var t=this;if(e){var n=this.buildFrom(this.start,this.length);return n.cache=this.cache,n}var r=this.terms().map((function(e){return e.clone()}));return r.forEach((function(e,n){t.pool.add(e),r[n+1]&&(e.next=r[n+1].id),r[n-1]&&(e.prev=r[n-1].id)})),this.buildFrom(r[0].id,r.length)},lastTerm=function(){var e=this.terms();return e[e.length-1]},hasId=function(e){if(0===this.length||!e)return!1;if(this.start===e)return!0;if(this.cache.terms){for(var t=this.cache.terms,n=0;n<t.length;n++)if(t[n].id===e)return!0;return!1}for(var r=this.start,a=0;a<this.length-1;a+=1){var i=this.pool.get(r);if(void 0===i)return console.error("Compromise error: Linked list broken. Missing term '".concat(r,"' in phrase '").concat(this.start,"'\n")),!1;if(i.next===e)return!0;r=i.next}return!1},wordCount=function(){return this.terms().filter((function(e){return""!==e.text})).length},fullSentence=function(){for(var e=this.terms(0);e.prev;)e=this.pool.get(e.prev);for(var t=e.id,n=1;e.next;)e=this.pool.get(e.next),n+=1;return this.buildFrom(t,n)},_01Utils$1={terms:terms,clone:clone$1,lastTerm:lastTerm,hasId:hasId,wordCount:wordCount,fullSentence:fullSentence},trimEnd=function(e){return e.replace(/ +$/,"")},text$1=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;"string"==typeof e&&(e="normal"===e?{whitespace:!0,unicode:!0,lowercase:!0,punctuation:!0,acronyms:!0,abbreviations:!0,implicit:!0,normal:!0}:"clean"===e?{titlecase:!1,lowercase:!0,punctuation:!0,whitespace:!0,unicode:!0,implicit:!0,normal:!0}:"reduced"===e?{punctuation:!1,titlecase:!1,lowercase:!0,whitespace:!0,unicode:!0,implicit:!0,reduced:!0}:"implicit"===e?{punctuation:!0,implicit:!0,whitespace:!0,trim:!0}:"root"===e?{titlecase:!1,lowercase:!0,punctuation:!0,whitespace:!0,unicode:!0,implicit:!0,root:!0}:{});var r=this.terms(),a=!1;r[0]&&null===r[0].prev&&null===r[r.length-1].next&&(a=!0);var i=r.reduce((function(i,s,o){if(0===o&&""===s.text&&null!==s.implicit&&!e.implicit)return i;e.last=n&&o===r.length-1;var l=!0,c=!0;return!1===a&&(0===o&&t&&(l=!1),o===r.length-1&&n&&(c=!1)),i+s.textOut(e,l,c)}),"");return!0===a&&n&&(i=trimEnd(i)),!0===e.trim&&(i=i.trim()),i},_02Text={text:text$1},trim=function(){var e=this.terms();if(e.length>0){e[0].pre=e[0].pre.replace(/^\s+/,"");var t=e[e.length-1];t.post=t.post.replace(/\s+$/,"")}return this},_03Change={trim:trim},endOfSentence=/[.?!]\s*$/,combinePost=function(e,t){return endOfSentence.test(t)?t+e.match(/\s*$/):e},addWhitespace$1=function(e,t){t[0].pre=e[0].pre;var n=e[e.length-1],r=t[t.length-1];r.post=combinePost(n.post,r.post),n.post="",""===n.post&&(n.post+=" ")},stitchIn$1=function(e,t,n){var r=e[e.length-1],a=t[t.length-1],i=r.next;(r.next=t[0].id,a.next=i,i)&&(n.get(i).prev=a.id);var s=e[0].id;s&&(t[0].prev=s)},unique$5=function(e){return e.filter((function(t,n){return e.indexOf(t)===n}))},appendPhrase=function(e,t,n){var r=e.terms(),a=t.terms();addWhitespace$1(r,a),stitchIn$1(r,a,e.pool);var i=[e],s=e.start,o=[n];return(o=o.concat(n.parents())).forEach((function(e){var t=e.list.filter((function(e){return e.hasId(s)}));i=i.concat(t)})),(i=unique$5(i)).forEach((function(e){e.length+=t.length})),e.cache={},e},append=appendPhrase,hasSpace=/ /,addWhitespace=function(e){var t=e[e.length-1];!1===hasSpace.test(t.post)&&(t.post+=" ")},stitchIn=function(e,t,n){var r=n[n.length-1];r.next=e.start;var a=e.pool,i=a.get(e.start);i.prev&&(a.get(i.prev).next=t.start);n[0].prev=e.terms(0).prev,e.terms(0).prev=r.id},unique$4=function(e){return e.filter((function(t,n){return e.indexOf(t)===n}))},joinPhrase=function(e,t,n){var r=e.start,a=t.terms();addWhitespace(a),stitchIn(e,t,a);var i=[e],s=[n];return(s=s.concat(n.parents())).forEach((function(e){var n=e.list.filter((function(e){return e.hasId(r)||e.hasId(t.start)}));i=i.concat(n)})),(i=unique$4(i)).forEach((function(e){e.length+=t.length,e.start===r&&(e.start=t.start),e.cache={}})),e},prepend=joinPhrase,shrinkAll=function(e,t,n,r){var a=e.parents();a.push(e),a.forEach((function(e){var a=e.list.find((function(e){return e.hasId(t)}));a&&(a.length-=n,a.start===t&&(a.start=r.id),a.cache={})})),e.list=e.list.filter((function(e){return!(!e.start||!e.length)}))},deletePhrase=function(e,t){var n=t.pool(),r=e.terms(),a=n.get(r[0].prev)||{},i=n.get(r[r.length-1].next)||{};r[0].implicit&&a.implicit&&(a.set(a.implicit),a.post+=" "),shrinkAll(t,e.start,e.length,i),a&&(a.next=i.id),i&&(i.prev=a.id)},_delete$1=deletePhrase,append_1=function(e,t){return append(this,e,t),this},prepend_1=function(e,t){return prepend(this,e,t),this},_delete=function(e){return _delete$1(this,e),this},replace$1=function(e,t){var n=this.length;append(this,e,t);var r=this.buildFrom(this.start,this.length);r.length=n,_delete$1(r,t)},splitOn=function(e){var t=this.terms(),n={before:null,match:null,after:null},r=t.findIndex((function(t){return t.id===e.start}));if(-1===r)return n;var a=t.slice(0,r);a.length>0&&(n.before=this.buildFrom(a[0].id,a.length));var i=t.slice(r,r+e.length);i.length>0&&(n.match=this.buildFrom(i[0].id,i.length));var s=t.slice(r+e.length,t.length);return s.length>0&&(n.after=this.buildFrom(s[0].id,s.length,this.pool)),n},_04Insert={append:append_1,prepend:prepend_1,delete:_delete,replace:replace$1,splitOn:splitOn},json=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={};return e.text&&(n.text=this.text()),e.normal&&(n.normal=this.text("normal")),e.clean&&(n.clean=this.text("clean")),e.reduced&&(n.reduced=this.text("reduced")),e.implicit&&(n.implicit=this.text("implicit")),e.root&&(n.root=this.text("root")),e.trim&&(n.text&&(n.text=n.text.trim()),n.normal&&(n.normal=n.normal.trim()),n.reduced&&(n.reduced=n.reduced.trim())),e.terms&&(!0===e.terms&&(e.terms={}),n.terms=this.terms().map((function(n){return n.json(e.terms,t)}))),n},_05Json={json:json},lookAhead=function(e){e||(e=".*");var t=this.pool,n=[],r=this.terms();return function e(r){var a=t.get(r);a&&(n.push(a),a.prev&&e(a.next))}(r[r.length-1].next),0===n.length?[]:this.buildFrom(n[0].id,n.length).match(e)},lookBehind=function(e){e||(e=".*");var t=this.pool,n=[];return function e(r){var a=t.get(r);a&&(n.push(a),a.prev&&e(a.prev))}(t.get(this.start).prev),0===n.length?[]:this.buildFrom(n[n.length-1].id,n.length).match(e)},_06Lookahead={lookAhead:lookAhead,lookBehind:lookBehind},methods$7=Object.assign({},_01Utils$1,_02Text,_03Change,_04Insert,_05Json,_06Lookahead),failFast$1=function(e,t){if(0===t.length)return!0;for(var n=0;n<t.length;n+=1){var r=t[n];if(!0!==r.optional&&!0!==r.negative&&!0===r.start&&n>0)return!0;if(!0===r.anything&&!0===r.negative)return!0}return!1},_02FailFast=failFast$1,_matchLogic=createCommonjsModule((function(e,t){t.getGreedy=function(e,t){for(var n=Object.assign({},e.regs[e.r],{start:!1,end:!1}),r=e.t;e.t<e.terms.length;e.t+=1){if(t&&e.terms[e.t].doesMatch(t,e.start_i+e.t,e.phrase_length))return e.t;var a=e.t-r+1;if(void 0!==n.max&&a===n.max)return e.t;if(!1===e.terms[e.t].doesMatch(n,e.start_i+e.t,e.phrase_length))return void 0!==n.min&&a<n.min?null:e.t}return e.t},t.greedyTo=function(e,t){var n=e.t;if(!t)return e.terms.length;for(;n<e.terms.length;n+=1)if(!0===e.terms[n].doesMatch(t,e.start_i+n,e.phrase_length))return n;return null},t.isEndGreedy=function(e,t){if(!0===e.end&&!0===e.greedy&&t.start_i+t.t<t.phrase_length-1){var n=Object.assign({},e,{end:!1});if(!0===t.terms[t.t].doesMatch(n,t.start_i+t.t,t.phrase_length))return!0}return!1},t.doOrBlock=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.regs[e.r],a=!1,i=0;i<r.choices.length;i+=1){var s=r.choices[i];if(a=s.every((function(t,r){var a=0,i=e.t+r+n+a;if(void 0===e.terms[i])return!1;var s=e.terms[i].doesMatch(t,i+e.start_i,e.phrase_length);if(!0===s&&!0===t.greedy)for(var o=1;o<e.terms.length;o+=1){var l=e.terms[i+o];if(l){if(!0!==l.doesMatch(t,e.start_i+o,e.phrase_length))break;a+=1}}return n+=a,s}))){n+=s.length;break}}return a&&!0===r.greedy?t.doOrBlock(e,n):n},t.doAndBlock=function(e){var t=0;return!0===e.regs[e.r].choices.every((function(n){var r=n.every((function(t,n){var r=e.t+n;return void 0!==e.terms[r]&&e.terms[r].doesMatch(t,r,e.phrase_length)}));return!0===r&&n.length>t&&(t=n.length),r}))&&t},t.getGroup=function(e,t,n){if(e.groups[e.groupId])return e.groups[e.groupId];var r=e.terms[t].id;return e.groups[e.groupId]={group:String(n),start:r,length:0},e.groups[e.groupId]}})),tryHere=function(e,t,n,r){for(var a={t:0,terms:e,r:0,regs:t,groups:{},start_i:n,phrase_length:r,hasGroup:!1,groupId:null,previousGroup:null};a.r<t.length;a.r+=1){var i=t[a.r];if(a.hasGroup="string"==typeof i.named||"number"==typeof i.named,!0===a.hasGroup){var s=t[a.r-1];s&&s.named===i.named&&a.previousGroup?a.groupId=a.previousGroup:(a.groupId=_id(i.named),a.previousGroup=a.groupId)}if(!a.terms[a.t]){if(!1===t.slice(a.r).some((function(e){return!e.optional})))break;return null}if(!0!==i.anything||!0!==i.greedy){if(void 0!==i.choices&&"or"===i.operator){var o=_matchLogic.doOrBlock(a);if(o){if(!0===i.negative)return null;if(!0===a.hasGroup)_matchLogic.getGroup(a,a.t,i.named).length+=o;a.t+=o;continue}if(!i.optional)return null}if(void 0!==i.choices&&"and"===i.operator){var l=_matchLogic.doAndBlock(a);if(l){if(!0===i.negative)return null;if(!0===a.hasGroup)_matchLogic.getGroup(a,a.t,i.named).length+=l;a.t+=l;continue}if(!i.optional)return null}var c=a.terms[a.t],u=c.doesMatch(i,a.start_i+a.t,a.phrase_length);if(!0===i.anything||!0===u||_matchLogic.isEndGreedy(i,a)){var h=a.t;if(i.optional&&t[a.r+1]&&i.negative)continue;if(i.optional&&t[a.r+1]){var d=c.doesMatch(t[a.r+1],a.start_i+a.t,a.phrase_length);if(i.negative||d){var p=a.terms[a.t+1];p&&p.doesMatch(t[a.r+1],a.start_i+a.t,a.phrase_length)||(a.r+=1)}}if(a.t+=1,!0===i.end&&a.t!==a.terms.length&&!0!==i.greedy)return null;if(!0===i.greedy){if(a.t=_matchLogic.getGreedy(a,t[a.r+1]),null===a.t)return null;if(i.min&&i.min>a.t)return null;if(!0===i.end&&a.start_i+a.t!==r)return null}if(!0===a.hasGroup){var g=_matchLogic.getGroup(a,h,i.named);a.t>1&&i.greedy?g.length+=a.t-h:g.length++}}else{if(i.negative){var f=Object.assign({},i);if(f.negative=!1,!0===a.terms[a.t].doesMatch(f,a.start_i+a.t,a.phrase_length))return null}if(!0!==i.optional){if(a.terms[a.t].isImplicit()&&t[a.r-1]&&a.terms[a.t+1]){if(a.terms[a.t-1]&&a.terms[a.t-1].implicit===t[a.r-1].word)return null;if(a.terms[a.t+1].doesMatch(i,a.start_i+a.t,a.phrase_length)){a.t+=2;continue}}return null}}}else{var m=_matchLogic.greedyTo(a,t[a.r+1]);if(void 0!==i.min&&m-a.t<i.min)return null;if(void 0!==i.max&&m-a.t>i.max){a.t=a.t+i.max;continue}if(null===m)return null;!0===a.hasGroup&&(_matchLogic.getGroup(a,a.t,i.named).length=m-a.t),a.t=m}}return{match:a.terms.slice(0,a.t),groups:a.groups}},_03TryMatch=tryHere,postProcess$1=function(e,t,n){if(!n||0===n.length)return n;if(t.some((function(e){return e.end}))){var r=e[e.length-1];n=n.filter((function(e){return-1!==e.match.indexOf(r)}))}return n},_04PostProcess=postProcess$1,hasMinMax=/\{([0-9]+,?[0-9]*)\}/,andSign=/&&/,captureName=new RegExp(/^<(\S+)>/),titleCase$2=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},end=function(e){return e[e.length-1]},start=function(e){return e[0]},stripStart=function(e){return e.substr(1)},stripEnd=function(e){return e.substr(0,e.length-1)},stripBoth=function(e){return e=stripStart(e),e=stripEnd(e)},parseToken=function e(t){for(var n={},r=0;r<2;r+=1){if("$"===end(t)&&(n.end=!0,t=stripEnd(t)),"^"===start(t)&&(n.start=!0,t=stripStart(t)),("["===start(t)||"]"===end(t))&&(n.named=!0,"["===start(t)?n.groupType="]"===end(t)?"single":"start":n.groupType="end",t=(t=t.replace(/^\[/,"")).replace(/\]$/,""),"<"===start(t))){var a=captureName.exec(t);a.length>=2&&(n.named=a[1],t=t.replace(a[0],""))}if("+"===end(t)&&(n.greedy=!0,t=stripEnd(t)),"*"!==t&&"*"===end(t)&&"\\*"!==t&&(n.greedy=!0,t=stripEnd(t)),"?"===end(t)&&(n.optional=!0,t=stripEnd(t)),"!"===start(t)&&(n.negative=!0,t=stripStart(t)),"("===start(t)&&")"===end(t)){andSign.test(t)?(n.choices=t.split(andSign),n.operator="and"):(n.choices=t.split("|"),n.operator="or"),n.choices[0]=stripStart(n.choices[0]);var i=n.choices.length-1;n.choices[i]=stripEnd(n.choices[i]),n.choices=n.choices.map((function(e){return e.trim()})),n.choices=n.choices.filter((function(e){return e})),n.choices=n.choices.map((function(t){return t.split(/ /g).map(e)})),t=""}if("/"===start(t)&&"/"===end(t))return t=stripBoth(t),n.regex=new RegExp(t),n;if("~"===start(t)&&"~"===end(t))return t=stripBoth(t),n.soft=!0,n.word=t,n}return!0===hasMinMax.test(t)&&(t=t.replace(hasMinMax,(function(e,t){var r=t.split(/,/g);return 1===r.length?(n.min=Number(r[0]),n.max=Number(r[0])):(n.min=Number(r[0]),n.max=Number(r[1]||999)),n.greedy=!0,n.optional=!0,""}))),"#"===start(t)?(n.tag=stripStart(t),n.tag=titleCase$2(n.tag),n):"@"===start(t)?(n.method=stripStart(t),n):"."===t?(n.anything=!0,n):"*"===t?(n.anything=!0,n.greedy=!0,n.optional=!0,n):(t&&(t=(t=t.replace("\\*","*")).replace("\\.","."),n.word=t.toLowerCase()),n)},_01ParseToken=parseToken,nameGroups=function(e){for(var t,n=!1,r=-1,a=0;a<e.length;a++){var i=e[a];"single"!==i.groupType||!0!==i.named?("start"===i.groupType&&(n=!0,t="string"==typeof i.named||"number"==typeof i.named?i.named:r+=1),n&&(i.named=t),"end"===i.groupType&&(n=!1)):(r+=1,i.named=r)}return e},doFastOrMode=function(e){return e.map((function(e){if(void 0!==e.choices&&!0===e.choices.every((function(e){if(1!==e.length)return!1;var t=e[0];return void 0!==t.word&&!0!==t.negative&&!0!==t.optional&&!0!==t.method}))){var t={};e.choices.forEach((function(e){t[e[0].word]=!0})),e.fastOr=t,delete e.choices}return e}))},postProcess=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.filter((function(e){return e.groupType})).length;return n>0&&(e=nameGroups(e)),t.fuzzy||(e=doFastOrMode(e)),e},_02PostProcess=postProcess,hasReg=/[^[a-z]]\//g,isArray$2=function(e){return"[object Array]"===Object.prototype.toString.call(e)},mergeRegexes=function(e){return e.forEach((function(t,n){var r=t.match(hasReg);null!==r&&1===r.length&&e[n+1]&&(e[n]+=e[n+1],e[n+1]="",null!==(r=e[n].match(hasReg))&&1===r.length&&(e[n]+=e[n+2],e[n+2]=""))})),e=e.filter((function(e){return e}))},byParentheses=function(e){var t=e.split(/([\^\[\!]*(?:<\S+>)?\(.*?\)[?+*]*\]?\$?)/);return t=t.map((function(e){return e.trim()})),hasReg.test(e)&&(t=mergeRegexes(t)),t},byWords=function(e){var t=[];return e.forEach((function(e){if(/\(.*\)/.test(e))t.push(e);else{var n=e.split(" ");n=n.filter((function(e){return e})),t=t.concat(n)}})),t},byArray=function(e){return[{choices:e.map((function(e){return[{word:e}]})),operator:"or"}]},fromDoc=function(e){if(!e||!e.list||!e.list[0])return[];var t=[];return e.list.forEach((function(e){var n=[];e.terms().forEach((function(e){n.push(e.id)})),t.push(n)})),[{idBlocks:t}]},addOptions=function(e,t){return!0===t.fuzzy&&(t.fuzzy=.85),"number"==typeof t.fuzzy&&(e=e.map((function(e){return t.fuzzy>0&&e.word&&(e.fuzzy=t.fuzzy),e.choices&&e.choices.forEach((function(e){e.forEach((function(e){e.fuzzy=t.fuzzy}))})),e}))),e},syntax=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||""===e)return[];if("object"===_typeof(e)){if(isArray$2(e)){if(0===e.length||!e[0])return[];if("object"===_typeof(e[0]))return e;if("string"==typeof e[0])return byArray(e)}return e&&"Doc"===e.isA?fromDoc(e):[]}"number"==typeof e&&(e=String(e));var n=byParentheses(e);return n=(n=byWords(n)).map((function(e){return _01ParseToken(e)})),n=_02PostProcess(n,t),n=addOptions(n,t)},matchSyntax=syntax,idLookup=function(e,t){for(var n=[],r=t[0].idBlocks,a=function(t){r.forEach((function(r){0!==r.length?r.every((function(n,r){return i=t,e[t+r].id===n}))&&(n.push({match:e.slice(t,t+r.length)}),t+=r.length-1):i=t})),i=t},i=0;i<e.length;i+=1)a(i);return n},idLookup_1=idLookup,matchAll=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"==typeof t&&(t=matchSyntax(t)),!0===_02FailFast(e,t))return[];var r=t.filter((function(e){return!0!==e.optional&&!0!==e.negative})).length,a=e.terms(),i=[];if(t[0].idBlocks){var s=idLookup_1(a,t);if(s&&s.length>0)return _04PostProcess(a,t,s)}if(!0===t[0].start){var o=_03TryMatch(a,t,0,a.length);return o&&o.match&&o.match.length>0&&(o.match=o.match.filter((function(e){return e})),i.push(o)),_04PostProcess(a,t,i)}for(var l=0;l<a.length&&!(l+r>a.length);l+=1){var c=_03TryMatch(a.slice(l),t,l,a.length);if(c&&c.match&&c.match.length>0&&(l+=c.match.length-1,c.match=c.match.filter((function(e){return e})),i.push(c),!0===n))return _04PostProcess(a,t,i)}return _04PostProcess(a,t,i)},_01MatchAll=matchAll,notMatch=function(e,t){var n={};_01MatchAll(e,t).forEach((function(e){e.match.forEach((function(e){n[e.id]=!0}))}));var r=e.terms(),a=[],i=[];return r.forEach((function(e){!0!==n[e.id]?i.push(e):i.length>0&&(a.push(i),i=[])})),i.length>0&&a.push(i),a},not$1=notMatch,match_1=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=_01MatchAll(this,e,n);return r=r.map((function(e){var n=e.match,r=e.groups,a=t.buildFrom(n[0].id,n.length,r);return a.cache.terms=n,a}))},has=function(e){return _01MatchAll(this,e,!0).length>0},not=function(e){var t=this,n=not$1(this,e);return n=n.map((function(e){return t.buildFrom(e[0].id,e.length)}))},canBe$1=function(e,t){for(var n=this,r=[],a=this.terms(),i=!1,s=0;s<a.length;s+=1){var o=a[s].canBe(e,t);!0===o&&(!0===i?r[r.length-1].push(a[s]):r.push([a[s]]),i=o)}return r=r.filter((function(e){return e.length>0})).map((function(e){return n.buildFrom(e[0].id,e.length)}))},match={match:match_1,has:has,not:not,canBe:canBe$1},Phrase=function e(t,n,r){_classCallCheck(this,e),this.start=t,this.length=n,this.isA="Phrase",Object.defineProperty(this,"pool",{enumerable:!1,writable:!0,value:r}),Object.defineProperty(this,"cache",{enumerable:!1,writable:!0,value:{}}),Object.defineProperty(this,"groups",{enumerable:!1,writable:!0,value:{}})};Phrase.prototype.buildFrom=function(e,t,n){var r=new Phrase(e,t,this.pool);return n&&Object.keys(n).length>0?r.groups=n:r.groups=this.groups,r},Object.assign(Phrase.prototype,match),Object.assign(Phrase.prototype,methods$7);var aliases$1={term:"terms"};Object.keys(aliases$1).forEach((function(e){return Phrase.prototype[e]=Phrase.prototype[aliases$1[e]]}));var Phrase_1=Phrase,Pool=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),Object.defineProperty(this,"words",{enumerable:!1,value:t})}return _createClass(e,[{key:"add",value:function(e){return this.words[e.id]=e,this}},{key:"get",value:function(e){return this.words[e]}},{key:"remove",value:function(e){delete this.words[e]}},{key:"merge",value:function(e){return Object.assign(this.words,e.words),this}},{key:"stats",value:function(){return{words:Object.keys(this.words).length}}}]),e}();Pool.prototype.clone=function(){var e=this,t=Object.keys(this.words).reduce((function(t,n){var r=e.words[n].clone();return t[r.id]=r,t}),{});return new Pool(t)};var Pool_1=Pool,linkTerms=function(e){e.forEach((function(t,n){n>0&&(t.prev=e[n-1].id),e[n+1]&&(t.next=e[n+1].id)}))},_linkTerms=linkTerms,initSplit=/(\S.+?[.!?\u203D\u2E18\u203C\u2047-\u2049])(?=\s+|$)/g,hasSomething=/\S/,isAcronym$1=/[ .][A-Z]\.? *$/i,hasEllipse=/(?:\u2026|\.{2,}) *$/,newLine=/((?:\r?\n|\r)+)/,hasLetter=/[a-z0-9\u00C0-\u00FF\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff]/i,startWhitespace=/^\s+/,naiive_split=function(e){for(var t=[],n=e.split(newLine),r=0;r<n.length;r++)for(var a=n[r].split(initSplit),i=0;i<a.length;i++)t.push(a[i]);return t},isSentence=function(e,t){if(!0===isAcronym$1.test(e))return!1;if(!0===hasEllipse.test(e))return!1;if(!1===hasLetter.test(e))return!1;var n=e.replace(/[.!?\u203D\u2E18\u203C\u2047-\u2049] *$/,"").split(" "),r=n[n.length-1].toLowerCase();return!t.hasOwnProperty(r)},splitSentences=function(e,t){var n=t.cache.abbreviations;e=e||"";var r=[],a=[];if(!(e=String(e))||"string"!=typeof e||!1===hasSomething.test(e))return r;e=e.replace(" "," ");for(var i=naiive_split(e),s=0;s<i.length;s++){var o=i[s];if(void 0!==o&&""!==o){if(!1===hasSomething.test(o)){if(a[a.length-1]){a[a.length-1]+=o;continue}if(i[s+1]){i[s+1]=o+i[s+1];continue}}a.push(o)}}for(var l=0;l<a.length;l++){var c=a[l];a[l+1]&&!1===isSentence(c,n)?a[l+1]=c+(a[l+1]||""):c&&c.length>0&&(r.push(c),a[l]="")}if(0===r.length)return[e];for(var u=1;u<r.length;u+=1){var h=r[u].match(startWhitespace);null!==h&&(r[u-1]+=h[0],r[u]=r[u].replace(startWhitespace,""))}return r},_01Sentences=splitSentences,wordlike=/\S/,isBoundary=/^[!?.]+$/,naiiveSplit=/(\S+)/,isSlash=/[a-z] ?\/ ?[a-z]*$/,notWord=[".","?","!",":",";","-","–","—","--","...","(",")","[","]",'"',"'","`"];notWord=notWord.reduce((function(e,t){return e[t]=!0,e}),{});for(var hasHyphen=function(e){if(!0===/^(re|un)-?[^aeiou]./.test(e))return!1;if(!0===/^([a-z\u00C0-\u00FF`"'/]+)(-|–|—)([a-z0-9\u00C0-\u00FF].*)/i.test(e))return!0;return!0===/^([0-9]{1,4})(-|–|—)([a-z\u00C0-\u00FF`"'/-]+$)/i.test(e)},combineSlashes=function(e){for(var t=1;t<e.length-1;t++)isSlash.test(e[t])&&(e[t-1]+=e[t]+e[t+1],e[t]=null,e[t+1]=null);return e},splitHyphens=function(e){var t=[],n=e.split(/[-–—]/),r="-",a=e.match(/[-–—]/);a&&a[0]&&(r=a);for(var i=0;i<n.length;i++)i===n.length-1?t.push(n[i]):t.push(n[i]+r);return t},isArray$1=function(e){return"[object Array]"===Object.prototype.toString.call(e)},splitWords=function(e){var t=[],n=[];if("number"==typeof(e=e||"")&&(e=String(e)),isArray$1(e))return e;for(var r=e.split(naiiveSplit),a=0;a<r.length;a++)!0!==hasHyphen(r[a])?n.push(r[a]):n=n.concat(splitHyphens(r[a]));for(var i="",s=0;s<n.length;s++){var o=n[s];!0===wordlike.test(o)&&!1===notWord.hasOwnProperty(o)&&!1===isBoundary.test(o)?(t.length>0?(t[t.length-1]+=i,t.push(o)):t.push(i+o),i=""):i+=o}return i&&(0===t.length&&(t[0]=""),t[t.length-1]+=i),t=(t=combineSlashes(t)).filter((function(e){return e}))},_02Words=splitWords,isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},fromText=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=null;"string"!=typeof e&&("number"==typeof e?e=String(e):isArray(e)&&(r=e)),r=(r=r||_01Sentences(e,t)).map((function(e){return _02Words(e)})),n=n||new Pool_1;var a=r.map((function(e){e=e.map((function(e){var t=new Term_1(e);return n.add(t),t})),_linkTerms(e);var t=new Phrase_1(e[0].id,e.length,n);return t.cache.terms=e,t}));return a},_01Tokenizer=fromText,fromJSON=function(e,t){var n=new Pool_1;return e.map((function(e,r){var a=e.terms.map((function(a,i){var s=new Term_1(a.text);return s.pre=void 0!==a.pre?a.pre:"",void 0===a.post&&(a.post=" ",i>=e.terms.length-1&&(a.post=". ",r>=e.terms.length-1&&(a.post="."))),s.post=void 0!==a.post?a.post:" ",a.tags&&a.tags.forEach((function(e){return s.tag(e,"",t)})),n.add(s),s}));return _linkTerms(a),new Phrase_1(a[0].id,a.length,n)}))},fromJSON_1=fromJSON,_version="13.10.1",entity=["Person","Place","Organization"],nouns$1={Noun:{notA:["Verb","Adjective","Adverb"]},Singular:{isA:"Noun",notA:"Plural"},ProperNoun:{isA:"Noun"},Person:{isA:["ProperNoun","Singular"],notA:["Place","Organization","Date"]},FirstName:{isA:"Person"},MaleName:{isA:"FirstName",notA:["FemaleName","LastName"]},FemaleName:{isA:"FirstName",notA:["MaleName","LastName"]},LastName:{isA:"Person",notA:["FirstName"]},NickName:{isA:"Person",notA:["FirstName","LastName"]},Honorific:{isA:"Noun",notA:["FirstName","LastName","Value"]},Place:{isA:"Singular",notA:["Person","Organization"]},Country:{isA:["Place","ProperNoun"],notA:["City"]},City:{isA:["Place","ProperNoun"],notA:["Country"]},Region:{isA:["Place","ProperNoun"]},Address:{isA:"Place"},Organization:{isA:["Singular","ProperNoun"],notA:["Person","Place"]},SportsTeam:{isA:"Organization"},School:{isA:"Organization"},Company:{isA:"Organization"},Plural:{isA:"Noun",notA:["Singular"]},Uncountable:{isA:"Noun"},Pronoun:{isA:"Noun",notA:entity},Actor:{isA:"Noun",notA:entity},Activity:{isA:"Noun",notA:["Person","Place"]},Unit:{isA:"Noun",notA:entity},Demonym:{isA:["Noun","ProperNoun"],notA:entity},Possessive:{isA:"Noun"}},verbs$1={Verb:{notA:["Noun","Adjective","Adverb","Value"]},PresentTense:{isA:"Verb",notA:["PastTense","FutureTense"]},Infinitive:{isA:"PresentTense",notA:["PastTense","Gerund"]},Imperative:{isA:"Infinitive"},Gerund:{isA:"PresentTense",notA:["PastTense","Copula","FutureTense"]},PastTense:{isA:"Verb",notA:["FutureTense"]},FutureTense:{isA:"Verb"},Copula:{isA:"Verb"},Modal:{isA:"Verb",notA:["Infinitive"]},PerfectTense:{isA:"Verb",notA:"Gerund"},Pluperfect:{isA:"Verb"},Participle:{isA:"PastTense"},PhrasalVerb:{isA:"Verb"},Particle:{isA:"PhrasalVerb"},Auxiliary:{notA:["Noun","Adjective","Value"]}},values={Value:{notA:["Verb","Adjective","Adverb"]},Ordinal:{isA:"Value",notA:["Cardinal"]},Cardinal:{isA:"Value",notA:["Ordinal"]},Fraction:{isA:"Value",notA:["Noun"]},RomanNumeral:{isA:"Cardinal",notA:["Ordinal","TextValue"]},TextValue:{isA:"Value",notA:["NumericValue"]},NumericValue:{isA:"Value",notA:["TextValue"]},Money:{isA:"Cardinal"},Percent:{isA:"Value"}},anything=["Noun","Verb","Adjective","Adverb","Value","QuestionWord"],misc$1={Adjective:{notA:["Noun","Verb","Adverb","Value"]},Comparable:{isA:["Adjective"]},Comparative:{isA:["Adjective"]},Superlative:{isA:["Adjective"],notA:["Comparative"]},NumberRange:{isA:["Contraction"]},Adverb:{notA:["Noun","Verb","Adjective","Value"]},Date:{notA:["Verb","Adverb","Preposition","Adjective"]},Month:{isA:["Date","Singular"],notA:["Year","WeekDay","Time"]},WeekDay:{isA:["Date","Noun"]},Time:{isA:["Date"],notA:["AtMention"]},Determiner:{notA:anything},Conjunction:{notA:anything},Preposition:{notA:anything},QuestionWord:{notA:["Determiner"]},Currency:{isA:["Noun"]},Expression:{notA:["Noun","Adjective","Verb","Adverb"]},Abbreviation:{},Url:{notA:["HashTag","PhoneNumber","Verb","Adjective","Value","AtMention","Email"]},PhoneNumber:{notA:["HashTag","Verb","Adjective","Value","AtMention","Email"]},HashTag:{},AtMention:{isA:["Noun"],notA:["HashTag","Verb","Adjective","Value","Email"]},Emoji:{notA:["HashTag","Verb","Adjective","Value","AtMention"]},Emoticon:{notA:["HashTag","Verb","Adjective","Value","AtMention"]},Email:{notA:["HashTag","Verb","Adjective","Value","AtMention"]},Acronym:{notA:["Plural","RomanNumeral"]},Negative:{notA:["Noun","Adjective","Value"]},Condition:{notA:["Verb","Adjective","Noun","Value"]}},colorMap={Noun:"blue",Verb:"green",Negative:"green",Date:"red",Value:"red",Adjective:"magenta",Preposition:"cyan",Conjunction:"cyan",Determiner:"cyan",Adverb:"cyan"},addColors=function(e){return Object.keys(e).forEach((function(t){e[t].color?e[t].color=e[t].color:colorMap[t]?e[t].color=colorMap[t]:e[t].isA.some((function(n){return!!colorMap[n]&&(e[t].color=colorMap[n],!0)}))})),e},_color=addColors,unique$3=function(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))},inferIsA=function(e){return Object.keys(e).forEach((function(t){for(var n=e[t],r=n.isA.length,a=0;a<r;a++){var i=n.isA[a];e[i]&&(n.isA=n.isA.concat(e[i].isA))}n.isA=unique$3(n.isA)})),e},_isA=inferIsA,unique$2=function(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))},inferNotA=function(e){var t=Object.keys(e);return t.forEach((function(n){var r=e[n];r.notA=r.notA||[],r.isA.forEach((function(t){if(e[t]&&e[t].notA){var n="string"==typeof e[t].notA?[e[t].isA]:e[t].notA||[];r.notA=r.notA.concat(n)}}));for(var a=0;a<t.length;a++){var i=t[a];-1!==e[i].notA.indexOf(n)&&r.notA.push(i)}r.notA=unique$2(r.notA)})),e},_notA=inferNotA,inferLineage=function(e){var t=Object.keys(e);return t.forEach((function(n){var r=e[n];r.lineage=[];for(var a=0;a<t.length;a++)-1!==e[t[a]].isA.indexOf(n)&&r.lineage.push(t[a])})),e},_lineage=inferLineage,validate=function(e){return Object.keys(e).forEach((function(t){var n=e[t];n.isA=n.isA||[],"string"==typeof n.isA&&(n.isA=[n.isA]),n.notA=n.notA||[],"string"==typeof n.notA&&(n.notA=[n.notA])})),e},inferTags=function(e){return e=validate(e),e=_isA(e),e=_notA(e),e=_color(e),e=_lineage(e)},inference=inferTags,addIn=function(e,t){Object.keys(e).forEach((function(n){t[n]=e[n]}))},build=function(){var e={};return addIn(nouns$1,e),addIn(verbs$1,e),addIn(values,e),addIn(misc$1,e),e=inference(e)},tags=build(),_data={Comparative:"true¦better",Superlative:"true¦earlier",PresentTense:"true¦is,sounds",Value:"true¦a few",Noun:"true¦a5b4c2f1here,ie,lit,m0no doubt,pd,tce;a,d;t,y;a,ca,o0;l,rp;a,l;d,l,rc",Copula:"true¦a1is,w0;as,ere;m,re",PastTense:"true¦be3came,d2had,lied,meant,sa2taken,w0;as,e0;nt,re;id;en,gan",Condition:"true¦if,lest,unless",Preposition:"true¦'o,-,aLbIcHdGexcept,fFiDmidQnotwithstandiRoBpSqua,sAt6u3vi2w0;/o,hereNith0;!in,oR;a,s-a-vis;n1p0;!on;like,til;h0ill,owards;an,r0;ough0u;!oJ;ans,ince,o that;',f0n2ut;!f;f,n0;!to;or,rom;espite,own,u3;hez,irca;ar1e0oAy;sides,tween;ri6;',bo7cross,ft6lo5m3propos,round,s1t0;!op;! long 0;as;id0ong0;!st;ng;er;ut",Gerund:"true¦accord0be0develop0go0result0stain0;ing",Negative:"true¦n0;ever,o0;!n,t",QuestionWord:"true¦how3wh0;at,e1ich,o0y;!m,se;n,re; come,'s",Plural:"true¦records",Conjunction:"true¦&,aFbBcuz,how9in caEno8o7p5supposing,t2v1wh0yet;eth9ile;ers4s;h0o;eref9o0;!uC;l0rovided that;us;r,therwi6; matt1r;!ev0;er;e0ut;cau1f0;ore;se;lthou1nd,s 0;far as,if;gh",Abbreviation:"true¦a0Jb0Gc0Ad08e05f02g01h00iYjWkanVlTmNnKoJpFque,rDs8t6u5v2w0;is0r,y0B;!c;a,b,e1i0ol,s,t;tro,vo;r,t;niv,safa,t;ce,e0;l,mp,nn,x;ask,e2fc,gt,i1q,r,s,t,u0;pt,rg;r,tu;c,nJp0;!t;b,d,e0;pGs,v;a,d,ennNhd,l,p,r1s0vt;!eud;ef,o0;b,f,n;ct,kla,nt;e0ov;b0e;!r;a4d,essrs,i1lle,me,r7s0t;!tr;n1s0;c,ter;!n;!j,r,sc;at,it,lb,ng,t0;!d;!s;an,d,r,u0;l,n;a,da,e,n0;c,f;on,wy;a,en,ov;e1ig,l0m,r,t,y;!a;b,m;a,g,ng,s1tc,x0;!p;p,q,t;ak,e0ist,r;c,f,pt,t;a3ca,l,m2o0pl,res,yn;!l0m1nn,rp;!o;dr;!l0pt;!if;a,c,l1r0;ig,os;!dg,vd;d4l3p2r1ss0tty,ug,ve;n,t;c,iz;prox,r,t;!ta;!j,m,v",Pronoun:"true¦'em,elle,h4i3me,ourselves,she5th1us,we,you0;!rself;e0ou;m,y;!l,t;e0im;!'s",Singular:"true¦0:15;1:12;2:18;a15b0Sc0Jd0Ce09f04gZhViUjel0kitty,lSmOnNoMpHquestionGrEs9t6u4w3;ay,om02;nc0Zs 3;doll0Kst0M; rex,a4h3ic,ragedy,v show;ere,i2;l0x return;i6ky,omeoMt3uper bowl,yst14;ep4ri2u3;de0Xff;faSmoS;st1ze;al0i2o3;om,se;! mark;a6i1la5r4u3;dPrpoH;eroga00ie0Gobl0U;te,y1;rt,te0N;bjWceJthers,verview;othi2umb1;a5ee08o3;del,m3nopo0rni2th1;!my;n,yf0;i3unch;ne;ci2nsect;ead start,o3uman right;l0me4u3;se;! run;adf0entlem6irl02laci1od,rand4u3;l0y; slam,fa3mo3;th1;an;a6ella,ly,ol0r4un3;di2;ee market,iWo3;nti1sP;mi0th1;conomy,gg,ner7ven4x3;ampTecu9;i2t;ad8e5inn1o3ragonf0ude;cumentGg3i0l0or;gy;ath,t3;ec3;tive;!dy;a9eili2h7i5o3redit card;ttage,u3;ri1sin;ty,vil w3;ar;andeli1ocol3;ate;n3rF;ary;aCel0lesJo8r5u3;n3tterf0;ti2;eakfa4o3;!th1;st;dy,tt5y3;!fri3;end;le;nki2r3;ri1;er;d5l0noma0u3;nt;ly; homin5verti3;si2;ng;em",FemaleName:"true¦0:J3;1:J7;2:IG;3:IF;4:IX;5:IK;6:JO;7:H0;8:JG;9:JK;A:HN;B:HY;C:IT;D:IP;E:JD;F:HC;G:I0;aGRbFLcDPdCYeBOfB4gADh9Ti9Gj8Gk7Gl60m49n3No3Jp37qu36r2Ds16t0Eu0Cv02wVxiTyOzH;aLeIineb,oHsof2;e3Uf2la,ra;h3iKlIna,ynH;ab,ep;da,ma;da,h3iHra;nab;aKeJi0Fol5BuIvH;etAonDO;i0na;le0sen2;el,gm3Jn,rGJs8W;aoHme0nyi;m62yAE;aMendDYhiDFiH;dele8lJnH;if48niHo0;e,f47;a,helmi0lHma;a,ow;ka0nB;aNeKiHusa5;cIktoriBMlAole7viH;anC3enJ0;kF9tor2;da,lA9nus,rHs0;a,nHoniH4;a,iFQ;leHnesH4;nIHrH;i1y;g8rHxH5;su5te;aYeUhRiNoLrIuHy3;i,la;acIZiHu0L;c2na,sH;hBPta;nHr0H;iBNya;aJffaEOnHs6;a,gtiH;ng;!nFQra;aIeHomasi0;a,l9Po8Ares1;l2ndolwethu;g9Go88rIssH;!a,ie;eHi,ri9;sa,za;bPlNmLnJrIs6tHwa0;ia0um;a63yn;iHya;a,ka,s6;arB6e3iHmEDra;!ka;a,iH;a,t6;at6it6;a0Fcarlet3We0BhXiTkye,neza0oRtNuIyH;bIBlvi1;e,ha,mayIEni7sIzH;an3MetAie,y;anHi9;!a,e,nH;aDe;aJeH;fHl5GphH;an4;cHZr5;b2fiA8m0OnHphi1;d3ia,ja,ya;er3lJmon1nIobh8PtH;a,i;dy;lEPv2;aMeIirHo0risF7y5;a,lDK;ba,e0i5lJrH;iHrDOyl;!d8Hfa;ia,lDX;hd,iMki3nJrIu0w0yH;la,ma,na;i,le8on,ron;aIda,ia,nHon;a,on;!ya;k6mH;!aa;lJrItaye81vH;da,inj;e0ife;en1i0ma;anA5bNd3Nh1RiBkMlLmJndIrHs6vannaD;aDi0;ra,y;aHi3;nt6ra;lDKma,ome;ee0in8Ru3;in1ri0;a05e00hYiVoIuH;by,thDH;bScRghQl2KnPsJwIxH;anAXie,y;an,e0;aIeHie,lE; merBLann9ll1marDBt7;!lHnn1;iHyn;e,nH;a,d9K;da,i,na;ayy8D;hel62io;bDKer7yn;a,cIkHmas,n9Fta,ya;ki,o;helGki;ea,iannGDoH;da,n1K;an0bJem9Agi0iInHta,y0;a88ee;han83na;a,eH;cEAkaD;bi0chIe,i0mo0nHquEKvCy0;di,ia;aEIelHiB;!e,le;een4ia0;aNeMhKipaluk,oJrHute66;iHudenCQ;scil3LyamvaB;lly,rt2;ilome0oebe,ylH;is,lis;arl,ggy,nelope,r5t3;ige,m0TnKo5rvaDGtIulH;a,etAin1;ricHsy,tBY;a,e,ia;do3i06;ctav2dIfCZis6lHphCZumC3yunbileg;a,ga,iv2;eHvAC;l2tA;aWeUiMoIurHy5;!ay,ul;a,eJor,rIuH;f,r;aDeCma;ll1mi;aNcLhariBOkKlaJna,sHta,vi;anHha;ur;!y;a,iDTki;hoGk9VolH;a,eDJ;!mh;hir,lHna,risFsreC;!a,lBT;asuLdKh2i6CnJomi9rgEPtHzanin zah3;aHhal4;li1s6;cy,etA;a,e8iEV;nngu30;a09ckenz4e01iMoJrignayani,uriDDyH;a,rH;a,lNna,tG;bi0i3llBInH;a,iH;ca,ka,qD3;a,cTkaSlNmi,nLrItzi,yH;ar;aIiam,lH;anEO;!l,nB;dy,eHh,n4;nhGrva;aKdJiCPlH;iHy;cent,e;red;!gros;!e5;ae5hH;ae5el3Z;ag5EgNi,lKrH;edi79iIjem,on,yH;em,l;em,sF;an4iHliF;nHsCE;a,da;!an,han;b0DcASd0Be,g09ha,i08ja,l06n04rLsoum60tKuIv82x9IyHz4;a,bell,ra,soB9;de,rH;a,eC;h8Fild1t4;a,cYgUiKjor4l7Sn4s6tJwa,yH;!aHbe6Wja8lAE;m,nBH;a,ha,in1;!aJbCBeIja,lEna,sHt64;!a,ol,sa;!l1H;! Jh,mInH;!a,e,n1;!awit,i;aliAHcJeduarBfernIjHlui5Y;o6Ful2;anB;ecil2la3;arJeIie,oHr44ueriA;!t;!ry;et42i37;el4Ui76y;dHon,ue5;akran7y;ak,en,iHk,lo3O;a,ka,nB;a,re,s4te;daHg4;!l3A;alEd4elHge,isDBon0;ei8in1yn;el,le;a0Ne0CiYoQuLyH;d2la,nH;!a,dIeBGnHsCL;!a,eBF;a,sCJ;aCWcJel0PiFlIna,pHz;e,i7;a,u,wa;iHy;a0Se,ja,l2JnB;is,l1SrJttIuHvel4;el5is1;e,ie;aKeIi9na,rH;a86i9;lHn1t7;ei;!in1;aSbb9CdRepa,lMnJsIv2zH;!a,be5LetAz4;a,etA;!a,dH;a,sHy;ay,ey,i,y;a,iJja,lHy;iHy;aA0e;!aH;!n5F;ia,ya;!nH;!a,ne;aPda,e0iNjYla,nMoKsJtHx4y5;iHt4;c2t2;e2LlCG;la,nHra;a,ie,o3;a,or1;a,gh,laH;!ni;!h,nH;a,d3e,n5P;cOdon97iNkes6mi9Ana,rMtJurIvHxmi,y5;ern1in2;a,e54ie,yn;as6iIoH;nya,ya;fa,s6;a,isF;a,la;ey,ie,y;a04eZhXiOlAKoNrJyH;lHra;a,ee,ie;istHy6D;a,en,iIyH;!na;!e,n59;nul,ri,urtnB0;aOerNlAZmJrHzzy;a,stH;en,in;!berlImernH;aq;eHi,y;e,y;a,stC;!na,ra;aHei3ongordzol;dij1w5;el7QiKjsi,lJnIrH;a,i,ri;d3na,za;ey,i,lBDs4y;ra,s6;bi7cAJdiat7IeB2iRlQmPnyakuma19rNss6KtKvi7yH;!e,lH;a,eH;e,i8L;a6DeIhHi4NlEri0y;ar6Ber6Bie,leCrB2y;!lyn8Gri0;a,en,iHl5Soli0yn;!ma,n3VsF;a5il1;ei8Ei,l4;a,tl6L;a07eYiVoNuH;anLdKliHst63;a8HeHsF;!n8tH;!a,te;e5Ji3Jy;a,i7;!anNcelEd6RelGhan7RlLni,sIva0yH;a,ce;eHie;fHlEph5U;a,in1;eHie;en,n1;!a,e,n41;lHng;!i1ClH;!i1B;anMle0nJrIsH;i8Csi8C;i,ri;!a,elGif2CnH;a,etAiHy;!e,f2A;a,e8EiInH;a,e8DiH;e,n1;cMd1mi,nIque4Xsmin3Ovie3y8zH;min9;a9eIiH;ce,e,n1s;!lHsFt0F;e,le;inIk4lEquelH;in1yn;da,ta;lRmPnOo0rNsIvaHzaro;!a0lu,na;aJiIlaHob84;!n9N;do3;!belHdo3;!a,e,l39;a77en1i0ma;a,di3es,gr6Yji;a8elBogH;en1;a,e8iHo0se;a0na;aSeOiJoHusFyacin2B;da,ll4rten23snH;a,i9Q;lImaH;ri;aIdHlaI;a,egard;ry;ath1CiJlInriet7rmi8sH;sa,t1B;en2Sga,mi;di;bi2Dil8IlNnMrJsItHwa,yl8Iz7H;i5St4;n5Yti;iHmo51ri52;etH;!te;aDnaD;a,ey,l4;a03eXiSlQoOrKunJwH;enHyne1Q;!dolE;ay,el;acIetHiselB;a,chC;e,ieH;!la;ld1AogooH;sh;adys,enHor2yn2H;a,da,na;aKgi,lIna,ov89selHta;a,e,le;da,liH;an;!n0;mLnJorgIrH;ald3Pi,m3Ctru8B;etAi4W;a,eHna;s26vieve;ma;bIil,le,mHrnet,yG;al5Ni5;i5FrielH;a,l1;aVeSiRloOoz2rH;anJeIiH;da,eB;da,ja;!cH;esIiHoi0O;n1s61;!ca;!rH;a,encH;e,ia;en,o0;lIn0rnH;!anB;ec2ic2;jr,n7rKtHy9;emIiHma,ouma7;ha,ma,n;eh;ah,iBrah,za0;cr4Nd0Ne0Mi0Lk7l04mWn4YrTsNtMuLvH;aJelIiH;!e,ta;in0Gyn;!ngel2S;geni1la,ni45;h5Sta;mLperanKtH;eIhHrel5;er;l30r9;za;a,eralB;iHma,nest2Jyn;cHka,n;a,ka;a,eMiJmH;aHie,y;!li8;lHn1;ee,iHy;a,e,ja;lHrald;da,y;aWeUiNlMma,no3oKsJvH;a,iH;na,ra;a,ie;iHuiH;se;a,en,ie,y;a0c2da,f,nMsJzaH;!betHve7;e,h;aHe,ka;!beH;th;!a,or;anor,nH;!a;!in1na;leCs6;vi;eIiHna,wi0;e,th;l,n;aYeMh2iLjeneKoHul30;lor5Tminiq4In3FrHtt4;a,eCis,la,othHthy;ea,y;ba;an0AnaDon8x4ya;anQbPde,eOiMja,lJmetr2nHsir5K;a,iH;ce,se;a,iIla,orHphi8;es,is;a,l6D;dHrdH;re;!d5Cna;!b2HoraDra;a,d3nH;!a,e;hl2i0l0HmNnLphn1rIvi1XyH;le,na;a,by,cIia,lH;a,en1;ey,ie;a,etAiH;!ca,el1Cka,z;arHia;is;a0Se0Oh05i03lVoKrIynH;di,th2;istHy05;al,i0;lPnMrIurH;tn1E;aJd2NiHn2Nri8;!nH;a,e,n1;!l1X;cepci59n4sH;tanHuelo;ce,za;eHleC;en,tA;aJeoIotH;il51;!pat3;ir9rJudH;etAiH;a,ne;a,e,iH;ce,sZ;a3er3ndH;i,y;aReNloe,rH;isJyH;stH;al;sy,tH;a1Ren,iHy;!an1e,n1;deJlseIrH;!i9yl;a,y;li8;nMrH;isKlImH;ai8;a,eHotA;n1tA;!sa;d3elGtH;al,elG;cIlH;esAi44;el2ilH;e,ia,y;itlZlYmilXndWrOsMtHy5;aKeJhHri0;erHleCrEy;in1;ri0;li0ri0;a33sH;a32ie;a,iNlLmeJolIrH;ie,ol;!e,in1yn;lHn;!a,la;a,eHie,o7y;ne,y;na,sF;a0Hi0H;a,e,l1;is7l4;in,yn;a0Ie02iZlXoUrH;andSeQiJoIyH;an0nn;nwEok9;an3DdgLg0XtH;n2XtH;!aInH;ey,i,y;ny;etH;!t9;an0e,nH;da,na;i9y;bbi9glarIlo05nH;i7n4;ka;ancHossom,ythe;a,he;an17lja0nHsm3I;i7tH;ou;aUcky,linTni7rPssOtJulaDvH;!erlH;ey,y;hJsy,tH;e,iHy9;e,na;!anH;ie,y;!ie;nHt6yl;adIiH;ce;etAi8;ay,da;!triH;ce,z;rbJyaH;rmH;aa;a3ie,o3ra;a2Sb2Md23g1Zi1Qj5l16m0Xn09oi,r04sUtTuPvOwa,yIzH;ra,u0;aKes6gJlIseH;!l;in;un;!nH;a,na;a,i2Ir2J;drJgus1RrIsteH;ja;el2;a,ey,i,y;aahua,he0;hIi2Gja,mi7s2DtrH;id;aMlIraqHt21;at;eIi9yH;!n;e,iHy;gh;!nH;ti;iJleIo6pi7;ta;en,n1tA;aHelG;!n1J;a00dje5eYgUiSjQnJohito,toHya;inetAnH;el5ia;!aKeIiHmJ;e,ka;!mHtA;ar4;!belIliFmU;sa;!le;a,eliH;ca;ka,sHta;a,sa;elHie;a,iH;a,ca,n1qH;ue;!tA;te;! JbImHstasiNya;ar2;el;cla3jul2pau5;aLberKeliJiHy;e,l2naH;!ta;a,ja;!ly;hGiIl2nB;da;a,ra;le;aWba,ePiMlKma,thJyH;a,c2sH;a,on,sa;ea;iHys0N;e,s0M;a,cIn1sHza;a,e,ha,on,sa;e,ia,ja;c2is6jaKksaKna,sJxH;aHia;!nd3;ia,saH;nd3;ra;ia;i0nIyH;ah,na;a,is,naDoud;la;c6da,leCmNnLsH;haDlH;inHyY;g,n;!h;a,o,slH;ey;ee;en;at6g4nIusH;ti0;es;ie;aWdiTelMrH;eJiH;anMenH;a,e,ne;an0;na;!aLeKiIyH;nn;a,n1;a,e;!ne;!iH;de;e,lEsH;on;yn;!lH;i8yn;ne;aKbIiHrL;!gaK;ey,i9y;!e;gaH;il;dKliyJradhIs6;ha;ya;ah;a,ya",Actor:"true¦aJbGcFdCengineIfAgardenIh9instructPjournalLlawyIm8nurse,opeOp5r3s1t0;echnCherapK;ailNcientJecretary,oldiGu0;pervKrgeon;e0oofE;ceptionGsearC;hotographClumbColi1r0sychologF;actitionBogrammB;cem6t5;echanic,inist9us4;airdress8ousekeep8;arm7ire0;fight6m2;eputy,iet0;ici0;an;arpent2lerk;ricklay1ut0;ch0;er;ccoun6d2ge7r0ssis6ttenda7;chitect,t0;ist;minist1v0;is1;rat0;or;ta0;nt",Honorific:"true¦a01bYcQdPeOfiJgIhon,jr,king,lHmCoffic00p7queen,r3s0taoiseach,vice6;e1fc,gt,ir,r,u0;ltRpt,rg;cond liInBrgeaJ;abbi,e0;ar1p9s,v0;!erend; admirX;astOhd,r0vt;esideDi1of0;!essM;me mini4nce0;!ss;a3essrs,i2lle,me,r1s0;!tr;!s;stK;gistrate,j,r6yF;i3lb,t;en,ov;eld mar3rst l0;ady,i0;eutena0;nt;shG;sq,xcellency;et,oct6r,utchess;apt6hance4mdr,o0pl;lonel,m2ngress0unci3;m0wom0;an;dr,mand5;ll0;or;!ain;ldg,rig0;!adi0;er;d0sst,tty,yatullah;j,m0v;!ir0;al",SportsTeam:"true¦0:1A;1:1H;2:1G;a1Eb16c0Td0Kfc dallas,g0Ihouston 0Hindiana0Gjacksonville jagua0k0El0Bm01newToQpJqueens parkIreal salt lake,sAt5utah jazz,vancouver whitecaps,w3yW;ashington 3est ham0Rh10;natio1Oredski2wizar0W;ampa bay 6e5o3;ronto 3ttenham hotspur;blue ja0Mrapto0;nnessee tita2xasC;buccanee0ra0K;a7eattle 5heffield0Kporting kansas0Wt3;. louis 3oke0V;c1Frams;marine0s3;eah15ounG;cramento Rn 3;antonio spu0diego 3francisco gJjose earthquak1;char08paA; ran07;a8h5ittsburgh 4ortland t3;imbe0rail blaze0;pirat1steele0;il3oenix su2;adelphia 3li1;eagl1philNunE;dr1;akland 3klahoma city thunder,rlando magic;athle0Mrai3;de0; 3castle01;england 7orleans 6york 3;city fc,g4je0FknXme0Fred bul0Yy3;anke1;ian0D;pelica2sain0C;patrio0Brevolut3;ion;anchester Be9i3ontreal impact;ami 7lwaukee b6nnesota 3;t4u0Fvi3;kings;imberwolv1wi2;rewe0uc0K;dolphi2heat,marli2;mphis grizz3ts;li1;cXu08;a4eicesterVos angeles 3;clippe0dodDla9; galaxy,ke0;ansas city 3nE;chiefs,roya0E; pace0polis colU;astr06dynamo,rockeTtexa2;olden state warrio0reen bay pac3;ke0;.c.Aallas 7e3i05od5;nver 5troit 3;lio2pisto2ti3;ge0;broncZnuggeM;cowbo4maver3;ic00;ys; uQ;arCelKh8incinnati 6leveland 5ol3;orado r3umbus crew sc;api5ocki1;brow2cavalie0india2;bengaWre3;ds;arlotte horAicago 3;b4cubs,fire,wh3;iteB;ea0ulR;diff3olina panthe0; c3;ity;altimore 9lackburn rove0oston 5rooklyn 3uffalo bilN;ne3;ts;cel4red3; sox;tics;rs;oriol1rave2;rizona Ast8tlanta 3;brav1falco2h4u3;nited;aw9;ns;es;on villa,r3;os;c5di3;amondbac3;ks;ardi3;na3;ls",Uncountable:"true¦0:1I;1:16;2:1X;a1Rb1Jc1Ad17e10f0Ug0Nh0Ii0Ej0Dknowled1Ql08mYnews,oXpTrOsDt8vi7w3;a5ea0Bi4oo3;d,l;ldlife,ne;rmth,t0;neg17ol0Ctae;e6h5oothpaste,r3una;affTou3;ble,sers,t;ermod1Mund0;a,nnis;aBcene0Aeri1hAil9kittl1now,o8p6t4u3;g10nshi0Q;ati1Le3;am,el;ace1Ee3;ci1ed;ap,cc0;k,v0;eep,ingl1;d0Dfe18l3nd,tish;m11t;a6e4ic3;e,ke0M;c3laxa0Isearch;ogni0Hrea0H;bi1in;aPe5hys2last9o3ress04;l3rk,w0;it2yA;a12trZ;bstetr2il,xygen;aAe8ilk,o5u3;mps,s3;ic;n3o0I;ey,o3;gamy;a3chan2;sl1t;chine3il,themat2; learn0Bry;aught0e5i4ogi0Su3;ck,g0I;ce,ghtn08ngui0QteratN;a3isM;th0;ewelAusti0L;ce,mp3nformaUtself;a3ortan0J;ti3;en0H;a6isto5o3;ck3mework,n3spitali0B;ey;ry;ir,libut,ppiD;ene6o4r3um,ymna0D;aCound;l3ssip;d,f; 3t2;editQpo3;ol;i7lour,o4urnit3;ure;od,rgive3uri0wl;ne3;ss;c9sh;conom2duca8lectr7n5quip6th2very3;body,o3thH;ne;joy3tertain3;ment;iciPon2;tiI;ar4iabet1raugh4;es;ts;aAelcius,h6iv2l5o3urrency;al,ld w3nfusiDttD;ar;ass2oth5;aos,e3;e4w3;ing;se;r7sh;a7eef,i4lood,owls,read,utt0;er;lliar4s3;on;ds;g3ss;ga3;ge;c8dvi7ero5ir4mnes3rt,thlet2;ty;craft;b2d3naut2;ynam2;ce;id,ou3;st2;ics",Infinitive:"true¦0:6S;1:76;2:5C;3:74;4:73;5:67;6:6F;7:6Y;8:6Q;9:72;A:70;B:5X;C:6X;D:6L;E:77;F:5B;a6Kb66c57d4De3Xf3Jg3Dh37i2Uj2Sk2Ql2Hm26n23o1Yp1Jr0Rs06tYuTvOwHyG;awn,ield;aJe1Zhist6iIoGre6D;nd0rG;k,ry;pe,sh,th0;lk,nHrGsh,tDve;n,raE;d0t;aJiHoG;te,w;eGsC;!w;l6Jry;nHpGr4se;gra4Pli41;dGi9lo5Zpub3Q;erGo;mi5Cw1I;aMeLhKig5SoJrHuGwi7;ne,rn;aGe0Mi5Uu7y;de,in,nsf0p,v5J;r2ZuD;ank,reatB;nd,st;lk,rg1Qs9;aZcWeVhTi4Dkip,lSmRnee3Lo52pQtJuGwitD;bmCck,ff0gge7ppHrGspe5;ge,pri1rou4Zvi3;ly,o36;aLeKoJrHuG;dy,mb6;aFeGi3;ngthBss,tD;p,re;m,p;in,ke,r0Qy;la58oil,rink6;e1Zi6o3J;am,ip;a2iv0oG;ck,rtBut;arDem,le5n1r3tt6;aHo2rG;atDew;le,re;il,ve;a05eIisk,oHuG;in,le,sh;am,ll;a01cZdu8fYgXje5lUmTnt,pQquPsKtJvGwa5V;eGiew,o36;al,l,rG;se,t;aFi2u44;eJi7oItG;!o2rG;i5uc20;l3rt;mb6nt,r3;e7i2;air,eHlGo43r0K;a8y;at;aFemb0i3Zo3;aHeGi3y;a1nt;te,x;a5Dr0J;act1Yer,le5u1;a13ei3k5PoGyc6;gni2Cnci6rd;ch,li2Bs5N;i1nG;ge,k;aTerSiRlOoMrIuG;b21ll,mp,rGsh;cha1s4Q;ai1eIiEoG;cGdu8greAhibCmi1te7vi2W;eAlaim;di5pa2ss,veE;iEp,rtr46sGur;e,t;aHead,uG;g,n4;n,y;ck,le;fo34mCsi7;ck,iErt4Mss,u1;bJccur,ff0pera9utweIverGwe;co47lap,ta22u1wG;helm;igh;ser3taF;eHotG;e,i8;ed,gle5;aMeLiIoHuG;ltip3Grd0;nit13ve;nHrr12sreprG;eseE;d,g6us;asu2lt,n0Nr4;intaFna4rHtG;ch,t0;ch,kGry;et;aMeLiJoGu1C;aHck,oGve;k,sB;d,n;ft,g35ke,mCnk,st2YveG;!n;a2Fc0Et;b0Nck,uG;gh,nD;iGno34;ck,ll,ss;am,oFuG;d4mp;gno2mQnGss3H;cOdica9flu0MhNsKtIvG;eGol3;nt,st;erGrodu8;a5fe2;i7tG;aGru5;ll;abCibC;lu1Fr1D;agi24pG;lemeEo22ro3;aKeIi2oHuG;nt,rry;n02pe,st;aGlp;d,t;nd6ppBrm,te;aKloAove1PrIuG;arGeAi15;ant39d;aGip,ow,umb6;b,sp;in,th0ze;aReaQiOlMoJrHuncG;ti3J;acGeshB;tu2;cus,lHrG;ce,eca7m,s30;d,l24;a1ZoG;at,od,w;gu2lGni1Xt,x;e,l;r,tu2;il,stBvG;or;a15cho,le5mSnPstNvalua9xG;a0AcLerKi7pGte19;a18eHi2laFoGreA;rt,se;ct,riG;en8;ci1t;el,han4;abGima9;li1J;ab6couXdHfor8ga4han8j03riDsu2t0vG;isi2Vy;!u2;body,er4pG;hasiGow0;ze;a07eUiLoKrHuG;mp;aHeAiG;ft;g,in;d4ubt;ff0p,re5sHvG;iZor8;aKcHliGmiApl1Btingui14;ke;oGuA;uGv0;ra4;gr1YppG;ear,ro3;cOeNfLliv0ma0Fny,pKsHterG;mi0G;cribe,er3iHtrG;oy;gn,re;a0Be0Ai5osC;eGi0By;at,ct;m,pB;iIlHrG;ea1;a2i06;de;ma4n8rGte;e,kB;a0Ae09h06i9l04oJrG;aHeGoAu0Hy;a9dC;ck,ve;llZmSnHok,py,uGv0;gh,nt;cePdu5fMsKtIvG;eGin8;rt,y;aFin0VrG;a7ibu9ol;iGtitu9;d0st;iHoGroE;rm;gu2rm;rn;biLfoKmaJpG;a2laF;in;re;nd;rt;ne;ap1e5;aGip,o1;im,w;aHeG;at,ck,w;llen4n4r4se;a1nt0;ll,ncIrGt0u1;eGry;!en;el;aSePloOoMrIuG;lGry;ly;igHuG;sh;htB;en;a7mb,o7rrGth0un8;ow;ck;ar,lHnefCtrG;ay;ie3ong;ng,se;band0Jc0Bd06ffo05gr04id,l01mu1nYppTrQsKttGvoid,waC;acIeHra5;ct;m0Fnd;h,k;k,sG;eIiHocia9uG;me;gn,st;mb6rt;le;chHgGri3;ue;!i3;eaJlIroG;aDve;ch;aud,y;l,r;noun8sw0tG;icipa9;ce;lHt0;er;e4ow;ee;rd;aRdIju7mCoR;it;st;!reA;ss;cJhie3knowled4tiva9;te;ge;ve;eIouEu1;se;nt;pt;on",Unit:"true¦0:19;a14b12c0Od0Ne0Lf0Gg0Ch09in0Hjoule0k02l00mNnMoLpIqHsqCt7volts,w6y4z3°2µ1;g,s;c,f,n;b,e2;a0Nb,d0Dears old,o1;tt0H;att0b;able4b3d,e2on1sp;!ne0;a2r0D;!l,sp;spo04; ft,uare 1;c0Id0Hf3i0Fkilo0Jm1ya0E;e0Mil1;e0li0H;eet0o0D;t,uart0;ascals,e2i1ou0Pt;c0Mnt0;rcent,t02;hms,uYz;an0JewtT;/s,b,e9g,i3l,m2p1²,³;h,s;!²;!/h,cro5l1;e1li08;! pFs1²;! 1;anEpD;g06s0B;gQter1;! 2s1;! 1;per second;b,i00m,u1x;men0x0;b,elvin0g,ilo2m1nR;!/h,ph,²;byZgXmeter1;! p2s1;! p1;er1; hour;e1g,r0z;ct1rtz0;aXogQ;al2b,igAra1;in0m0;!l1;on0;a4emtPl2t1;²,³; oz,uid ou1;nce0;hrenheit0rad0;b,x1;abyH;eciCg,l,mA;arat0eAg,m9oulomb0u1;bic 1p0;c5d4fo3i2meAya1;rd0;nch0;ot0;eci2;enti1;me4;!²,³;lsius0nti1;g2li1me1;ter0;ram0;bl,y1;te0;c4tt1;os1;eco1;nd0;re0;!s",Organization:"true¦0:46;a3Ab2Qc2Ad21e1Xf1Tg1Lh1Gi1Dj19k17l13m0Sn0Go0Dp07qu06rZsStFuBv8w3y1;amaha,m0Xou1w0X;gov,tu2S;a3e1orld trade organizati41;lls fargo,st1;fie22inghou16;l1rner br3D;-m11gree31l street journ25m11;an halNeriz3Wisa,o1;dafo2Gl1;kswagLvo;bs,kip,n2ps,s1;a tod2Rps;es35i1;lev2Xted natio2Uv; mobi2Kaco bePd bMeAgi frida9h3im horto2Tmz,o1witt2W;shiba,y1;ota,s r Y;e 1in lizzy;b3carpen33daily ma2Xguess w2holli0rolling st1Ms1w2;mashing pumpki2Ouprem0;ho;ea1lack eyed pe3Fyrds;ch bo1tl0;ys;l2s1;co,la m12;efoni07us;a6e4ieme2Gnp,o2pice gir5ta1ubaru;rbucks,to2N;ny,undgard1;en;a2Rx pisto1;ls;few25insbu26msu1X;.e.m.,adiohead,b6e3oyal 1yan2X;b1dutch she4;ank;/max,aders dige1Ed 1vl32;bu1c1Uhot chili peppe2Klobst28;ll;c,s;ant2Vizno2F;an5bs,e3fiz24hilip morrBi2r1;emier27octer & gamb1Rudenti14;nk floyd,zza hut;psi28tro1uge08;br2Qchina,n2Q; 2ason1Xda2G;ld navy,pec,range juli2xf1;am;us;a9b8e5fl,h4i3o1sa,wa;kia,tre dame,vart1;is;ke,ntendo,ss0K;l,s;c,st1Etflix,w1; 1sweek;kids on the block,york08;a,c;nd1Us2t1;ional aca2Fo,we0Q;a,cYd0O;aAcdonald9e5i3lb,o1tv,yspace;b1Nnsanto,ody blu0t1;ley crue,or0O;crosoft,t1;as,subisO;dica3rcedes2talli1;ca;!-benz;id,re;'s,s;c's milk,tt13z1Y;'ore09a3e1g,ittle caesa1Ktd;novo,x1;is,mark; pres5-z-boy,bour party;atv,fc,kk,m1od1K;art;iffy lu0Lo3pmorgan1sa;! cha1;se;hnson & johns1Sy d1R;bm,hop,n1tv;c,g,te1;l,rpol; & m,asbro,ewlett-packaTi3o1sbc,yundai;me dep1n1J;ot;tac1zbollah;hi;eneral 6hq,l5mb,o2reen d0Iu1;cci,ns n ros0;ldman sachs,o1;dye1g0B;ar;axo smith kliZencore;electr0Im1;oto0V;a3bi,da,edex,i1leetwood mac,oGrito-l0A;at,nancial1restoV; tim0;cebook,nnie mae;b06sa,u3xxon1; m1m1;ob0H;!rosceptics;aiml0Ae5isney,o3u1;nkin donuts,po0Wran dur1;an;j,w j1;on0;a,f leppa3ll,p2r spiegZstiny's chi1;ld;eche mode,t;rd;aEbc,hBi9nn,o3r1;aigsli5eedence clearwater reviv1ossra05;al;!ca c5l4m1o0Ast05;ca2p1;aq;st;dplMgate;ola;a,sco1tigroup;! systems;ev2i1;ck fil-a,na daily;r0Hy;dbury,pital o1rl's jr;ne;aGbc,eCfAl6mw,ni,o2p,r1;exiteeWos;ei3mbardiJston 1;glo1pizza;be;ng;ack & deckFo2ue c1;roX;ckbuster video,omingda1;le; g1g1;oodriN;cht3e ge0n & jer2rkshire hathaw1;ay;ryH;el;nana republ3s1xt5y5;f,kin robbi1;ns;ic;bXcSdidRerosmith,ig,lLmFnheuser-busEol,ppleAr7s3t&t,v2y1;er;is,on;hland2s1;n,ociated F; o1;il;by4g2m1;co;os; compu2bee1;'s;te1;rs;ch;c,d,erican3t1;!r1;ak; ex1;pre1;ss; 4catel2t1;air;!-luce1;nt;jazeera,qae1;da;as;/dc,a3er,t1;ivisi1;on;demy of scienc0;es;ba,c",Demonym:"true¦0:16;1:13;a0Wb0Nc0Cd0Ae09f07g04h02iYjVkTlPmLnIomHpDqatari,rBs7t5u4v3wel0Rz2;am0Fimbabwe0;enezuel0ietnam0H;g9krai1;aiwThai,rinida0Iu2;ni0Qrkmen;a4cot0Ke3ingapoOlovak,oma0Tpa05udRw2y0X;edi0Kiss;negal0Br08;mo0uU;o6us0Lw2;and0;a3eru0Hhilipp0Po2;li0Ertugu06;kist3lesti1na2raguay0;ma1;ani;amiZi2orweP;caragu0geri2;an,en;a3ex0Mo2;ngo0Erocc0;cedo1la2;gasy,y08;a4eb9i2;b2thua1;e0Dy0;o,t02;azakh,eny0o2uwaiti;re0;a2orda1;ma0Bp2;anN;celandic,nd4r2sraeli,ta02vo06;a2iT;ni0qi;i0oneV;aiDin2ondur0unN;di;amDe2hanai0reek,uatemal0;or2rm0;gi0;i2ren7;lipino,n4;cuadoVgyp6ngliJsto1thiopi0urope0;a2ominXut4;niH;a9h6o4roa3ub0ze2;ch;ti0;lom2ngol5;bi0;a6i2;le0n2;ese;lifor1m2na3;bo2eroo1;di0;angladeshi,el8o6r3ul2;gaG;aziBi2;ti2;sh;li2s1;vi0;aru2gi0;si0;fAl7merBngol0r5si0us2;sie,tr2;a2i0;li0;gent2me1;ine;ba1ge2;ri0;ni0;gh0r2;ic0;an",Possessive:"true¦anyAh5its,m3noCo1sometBthe0yo1;ir1mselves;ur0;!s;i8y0;!se4;er1i0;mse2s;!s0;!e0;lf;o1t0;hing;ne",Currency:"true¦$,aud,bScQdLeurKfJgbp,hkd,iIjpy,kGlEp8r7s3usd,x2y1z0¢,£,¥,ден,лв,руб,฿,₡,₨,€,₭,﷼;lotySł;en,uanR;af,of;h0t5;e0il5;k0q0;elM;iel,oubleLp,upeeL;e2ound st0;er0;lingI;n0soH;ceGn0;ies,y;e0i8;i,mpi7;n,r0wanzaCyatC;!onaBw;ls,nr;ori7ranc9;!o8;en3i2kk,o0;b0ll2;ra5;me4n0rham4;ar3;ad,e0ny;nt1;aht,itcoin0;!s",City:"true¦a2Wb26c1Wd1Re1Qf1Og1Ih1Ai18jakar2Hk0Zl0Tm0Gn0Co0ApZquiYrVsLtCuBv8w3y1z0;agreb,uri1Z;ang1Te0okohama;katerin1Hrev34;ars3e2i0rocl3;ckl0Vn0;nipeg,terth0W;llingt1Oxford;aw;a1ern1Mi0;en2Hlni2Z;lenc2Uncouv0Gr2Gughn;lan bat0Dtrecht;a6bilisi,e5he4i3o2rondheim,u0;nVr0;in,ku;kyo,ronIulouC;anj23l13miso2Jra2A; haJssaloni0X;gucigalpa,hr2Ol av0L;i0llinn,mpe2Bngi07rtu;chu22n2MpT;a3e2h1kopje,t0ydney;ockholm,uttga12;angh1Fenzh1X;o0KvZ;int peters0Ul3n0ppo1F; 0ti1B;jo0salv2;se;v0z0Q;adU;eykjavik,i1o0;me,sario,t25;ga,o de janei17;to;a8e6h5i4o2r0ueb1Qyongya1N;a0etor24;gue;rt0zn24; elizabe3o;ls1Grae24;iladelph1Znom pe07oenix;r0tah tik19;th;lerJr0tr10;is;dessa,s0ttawa;a1Hlo;a2ew 0is;delTtaip0york;ei;goya,nt0Upl0Uv1R;a5e4i3o1u0;mb0Lni0I;nt0scH;evideo,real;l1Mn01skolc;dellín,lbour0S;drid,l5n3r0;ib1se0;ille;or;chest0dalWi0Z;er;mo;a4i1o0vAy01;nd00s angel0F;ege,ma0nz,sbZverpo1;!ss0;ol; pla0Iusan0F;a5hark4i3laipeda,o1rak0uala lump2;ow;be,pavog0sice;ur;ev,ng8;iv;b3mpa0Kndy,ohsiu0Hra0un03;c0j;hi;ncheMstanb0̇zmir;ul;a5e3o0; chi mi1ms,u0;stI;nh;lsin0rakliG;ki;ifa,m0noi,va0A;bu0SiltD;alw4dan3en2hent,iza,othen1raz,ua0;dalaj0Gngzhou;bu0P;eUoa;sk;ay;es,rankfu0;rt;dmont4indhovU;a1ha01oha,u0;blRrb0Eshanbe;e0kar,masc0FugavpiJ;gu,je0;on;a7ebu,h2o0raioJuriti01;lo0nstanJpenhagNrk;gFmbo;enn3i1ristchur0;ch;ang m1c0ttagoL;ago;ai;i0lgary,pe town,rac4;ro;aHeBirminghWogoAr5u0;char3dap3enos air2r0sZ;g0sa;as;es;est;a2isba1usse0;ls;ne;silPtisla0;va;ta;i3lgrade,r0;g1l0n;in;en;ji0rut;ng;ku,n3r0sel;celo1ranquil0;la;na;g1ja lu0;ka;alo0kok;re;aBb9hmedabad,l7m4n2qa1sh0thens,uckland;dod,gabat;ba;k0twerp;ara;m5s0;terd0;am;exandr0maty;ia;idj0u dhabi;an;lbo1rh0;us;rg",Country:"true¦0:38;1:2L;a2Wb2Dc21d1Xe1Rf1Lg1Bh19i13j11k0Zl0Um0Gn05om3CpZqat1JrXsKtCu6v4wal3yemTz2;a24imbabwe;es,lis and futu2X;a2enezue31ietnam;nuatu,tican city;.5gTkraiZnited 3ruXs2zbeE;a,sr;arab emirat0Kkingdom,states2;! of am2X;k.,s.2; 27a.;a7haBimor-les0Bo6rinidad4u2;nis0rk2valu;ey,me2Xs and caic1T; and 2-2;toba1J;go,kel0Ynga;iw2Vji2nz2R;ki2T;aCcotl1eBi8lov7o5pa2Bri lanka,u4w2yr0;az2ed9itzerl1;il1;d2Qriname;lomon1Vmal0uth 2;afr2IkLsud2O;ak0en0;erra leoEn2;gapo1Wt maart2;en;negKrb0ychellY;int 2moa,n marino,udi arab0;hele24luc0mart1Z;epublic of ir0Com2Cuss0w2;an25;a3eHhilippinTitcairn1Ko2uerto riM;l1rtugE;ki2Bl3nama,pua new0Tra2;gu6;au,esti2;ne;aAe8i6or2;folk1Gth3w2;ay; k2ern mariana1B;or0M;caragua,ger2ue;!ia;p2ther18w zeal1;al;mib0u2;ru;a6exi5icro09o2yanm04;ldova,n2roc4zamb9;a3gol0t2;enegro,serrat;co;c9dagascZl6r4urit3yot2;te;an0i14;shall0Vtin2;ique;a3div2i,ta;es;wi,ys0;ao,ed00;a5e4i2uxembourg;b2echtenste10thu1E;er0ya;ban0Gsotho;os,tv0;azakh1De2iriba02osovo,uwait,yrgyz1D;eling0Jnya;a2erF;ma15p1B;c6nd5r3s2taly,vory coast;le of m19rael;a2el1;n,q;ia,oI;el1;aiSon2ungary;dur0Mg kong;aAermany,ha0Pibralt9re7u2;a5ern4inea2ya0O;!-biss2;au;sey;deloupe,m,tema0P;e2na0M;ce,nl1;ar;bTmb0;a6i5r2;ance,ench 2;guia0Dpoly2;nes0;ji,nl1;lklandTroeT;ast tim6cu5gypt,l salv5ngl1quatorial3ritr4st2thiop0;on0; guin2;ea;ad2;or;enmark,jibou4ominica3r con2;go;!n B;ti;aAentral african 9h7o4roat0u3yprQzech2; 8ia;ba,racao;c3lo2morPngo-brazzaville,okFsta r03te d'ivoiK;mb0;osD;i2ristmasF;le,na;republic;m2naTpe verde,yman9;bod0ero2;on;aFeChut00o8r4u2;lgar0r2;kina faso,ma,undi;azil,itish 2unei;virgin2; is2;lands;liv0nai4snia and herzegoviGtswaGuvet2; isl1;and;re;l2n7rmuF;ar2gium,ize;us;h3ngladesh,rbad2;os;am3ra2;in;as;fghaFlCmAn5r3ustr2zerbaijH;al0ia;genti2men0uba;na;dorra,g4t2;arct6igua and barbu2;da;o2uil2;la;er2;ica;b2ger0;an0;ia;ni2;st2;an",Region:"true¦0:1U;a20b1Sc1Id1Des1Cf19g13h10i0Xj0Vk0Tl0Qm0FnZoXpSqPrMsDtAut9v6w3y1zacatec22;o05u1;cat18kZ;a1est vi4isconsin,yomi14;rwick0shington1;! dc;er2i1;rgin1S;acruz,mont;ah,tar pradesh;a2e1laxca1DuscaA;nnessee,x1R;bas0Kmaulip1QsmJ;a6i4o2taf0Ou1ylh13;ffVrr00s0Y;me10no1Auth 1;cSdR;ber1Ic1naloa;hu0Sily;n2skatchew0Rxo1;ny; luis potosi,ta catari1I;a1hode7;j1ngp02;asth0Mshahi;inghai,u1;e1intana roo;bec,ensWreta0E;ara4e2rince edward1; isU;i,nnsylv1rnambu02;an14;!na;axa0Ndisha,h1klaho1Bntar1reg4x04;io;ayarit,eBo3u1;evo le1nav0L;on;r1tt0Rva scot0X;f6mandy,th1; 1ampton0;c3d2yo1;rk0;ako0Y;aroli0V;olk;bras0Xva01w1; 2foundland1;! and labrador;brunswick,hamp0jers1mexiJyork state;ey;a6i2o1;nta0Nrelos;ch3dlanBn2ss1;issippi,ouri;as geraGneso0M;igQoacQ;dhya,harasht04ine,ni3r1ssachusetts;anhao,y1;land;p1toba;ur;anca0e1incoln0ouis8;e1iH;ds;a1entucky,hul0A;ns08rnata0Dshmir;alis1iangxi;co;daho,llino2nd1owa;ia05;is;a2ert1idalEunA;ford0;mp0waii;ansu,eorgWlou5u1;an2erre1izhou,jarat;ro;ajuato,gdo1;ng;cester0;lori2uji1;an;da;sex;e4o2uran1;go;rs1;et;lawaErby0;a8ea7hi6o1umbrH;ahui4l3nnectic2rsi1ventry;ca;ut;iMorado;la;apEhuahua;ra;l8m1;bridge0peche;a5r4uck1;ingham0;shi1;re;emen,itish columb3;h2ja cal1sque,var2;iforn1;ia;guascalientes,l4r1;izo2kans1;as;na;a2ber1;ta;ba2s1;ka;ma",Place:"true¦a07b05cZdYeXfVgRhQiOjfk,kMlKmHneEoDp9que,rd,s8t5u4v3w0yyz;is1y0;!o;!c;a,t;pYsafa,t;e1he 0;bronx,hamptons;nn,x;ask,fo,oho,t,under6yd;a2e1h0;l,x;k,nnK;!cifX;kla,nt,rd;b1w eng0;land;!r;a1co,i0t,uc;dKnn;libu,nhattS;a0gw,hr;s,x;an0ul;!s;a0cn,da,ndianMst;!x;arlem,kg,nd,wy;a2re0;at 0enwich;britain,lak6;!y village;co,l0ra;!a;urope,verglad2;ak,en,fw,ist,own4xb;al4dg,gk,hina3l2o1r0;es;lo,nn;!t;town;!if;cn,e0kk,lvd,rooklyn;l air,verly hills;frica,lta,m5ntarct2r1sia,tl0ve;!ant1;ct0iz;ic0; oce0;an;ericas,s",WeekDay:"true¦fri2mon2s1t0wednesd3;hurs1ues1;aturd1und1;!d0;ay0;!s",Month:"true¦aBdec9feb7j2mar,nov9oct1sep0;!t8;!o8;an3u0;l1n0;!e;!y;!u1;!ru0;ary;!em0;ber;pr1ug0;!ust;!il",Date:"true¦ago,t2week0yesterd4; e0e0;nd;mr2o0;d0morrow;ay;!w",FirstName:"true¦aKblair,cGdevFgabrieEhinaDjBk8l7m3nelly,quinn,re2sh0;ay,e0iloh;a,lby;g6ne;a1el0ina,org5;!okuh9;naia,r0;ion,lo;ashawn,uca;asCe1ir0rE;an;lsAnyat2rry;am0ess6ie,ude;ie,m5;ta;le;an,on;as2h0;arl0eyenne;ie;ey,sidy;lex2ndr1ubr0;ey;a,ea;is",LastName:"true¦0:9F;1:9V;2:9H;3:9X;4:9N;5:8J;6:9K;7:A0;8:9E;9:88;A:6E;B:77;C:6J;a9Ub8Lc7Kd6Xe6Rf6Dg5Vh58i54j4Pk45l3Nm2Rn2Eo26p1Nquispe,r17s0Ft05vVwOxNyGzD;aytsADhD;aDou,u;ng,o;aGeun7ZiDoshiA9un;!lD;diDmaz;rim,z;maDng;da,guc97mo6UsDzaB;aBhiA7;iao,u;aHeGiEoDright,u;jc8Sng;lDmm0nkl0sniewsB;liA1s3;b0iss,lt0;a5Rgn0lDng,tanabe;k0sh;aHeGiEoDukA;lk5roby5;dAllalDnogr2Zr0Zss0val37;ba,obos;lasEsel7N;lGn dFrg8EsEzD;qu7;ily9Oqu7silj9O;en b35ijk,yk;enzue95verde;aLeix1JhHi4j6ka3IoGrFsui,uD;om4ZrD;c4n0un1;an,embl8TynisB;dor95lst31m2rr9th;at5Mi7LoD;mErD;are6Ylaci64;ps3s0Y;hirAkah8Dnaka;a00chWeThPiNmKoItFuEvDzabo;en8Aobod34;ar7bot2lliv4zuB;aEein0oD;i67j3Lyan8V;l6rm0;kol5lovy5re6Psa,to,uD;ng,sa;iDy5Z;rn5tD;!h;l5YmDngh,rbu;mo6Do6J;aFeDimizu;hu,vchD;en7Cuk;la,r17;gu8mDoh,pulve8Trra4R;jDyD;on5;evi6Filtz,miDneid0roed0ulz,warz;dEtD;!z;!t;ar42h6ito,lFnDr2saBto,v2;ch7d0AtDz;a4Pe,os;as,ihAm3Zo0Q;aOeNiKoGuEyD;a66oo,u;bio,iz,sD;so,u;bEc7Bdrigue57g03j73mDosevelt,ssi,ta7Nux,w3Z;a4Be0O;ertsDins3;!on;bei0LcEes,vDzzo;as,e8;ci,hards3;ag4es,it0ut0y9;dFmEnDsmu7Zv5F;tan1;ir7os;ic,u;aSeLhJiGoErDut6;asad,if5Zochazk1W;lishc24pDrti62u55we66;e2Tov48;cEe09nD;as,to;as60hl0;aDillips;k,m,n5K;de3AetIna,rGtD;ersErovDtersC;!a,ic;en,on;eDic,ry,ss3;i8ra,tz,z;ers;h71k,rk0tEvD;ic,l3T;el,t2O;bJconnor,g2ClGnei5PrEzD;demir,turk;ella3MtDwe5N;ega,iz;iDof6GsC;vDyn1F;ei8;aPri1;aLeJguy1iFoDune44ym4;rodahl,vDwak;ak3Uik5otn56;eEkolDlsCx3;ic,ov6X;ls1miD;!n1;ils3mD;co42ec;gy,kaEray4varD;ro;jiDmu8shiD;ma;aXcVeQiPoIuD;lGnFrDssoli5T;atDpUr68;i,ov2;oz,te4B;d0l0;h4lIo0HrEsDza0Z;er,s;aFeEiDoz5r3Ete4B;!n6F;au,i8no,t4M;!l9;i2Rl0;crac5Ohhail5kke3Qll0;hmeGij0j2ElFndErci0ssiDyer19;!er;e3Bo2Z;n0Io;dAti;cartDlaughl6;hy;dMe6Dgnu5Ei0jer34kLmJnci59rFtEyD;er,r;ei,ic,su1N;iEkAqu9roqu6tinD;ez,s;a54c,nD;!o;a52mD;ad5;e5Oin1;rig4Ns1;aSeMiIoGuEyD;!nch;k2nDo;d,gu;mbarDpe2Rvr2;di;!nDu,yana1R;coln,dD;bDholm;erg;bed5TfeGhtFitn0kaEn6rDw2G;oy;!j;in1on1;bvDvD;re;iDmmy,rsCu,voie;ne,t11;aTennedy,h4iSlQnez46oJrGuEvar4woD;k,n;cerDmar58znets5;a,o2G;aDem0i2Zyeziu;sni3PvD;ch3U;bay4Frh0Jsk0TvaFwalDzl5;czDsB;yk;cFlD;!cDen3Q;huk;!ev2ic,s;e6uiveD;rt;eff0l2mu8nnun1;hn,lloe,minsBrEstra31to,ur,yDzl5;a,s0;j0GlsC;aMenLha2Pim0QoEuD;ng,r2;e2JhFnErge2Ju2NvD;anA;es,ss3;anEnsD;en,on,t3;nesDsC;en,s1;ki26s1;cGkob3RnsDrv06;en,sD;enDon;!s;ks3obs1;brahimAglesi3Ake4Ll0CnoZoneFshikEto,vanoD;u,v4A;awa;scu;aPeIitchcock,jaltal6oFrist46uD;!aDb0gh9ynh;m4ng;a23dz2fEjga2Sk,rDx3B;ak0Yvat;er,fm3B;iGmingw3NnErD;nand7re8;dDriks1;ers3;kkiEnD;on1;la,n1;dz2g1lvoLmJnsCqIrr0SsFuEyD;as36es;g1ng;anEhiD;mo0Q;i,ov08;ue;alaD;in1;rs1;aMeorgLheorghe,iJjonIoGrEuDw3;o,staf2Utierr7zm4;ayDg2iffitUub0;li1G;lub3Rme0JnD;calv9zale0I;aj,i;l,mDordaL;en7;iev3B;gnJlGmaFnd2No,rDs2Nuthi0;cDza;ia;ge;eaElD;agh0i,o;no;e,on;ab0erMiIjeldsted,lor9oGrFuD;cDent9ji3F;hs;an1Wiedm4;ntaDrt6st0urni0;na;lipEsD;ch0;ovD;!ic;hatAnandeVrD;arDei8;a,i;ov2;dHinste6riksCsDva0D;cob2ZpDtra2X;inoDosiM;za;en,s3;er,is3wards;aUeMiKjurhuJoHrisco0YuEvorakD;!oQ;arte,boEmitru,rDt2U;and,ic;is;g4he0Hmingu7n2Ord19tD;to;us;aDmitr29ssanayake;s,z; GbnaFlEmirDrvis1Lvi,w4;!ov2;gado,ic;th;bo0groot,jo03lEsilDvri9;va;a cruz,e3uD;ca;hl,mcevsBnErw6t2EviD;d5es,s;ieDku1S;ls1;ki;a05e00hNiobMlarkLoFrD;ivDuz;elli;h1lGntFop0rDs26x;byn,reD;a,ia;i,rer0O;em4liD;ns;!e;anu;aLeIiu,oGriDuJwe;stD;eDiaD;ns1;i,ng,uFwDy;!dhury;!n,onEuD;ng;!g;kEnDtterjee,v7;!d,g;ma,raboD;rty;bGl09ng2rD;eghetEnD;a,y;ti;an,ota0M;cer9lder3mpbeIrFstDvadi08;iDro;llo;doEt0uDvalho;so;so,zo;ll;es;a09eXhUiSlNoGrFyD;rne,tyD;qi;ank5iem,ooks,yant;gdan5nFruya,su,uchEyHziD;c,n5;ard;darDik;enD;ko;ov;aEondD;al;nEzD;ev2;co;ancRshwD;as;a01oDuiy4;umDwmD;ik;ckNethov1gu,ktLnJrD;gGisFnD;ascoDds1;ni;ha;er,mD;ann;gtDit7nett;ss3;asD;hi;er,ham;b2ch,ez,hMiley,kk0nHrDu0;bEnDua;es,i0;ieDosa;ri;dDik;a8yopadhyD;ay;ra;er;k,ng;ic;cosZdYguilXkhtXlSnJrGsl4yD;aEd6;in;la;aEsl4;an;ujo,ya;dFgelD;ovD;!a;ersGov,reD;aDjL;ss1;en;en,on,s3;on;eksejGiyGmeiFvD;ar7es;ez;da;ev;ar;ams;ta",MaleName:"true¦0:E5;1:D6;2:DO;3:AY;4:D2;5:CG;6:B6;7:CW;8:C8;9:DK;A:DL;B:A6;C:C2;aCObBLcAJd9He8Nf85g7Ih6Ui6Ej5Ek52l4Dm35n2To2Np2Fqu2Dr1Ls11t0Eu0Dv07wTxSyIzD;aDor0;cDh9Tkaria,n5W;hEkD;!aCM;ar5WeCL;aLoFuD;sDu2KvBY;if,uf;nFsEusD;ouf,sD;ef;aDg;s,tD;an,h0;hli,nBMssX;avi3ho4;aMeKiFoDyaC2;jcie8Clfgang,odrow,utD;!er;lDnst1;bFey,frD1lD;aBDiD;am,e,s;e9Fur;i,nde6sD;!l8t1;de,lErrAyD;l1ne;lDt3;aAAy;aGiDladimir,ojte7Z;cEha0kt69nceDrgAJva0;!nt;e3Vt67;lentDnA5;in4Y;ghBVlyss5Cnax,sm0;aXeShOiMoHrFuEyD;!l3ro7s1;n9r5C;avAWeDist0oy,um0;ntAOv5Zy;bGdFmDny;!as,mDoharu;aCTie,y;!d;iBy;mDt5;!my,othy;adFeoEia8GomD;!as;!do8P;!de5;dGrD;en9LrD;an9KeDy;ll,n9J;!dy;dgh,ha,iDnn3req,tsu4T;cB5ka;aTcotRePhLiJoHpenc3tDur1Vylve9Kzym1;anFeDua8D;f0phBTvDwa8C;e62ie;!islaw,l8;lom1nBFuD;leyma7ta;dDlBm1yabonga;!dhart7Bn8;aFeD;lDrm0;d1t1;h7Une,qu10un,wn,y7;aDbasti0k2Al4Rrg4Oth,ymoAU;m5n;!tD;!ie,y;lEmDnti2Eq5Bul;!ke5MmCu4;ik,vato7X;aYeUheAAiQoHuEyD;an,ou;b7NdEf5pe7SssD;!elBZ;ol3Fy;an,bKcJdIel,geHh0landBQmGnFry,sEyD;!ce;coe,s;!aAHnC;an,eo;l47r;e5Og3n8olfo,ri7A;co,ky;bCeB7;cDl8;ar6Pc6OhEkDo;!ey,ie,y;a99ie;gEid,ubAx,yDza;an1InY;gA8iD;naA4s;ch70fa4lHmGndFpha4sEul,wi2HyD;an,mo82;h7Vm5;alBDol2Uy;iATon;f,ph;ent2inD;cy,t1;aIeGhilFier72ol,rD;aka16eD;m,st1;!ip,lip;dALrcy,tD;ar,e3Gr1X;b4Kdra7Ft4ZulD;!o17;ctav3Fi3liv3mAFndrej,rHsEtDum9wA;is,to;aEc9k9m0vD;al5Z;ma;i,l53vL;aLeJiFoDu3A;aDel,j5l0ma0r3K;h,m;cEg4i49kD;!au,h7Uola;holBkDolB;!olB;al,d,il,ls1vD;il8Y;hom,thD;anDy;!a4i4;aZeWiMoHuEyD;l2Jr1;hamEr6XstaD;fa,p5C;ed,mH;di0We,hamFis2FntEsDussa;es,he;e,y;ad,ed,mD;ad,ed;cIgu4hai,kGlFnEtchD;!e6;a8Aik;house,o0Bt1;ae5YeA4olD;aj;ah,hDk8;aEeD;al,l;el,l;hElv2rD;le,ri6v2;di,met;ay0ck,hTjd,ks2DlRmadWnQrKs1tFuricExD;!imilian9Nwe6;e,io;eGhEiBtDus,yB;!eo,hew,ia;eDis;us,w;j,o;cHio,kGlFqu7Dsha6tDv2;iDy;!m,n;in,on;!el,oPus;!el9IoOus;iGu4;achDcolm,ik;ai,y;amEdi,eDmoud;sh;adDm5T;ou;aXeQiOlo3EoKuEyD;le,nd1;cGiFkDth3uk;aDe;!s;gi,s,z;as,iaD;no;g0nn7SrenFuDv8Jwe6;!iD;e,s;!zo;am,oD;n4r;a8Cevi,la5JnIoGst3thaFvD;eDi;nte;bo;!nD;!a6Sel;!ny;mFnErDur5Hwr5H;ry,s;ce,d1;ar,o5A;aLeGhaled,iDrist5Iu4Vy6X;er0p,rD;by,k,ollD;os;en0iGnDrmit,v44;!dEnDt5Z;e1Ay;a6ri59;r,th;cp3j5m66na73rEsp9them,uD;ri;im,l;a02eUiSoGuD;an,lDst2;en,iD;an,en,o,us;aNeLhnKkubBnIrGsD;eEhDi8Bue;!ua;!ph;dDge;an,i,on;!aDny;h,s,th5I;!ath5Hie,nC;!l,sDy;ph;o,qu2;an,mD;!mC;d,ffIrFsD;sDus;!e;a6BemEmai7oDry;me,ni0Y;i7Ty;!e60rD;ey,y;cKdAkImHrFsEvi3yD;!dAs1;on,p3;ed,od,rDv56;e5Nod;al,es4Xis1;a,e,oDub;b,v;k,ob,quD;es;aWbQchiPgNkeMlija,nuLonut,rJsFtDv0;ai,suD;ki;aEha0i7DmaDsac;el,il;ac,iaD;h,s;a,vinDw2;!g;k,nngu5S;!r;nacDor;io;ka;ai,rahD;im;aPeJoIuDyd9;be2KgGmber4WsD;eyEsD;a2e2;in,n;h,o;m3ra3Gsse2wa4B;aHctGitGnrErD;be2Dm0;iDy;!q11;or;th;bMlLmza,nKo,rFsEyD;a4JdA;an,s0;lGo50rFuDv8;hi4Gki,tD;a,o;is1y;an,ey;k,s;!im;ib;aVeRiPlenOoLrHuD;ilEsD;!tavo;herme,lerD;mo;aFegDov3;!g,orD;io,y;dy,h5Wnt;nzaErD;an,d1;lo;!n;lbe5Ano,oD;rg3Hvan5A;ne,oFrD;aDry;ld,rd5H;ffr8rge;brElArDv2;la28r3Sth,y;e3EielD;!i5;aTePiNlLorr0NrD;anFedDitz;!dCeDri2B;ri2A;cFkD;!ie,lD;in,yn;esLisD;!co,z36;etch3oD;yd;d4lDnn,onn;ip;deriFliEng,rnD;an06;pe,x;co;bi0di,hd;ar04dZfrYit0lSmKnHo2rFsteb0th0uge7vDymAzra;an,eD;ns,re36;gi,i0DnDrol,v2w2;est4Pie;oEriqDzo;ue;ch;aJerIiEmD;aIe2Z;lErD;!h0;!iD;o,s;s1y;nu4;be0Cd1iGliFmEt1viDwood;n,s;er,o;ot1Ys;!as,j4NsD;ha;a2en;!dCg9mGoEuEwD;a2Din;arD;do;o0Wu0W;l,nD;est;a01eRiOoHrGuFwEylD;an,l0;ay7ight;a7dl8nc0st2;ag0ew;minGnEri0ugDvydBy2D;!lB;!a2MnDov0;e6ie,y;go,iDykB;cDk;!k;armuEeDll1on,rk;go;id;anKj0lbeJmetri5nHon,rGsFvEwDxt3;ay7ey;en,in;hawn,mo0B;ek,ri0I;is,nDv3;is,y;rt;!dD;re;an,lNmLnKrGvD;e,iD;! lucDd;as,ca;en,iFne6rDyl;eDin,yl;l3Bn;n,o,us;!e,i4ny;iDon;an,en,on;e,lB;as;a09e07hYiar0lNoIrGuEyrD;il,us;rtD;!is;aDistob0U;ig;dy,lGnErD;ey,neli5y;or,rD;ad;by,e,in,l2t1;aIeFiDyK;fDnt;fo0Ft1;meEt5velaD;nd;nt;rFuEyD;!t1;de;enD;ce;aIeGrisEuD;ck;!tD;i0oph3;st3;er;d,rDs;b4leD;s,y;cDdric,s9;il;lGmer1rD;ey,lEro6y;ll;!os,t1;eb,v2;a07eZiVlaUoRrEuDyr1;ddy,rtK;aLeGiFuEyD;an,ce,on;ce,no;an,ce;nEtD;!t;dEtD;!on;an,on;dEndD;en,on;!foDl8y;rd;bErDyd;is;!by;i7ke;bFlEshD;al;al,lC;ek;nHrDshoi;at,nEtD;!r1C;aDie;rd14;!edict,iEjam2nC;ie,y;to;kaMlazs,nHrD;n8rDt;eDy;tt;ey;dDeE;ar,iD;le;ar17b0Vd0Rf0Pgust2hm0Mi0Jja0Il04m00nSputsiRrIsaHuFveEyDziz;a0kh0;ry;gust5st2;us;hi;aKchJiIjun,maHnFon,tDy0;hDu09;ur;av,oD;ld;an,nd0H;!el,ki;ie;ta;aq;as,dIgel0CtD;hoGoD;i7nD;!i09y;ne;ny;er,reDy;!as,i,s,w;iFmaDos;nu4r;el;ne,r,t;an,bePdAeJfHi,lGonFphXt1vD;aNin;on;so,zo;an,en;onTrD;edU;c,jaGksandFssaGxD;!andD;er,ru;ar,er;ndD;ro;rtN;ni;dAm9;ar;en;ad,eD;d,t;in;onD;so;aEi,olfDri0vik;!o;mDn;!a;dHeGraEuD;!bakr,lfazl;hDm;am;!l;allIelFoulaye,ulD;!lDrF;ah,o;! rD;ahm0;an;ah;av,on",Person:"true¦ashton kutchTbScNdLeJgastOhHinez,jFkEleDmCnettKoBp9r4s3t2v0;a0irgin maH;lentino rossi,n go3;aylor,heresa may,iger woods,yra banks;addam hussain,carlett johanssKlobodan milosevic,uC;ay romano,e3o1ush limbau0;gh;d stewart,nald0;inho,o;ese witherspoFilly;a0ipJ;lmIris hiltD;prah winfrFra;essiaen,itt romnEubarek;bron james,e;anye west,iefer sutherland,obe bryant;aime,effers8k rowli0;ng;alle ber0itlBulk hogan;ry;ff0meril lagasse,zekiel;ie;a0enzel washingt2ick wolf;lt1nte;ar1lint0;on;dinal wols1son0;! palm2;ey;arack obama,rock;er",Verb:"true¦awak9born,cannot,fr8g7h5k3le2m1s0wors9;e8h3;ake sure,sg;ngth6ss6;eep tabs,n0;own;as0e2;!t2;iv1onna;ight0;en",PhrasalVerb:"true¦0:7E;1:72;2:7Q;3:7G;4:6V;5:7T;6:7I;7:6O;8:71;9:6P;A:5T;B:7C;C:7J;D:6Q;E:7L;F:7D;G:7S;H:46;a7Yb6Jc5Sd5Oe5Mf4Lg43h3Miron0j3Ik3Dl2Xm2Ln2Jo2Hp1ZquietDr1Ms0FtVuTvacuum 1wLyammerBzI;eroAip JonI;e0k0;by,up;aOeLhKiJorIrit5H;d 1k35;mp0n2Xpe0r7s7;eel Fip G;aJiIn2L;gh 0Crd0;n Fr 3S;it 60k7lk6rm 6Bsh 7Lt6Ov53;rgeBsI;e 9herA;aXeVhTiPoNrKuIype 68;ckArn I;d2in,o3Vup;aJiIot0y 2L;ckleDp G;ckDde 02;neDp Is4Q;d2o71up;ck KdJe Igh69me0p o0Kre0;aw3ba4d2in,up;e 60y 1;by,oC;ink Irow 6B;ba4ov8up;aIe 4Vll52;m 1r 01;ckBke Jlk I;ov8u53;aIba4d2in,o3Fup;ba4ft8p58w3;a0Nc0Me0Gh0Ci09l05m04n03o02pXquare WtOuMwI;earKiI;ngJtch I;aw3ba4o75; by;ck Iit 1m 1ss0;in,up;aNe10iMoKrIucH;aigh1ZiI;ke 6En3C;p Irm22;by,in,oC;nHr 1tc3V;cHmp0nd Ir6Xve6y 1;ba4d2up;d2oCup;arHeLiKlJrIurB;ingBuc7;a3Hit 47;l16n 1;e5Qll0;be4Prt0;ap 4Row F;ash 5Doke0;eep JiIow 9;c3Yp 1;in,oI;ff,v8;gn 4WngJt Iz7;d2o5up; al52le0;aKoIu4S;ot Iut0w 6B;aw3ba4f3IoC;cHdeAk56ve6;e Mll0nd LtI; Itl4G;d2in,o5upI;!on;aw3ba4d2in,o2Aup;o5to;al4Zout0rap4Z;il6v7;aTeQiPoLuI;b 4Sle0n Istl7;aIba4d2in5Ho3Tt3Bu3R;c29w3;ll Kot JuI;g2Vnd6;a29f32o5;arEin,o5;ng 51p6;aIel6inAnt0;c5Bd I;o33u0L;cHt0;aVeUiTlRoPrMsyc2JuI;ll Kt I;aIba4d2in,o1Rt3Fup;p3Kw3;ap3Jd2in,o5t3Dup;attleBess JiLoI;p 1;ah1Ron;iIp 5Fr3XurDwer 5F;nt0;ay4BuI;gAmp 9;ck Gg0leBn 9p48;el 4JncilA;c41ir 2Rn0ss KtJy I;ba4oC; d2c27;aw3ba4o1C;pIw3W;e3Vt F;arrowDerd0oI;d6teD;aQeNiMoKuI;ddl7lI;l 3I;cHp 1uth6ve I;al3Md2in,o5up;ss0x 1;asur7lJss I;a1Jup;t 9;ke Jn 9rIs1Sx0;k 9ry6;do,o47up;aVeTiOoIuck0;aMc3Gg LoIse0;k Ise3E;aft8ba4d2forw2Jin45ov8uI;nd8p;in,o0Q;d 9;e LghtKnJsIv1Y;ten G;e 1k 1; 1e36;arEd2;av1Mt 36velI; o3T;c7p 1sh ItchBugh6y20;in3To5;eJick6nock I;d2o3P;eIyA;l 2Pp I;aw3ba4d2fXin,o0Bto,up;aKoJuI;ic7mpA;ke30tD;c39zz 1;aUePiMoJuI;nkerDrry 1s0Z;lIneArse2W;d Ie 1;ba4d2fast,o05up;de Jt I;ba4on,up;aw3o5;aIlp0;d Kl 2Ar It 1;fIof;rom;in,oXu1H;cHm 1nJve Iz25;it,to;d Ig 2EkerK;d2in,o5;aWeQive Oloss 22oKrJunI; f0Q;in3Gow 2A; Iof 0Y;aJb1Dit,oIrEt0Su18;ff,n,v8;bo5ft8hOw3;aw3ba4d2in,oIup,w3;ff,n,ut;a1Dek0t I;aJb17d2oIrEup;ff,n,ut,v8;cJhIl1WrEt,w3;ead;ross;d aJnI;g 1;bo5;a0Ce05iWlSoOrKuI;cHel 1;k 1;eJighten IownBy 1;aw3oC;eIshe1N; 1z7;lKol I;aIwi1G;bo5rE;d 9low 1;aJeIip0;sh0;g 9ke0mIrI;e G;gPlNnLrJsIzzle0;h G;e Im 1;aw3ba4up;d0isI;h 1;e Il 19;aw3fN;ht ba4ure0;eNnJsI;s 1;cKd I;fIoC;or;e F;dWl 1;cMll Irm0t0W;ap05bKd2in,oJtI;hrough;ff,ut,v8;a4ehi20;e J;at0dge0nd Iy7;oCup;oKrI;ess 9op I;aw3bUin,o1D; 0Eubl7;aYhVlean 9oIross Fut 10;me LoJuntI; o1T;k 1l I;d2oC;aObNforLin,oKtJuI;nd8;ogeth8;ut,v8;th,wI;ard;a4y;pIrEw3;art;eIipA;ck FeI;r 1;lOncel0rLsKtch JveA; in;o1Cup;h Ft6;ry JvI;e 01;aw3o18;l ImD;aIba4d2o16up;rEw3;a0Ne0El07oYrNuI;bblKcklZil05lk 9ndlZrn 0Bst JtIy Gzz6;t F;in,o5up;e I;ov8;anReaPiIush6;ghMng I;aJba4d2forIin,o5up;th;bo5lIrEw3;ong;teI;n 1;k I;d2in,o5up;ch0;arPgDil 9n7oLssKttlJunce Ix F;aw3ba4;e 9; arE;k Ft 1;e 1;d2up; d2;d 1;aNeed0oIurt0;cKw I;aw3ba4d2o5up;ck;k I;in,oP;ck0nk0st6; oOaLef 1nd I;d2ov8up;er;up;r0t I;d2in,oIup;ff,ut;ff,nI;to;ck Oil0nKrgJsI;h F;ainBe F;g FkB; on;in,o5; o5;aw3d2o5up;ay;cRdNsk Kuction6; oC;ff;arEo5;ouI;nd;d I;d2oIup;ff,n;own;t G;o5up;ut",Modal:"true¦c5lets,m4ought3sh1w0;ill,o5;a0o4;ll,nt;! to,a;ay,ight,ust;an,o0;uld",Adjective:"true¦0:7P;1:84;2:83;3:8A;4:7W;5:5S;6:4N;7:4O;8:58;9:6I;A:81;a6Wb6Gc63d5Je54f4Hg49h3Wi39j37k36l2Vm2Ln2Bo1Wp1Dquack,r12s0Ft07uMvJwByear5;arp0eFholeEiDoB;man5oBu6P;d6Rzy;despr7Ls5S;!sa7;eClBste2A;co1Nl o4W;!k5;aCiBola4M;b89ce versa,ol5H;ca3gabo6Gnilla;ltUnHpCrb5Msu4tterB;!mo7G; Eb1SpDsBti1M;ca7etBide dKtairs;!ti2;er,i3U;f36to da1;aLbeco75convin29deIeHfair,ivers4knGprecedVrEsCwB;iel3Nritt6A;i1XuB;pervis0spec3Y;eBu5;cognHgul6Tl6T;own;ndi2v64xpect0;cid0rB;!grou5ZsB;iz0tood;b7pp0Dssu6UuthorB;iz0;i26ra;aGeEhDi6AoCrB;i1oubl0us3M;geth8p,rp6Vuc67;ough4Wril33;en60l32mpBrr2X;o6Ati2;boo,lBn;ent0;aWcVeThSiQmug,nobbi3LoOpNqueami3LtFuBymb6H;bDi gener5DpBrpri6D;erBre0N;! dup8b,i2C;du0seq52;anda77eGiFrBunni2y3F;aightCiB;ki2p0; fBfB;or5K;ll,r5S;aBreotyp0;dfa6Cmi2;a55ec2Gir1Hlend6Cot on; call0le,mb8phist1XrBu0Vvi48;d6Ary;gnifica3nB;ce51g7;am2Re8ocki2ut;cBda1em5lfi32ni1Wpa6Jre6;o1Er42;at5Gient28reec5G;cr0me;aJeEiCoB;bu60tt51uQy4;ghtBv4;!-2Bf9;ar,bel,condi1du6Dfres5AlEpublic42sCtard0vB;ea26;is4CoB;lu1na3;aQe1Cuc4A;b5TciBllyi2;al,st;aOeLicayu6lac5Ropuli5QrCuB;bl5Jmp0n51;eGiDoB;!b07fu5RmiBp8;ne3si2;mCor,sBva1;ti6;a53e;ci5MmB;a0EiB;er,um;ac20rBti1;feAma2XpleBv38;xi2;rBst;allelDtB;-tiBi4;me;!ed;bLffJkIld fashion0nHpGrg1Eth8utFvB;al,erB;!all,niCt,wB;eiBrouB;ght;do0Ter,g2Qsi4B;en,posi1; boa5Og2Oli6;!ay; gua5MbBli6;eat;eDsB;cBer0Eole1;e6u3O;d2Xse;aJeIiHoBua4X;nFrCtB;ab7;thB;!eB;rn;chala3descri58stop;ght5;arby,cessa44ighbor5xt;k0usia1A;aIeGiDoBultip7;bi7derBl0Vnth5ot,st;a1n;nBx0;dblo0RiaBor;tu37;ande3Qdi4NnaBre;ci2;cBgenta,in,j01keshift,le,mmoth,ny,sculi6;ab33ho;aKeFiCoBu15;uti14vi2;mCteraB;l,te;it0;ftEgBth4;al,eCitiB;ma1;nda3K;!-0C;ngu3Zst,tt8;ap1Xind5no0A;agg0uB;niMstifi0veni7;de4gno4Klleg4mQnEpso 20rB;a1rB;eleBita0J;va3; KaJbr0corIdGfluenQiQnFsEtCviB;go0Fti2;aAen3SoxB;ic3B;a6i2Vul0D;a1er,oce3;iCoB;or;reA;deq3Qppr33;fBsitu,vitro;ro3;mFpB;arDerfeAoBrop8;li1rtB;a3ed;ti4;eBi0S;d2Vn3C;aIeFiDoBumdr3I;ne36ok0rrBs08ur5;if2Z;ghfalut1QspB;an2X;aClB;liYpf9;li2;lEnDrB;d04roB;wi2;dy;f,low0;ainf9ener2Oiga24lHoGraDuB;ilBng ho;ty;cCtB;ef9is;ef9;ne,od;ea2Iob4;aTeNinMlKoFrB;a1VeDoz1MustB;raB;ti2;e2Gq10tf9;oDrB; keeps,eBm8tuna1;g03ign;liB;sh;aBue3;g31tte1P;al,i1;dFmCrB;ti7;a7ini6;ne;le; up;bl0i3l27r Cux,voB;ri1uri1;oBreac1E;ff;aLfficie3lKmHnFreAthere4veExB;aAcess,pe1QtraCuB;be2Nl0E;!va1E;n,ryday; BcouraEti0O;rou1sui1;erCiB;ne3;gi2;abo23dMe17i1;g8sB;t,ygB;oi2;er;aReJiDoBrea14ue;mina3ne,ubB;le,tf9;dact1Bfficu1OsCvB;er1K;creDeas0gruntl0hone1FordCtB;a3ressM;er5;et; HadpGfFgene1PliDrang0spe1PtCvoB;ut;ail0ermin0;be1Mca1ghB;tf9;ia3;an;facto;i5magBngeroUs0G;ed,i2;ly;ertaMhief,ivil,oDrB;aBowd0u0G;mp0vZz0;loImGnCrrBve0P;eAu1I;cre1fu0LgrDsCtB;empo0Dra0E;ta3;ue3;mer08pleB;te,x;ni4ss4;in;aNeIizarHlFoCrB;and new,isk,okN;gCna fiUttom,urgeoB;is;us;ank,indB;!i2;re;autif9hiDloCnBst,yoD;eUt;v0w;nd;ul;ckCnkru0WrrB;en;!wards; priori,b0Mc0Jd09fra08g04h03lYmWntiquVppSrMsIttracti06utheHvEwB;aCkB;wa0T;ke,re;ant garCerB;age;de;ntU;leep,piDsuDtonB;isB;hi2;ri2;ab,bitEroDtiB;fiB;ci4;ga3;raB;ry;are3etiNrB;oprB;ia1;at0;aJuB;si2;arEcohCeBiIl,oof;rt;olB;ic;mi2;ead;ainDgressiConiB;zi2;ve;st;id; IeGuFvB;aCerB;se;nc0;ed;lt;pt,qB;ua1;hoc,infinitB;um;cuCtu4u1;al;ra1;erLlKoIruHsCuB;nda3;e3oCtraA;ct;lu1rbi2;ng;te;pt;aBve;rd;aze,e;ra3;nt",Comparable:"true¦0:41;1:4I;2:45;3:2Y;4:4B;5:3X;a4Ob44c3Od3De35f2Rg2Fh24i1Vj1Uk1Rl1Jm1Dn17o15p0Vqu0Tr0KsTtMuIvFw7y6za13;ell27ou4;aBe9hi1Yi7r6;o4y;ck0Ode,l6n1ry,se;d,y;a6i4Mt;k,ry;n1Tr6sK;m,y;a7e6ulgar;nge5rda2xi4;g9in,st;g0n6pco3Mse5;like0t6;i1r6;ue;aAen9hi8i7ough,r6;anqu2Oen1ue;dy,g3Sme0ny,r09;ck,n,rs2P;d40se;ll,me,rt,s6wd45;te5;aVcarUeThRiQkin0FlMmKoHpGqua1FtAu7w6;eet,ift;b7dd13per0Gr6;e,re2H;sta2Ft3;aAe9iff,r7u6;pXr1;a6ict,o4;ig3Fn0U;a1ep,rn;le,rk;e22i3Fright0;ci28ft,l7o6re,ur;n,thi4;emn,id;a6el0ooth;ll,rt;e8i6ow,y;ck,g35m6;!y;ek,nd3D;ck,l0mp3;a6iTort,rill,y;dy,ll0Xrp;cu0Rve0Rxy;ce,ed,y;d,fe,int0l1Vv14;aBe9i8o6ude;mantic,o1Isy,u6;gh,nd;ch,pe,tzy;a6d,mo0H;dy,l;gg7ndom,p6re,w;id;ed;ai2i6;ck,et;aEhoDi1QlCoBr8u6;ny,r6;e,p3;egna2ic7o6;fouYud;ey,k0;li04or,te1B;ain,easa2;ny;in5le;dd,f6i0ld,ranQ;fi10;aAe8i7o6;b3isy,rm15sy;ce,mb3;a6w;r,t;ive,rr01;aAe8ild,o7u6;nda19te;ist,o1;a6ek,llX;n,s0ty;d,tuQ;aBeAi9o6ucky;f0Un7o1Du6ve0w17y0T;d,sy;e0g;g1Tke0tt3ve0;an,wd;me,r6te;ge;e7i6;nd;en;ol0ui1P;cy,ll,n6;sBt6;e6ima8;llege2r6;es7media6;te;ti4;ecu6ta2;re;aEeBiAo8u6;ge,m6ng1R;b3id;ll6me0t;ow;gh,l0;a6f04sita2;dy,v6;en0y;nd1Hppy,r6te5;d,sh;aGenFhDiClBoofy,r6;a9e8is0o6ue1E;o6ss;vy;at,en,y;nd,y;ad,ib,ooI;a2d1;a6o6;st0;t3uiY;u1y;aIeeb3iDlat,oAr8u6;ll,n6r14;!ny;aHe6iend0;e,sh;a7r6ul;get5mG;my;erce8n6rm;an6e;ciC;! ;le;ir,ke,n0Fr,st,t,ulA;aAerie,mp9sse7v6xtre0Q;il;nti6;al;ty;r7s6;tern,y;ly,th0;aFeCi9r7u6;ll,mb;u6y;nk;r7vi6;ne;e,ty;a6ep,nD;d6f,r;!ly;mp,pp03rk;aHhDlAo8r7u6;dd0r0te;isp,uel;ar6ld,mmon,ol,st0ward0zy;se;e6ou1;a6vW;n,r;ar8e6il0;ap,e6;sy;mi4;gey,lm8r6;e5i4;ful;!i4;aNiLlIoEr8u6;r0sy;ly;aAi7o6;ad,wn;ef,g7llia2;nt;ht;sh,ve;ld,r7un6;cy;ed,i4;ng;a7o6ue;nd,o1;ck,nd;g,tt6;er;d,ld,w1;dy;bsu9ng8we6;so6;me;ry;rd",TextOrdinal:"true¦bGeDf9hundredHmGnin7qu6s4t0zeroH;enGh1rFwe0;lfFn9;ir0ousandE;d,t4;e0ixt9;cond,ptAvent8xtA;adr9int9;et0th;e6ie8;i2o0;r0urt3;tie5;ft1rst;ight0lev1;e0h,ie2;en1;illion0;th",Cardinal:"true¦bHeEf8hundred,mHnineAone,qu6s4t0zero;en,h2rGw0;e0o;lve,n8;irt9ousandEree;e0ix5;pt1ven4xt1;adr0int0;illion;i3o0;r1ur0;!t2;ty;ft0ve;e2y;ight0lev1;!e0y;en;illion0;!s",Expression:"true¦a02b01dXeVfuck,gShLlImHnGoDpBshAtsk,u7voi04w3y0;a1eLu0;ck,p;!a,hoo,y;h1ow,t0;af,f;e0oa;e,w;gh,h0;! 0h,m;huh,oh;eesh,hh,it;ff,hew,l0sst;ease,z;h1o0w,y;h,o,ps;!h;ah,ope;eh,mm;m1ol0;!s;ao,fao;a4e2i,mm,oly1urr0;ah;! mo6;e,ll0y;!o;ha0i;!ha;ah,ee,o0rr;l0odbye;ly;e0h,t cetera,ww;k,p;'oh,a0uh;m0ng;mit,n0;!it;ah,oo,ye; 1h0rgh;!em;la",Adverb:"true¦a08by 06d02eYfShQinPjustOkinda,mMnJoEpCquite,r9s5t2up1very,well,ye0;p,s; to,wards5;h1iny bit,o0wiO;o,t6ward;en,us;everal,o0uch;!me1rt0; of;hYtimes,w09;a1e0;alT;ndomSthN;ar excellDer0oint blank; Nhaps;f3n0;ce0ly;! 0;ag02moW; courIten;ewKo0; longEt 0;onIwithstanding;aybe,eanwhiAore0;!ovB;! aboU;deed,steV;en0;ce;or2u0;lArther0;!moJ; 0ev3;examp0good,suH;le;n1v0;er; mas0ough;se;e0irect1; 1finite0;ly;ju8trop;far,n0;ow; DbroCd nauseam,gBl6ny3part,s2t 0w4;be6l0mo6wor6;arge,ea5; soon,ide;mo1w0;ay;re;l 1mo0one,ready,so,ways;st;b1t0;hat;ut;ain;ad;lot,posteriori",Determiner:"true¦aAboth,d8e5few,l3mu7neiCown,plenty,some,th2various,wh0;at0ich0;evB;at,e3is,ose;a,e0;!ast,s;a1i6l0very;!se;ch;e0u;!s;!n0;!o0y;th0;er"},seq="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",cache$1=seq.split("").reduce((function(e,t,n){return e[t]=n,e}),{}),toAlphaCode=function(e){if(void 0!==seq[e])return seq[e];for(var t=1,n=36,r="";e>=n;e-=n,t++,n*=36);for(;t--;){var a=e%36;r=String.fromCharCode((a<10?48:55)+a)+r,e=(e-a)/36}return r},fromAlphaCode=function(e){if(void 0!==cache$1[e])return cache$1[e];for(var t=0,n=1,r=36,a=1;n<e.length;t+=r,n++,r*=36);for(var i=e.length-1;i>=0;i--,a*=36){var s=e.charCodeAt(i)-48;s>10&&(s-=7),t+=s*a}return t},encoding={toAlphaCode:toAlphaCode,fromAlphaCode:fromAlphaCode},symbols=function(e){for(var t=new RegExp("([0-9A-Z]+):([0-9A-Z]+)"),n=0;n<e.nodes.length;n++){var r=t.exec(e.nodes[n]);if(!r){e.symCount=n;break}e.syms[encoding.fromAlphaCode(r[1])]=encoding.fromAlphaCode(r[2])}e.nodes=e.nodes.slice(e.symCount,e.nodes.length)},indexFromRef=function(e,t,n){var r=encoding.fromAlphaCode(t);return r<e.symCount?e.syms[r]:n+r+1-e.symCount},toArray=function(e){var t=[];return function n(r,a){var i=e.nodes[r];"!"===i[0]&&(t.push(a),i=i.slice(1));for(var s=i.split(/([A-Z0-9,]+)/g),o=0;o<s.length;o+=2){var l=s[o],c=s[o+1];if(l){var u=a+l;if(","!==c&&void 0!==c)n(indexFromRef(e,c,r),u);else t.push(u)}}}(0,""),t},unpack=function(e){var t={nodes:e.split(";"),syms:[],symCount:0};return e.match(":")&&symbols(t),toArray(t)},unpack_1$1=unpack,unpack_1$1$1=function(e){var t=e.split("|").reduce((function(e,t){var n=t.split("¦");return e[n[0]]=n[1],e}),{}),n={};return Object.keys(t).forEach((function(e){var r=unpack_1$1(t[e]);"true"===e&&(e=!0);for(var a=0;a<r.length;a++){var i=r[a];!0===n.hasOwnProperty(i)?!1===Array.isArray(n[i])?n[i]=[n[i],e]:n[i].push(e):n[i]=e}})),n},efrtUnpack_min=unpack_1$1$1,misc={"20th century fox":"Organization","7 eleven":"Organization","motel 6":"Organization",g8:"Organization",vh1:"Organization",q1:"Date",q2:"Date",q3:"Date",q4:"Date",her:["Possessive","Pronoun"],his:["Possessive","Pronoun"],their:["Possessive","Pronoun"],themselves:["Possessive","Pronoun"],your:["Possessive","Pronoun"],our:["Possessive","Pronoun"],my:["Possessive","Pronoun"],its:["Possessive","Pronoun"]},fancy={Unit:function(e,t){e[t]=["Abbreviation","Unit"]},Cardinal:function(e,t){e[t]=["TextValue","Cardinal"]},TextOrdinal:function(e,t){e[t]=["Ordinal","TextValue"],e[t+"s"]=["TextValue","Fraction"]},Singular:function(e,t,n){e[t]="Singular";var r=n.transforms.toPlural(t,n);e[r]=e[r]||"Plural"},Infinitive:function(e,t,n){e[t]="Infinitive";for(var r=n.transforms.conjugate(t,n),a=Object.keys(r),i=0;i<a.length;i++){var s=r[a[i]];e[s]=e[s]||a[i]}},Comparable:function(e,t,n){e[t]="Comparable";for(var r=n.transforms.adjectives(t),a=Object.keys(r),i=0;i<a.length;i++){var s=r[a[i]];e[s]=e[s]||a[i]}},PhrasalVerb:function(e,t,n){e[t]=["PhrasalVerb","Infinitive"];for(var r=t.split(" "),a=n.transforms.conjugate(r[0],n),i=Object.keys(a),s=0;s<i.length;s++){var o=a[i[s]]+" "+r[1];e[o]=e[o]||["PhrasalVerb",i[s]],n.hasCompound[a[i[s]]]=!0}},Demonym:function(e,t,n){e[t]="Demonym";var r=n.transforms.toPlural(t,n);e[r]=e[r]||["Demonym","Plural"]}},addWords=function(e,t,n){Object.keys(e).forEach((function(r){var a=e[r];"Abbreviation"!==a&&"Unit"!==a||(n.cache.abbreviations[r]=!0);var i=r.split(" ");i.length>1&&(n.hasCompound[i[0]]=!0),void 0===fancy[a]?void 0!==t[r]?("string"==typeof t[r]&&(t[r]=[t[r]]),"string"==typeof a?t[r].push(a):t[r]=t[r].concat(a)):t[r]=a:fancy[a](t,r,n)}))},buildOut=function(e){var t=Object.assign({},misc);return Object.keys(_data).forEach((function(n){var r=efrtUnpack_min(_data[n]);Object.keys(r).forEach((function(e){r[e]=n})),addWords(r,t,e)})),t},unpack_1={buildOut:buildOut,addWords:addWords},addIrregulars=function(e){for(var t=e.irregulars.nouns,n=Object.keys(t),r=0;r<n.length;r++){var a=n[r];e.words[a]="Singular",e.words[t[a]]="Plural"}for(var i=e.irregulars.verbs,s=Object.keys(i),o=function(t){var n=s[t];e.words[n]=e.words[n]||"Infinitive";var r=e.transforms.conjugate(n,e);r=Object.assign(r,i[n]),Object.keys(r).forEach((function(t){e.words[r[t]]=e.words[r[t]]||t,"Participle"===e.words[r[t]]&&(e.words[r[t]]=t)}))},l=0;l<s.length;l++)o(l)},addIrregulars_1=addIrregulars,plurals={addendum:"addenda",alga:"algae",alumna:"alumnae",alumnus:"alumni",analysis:"analyses",antenna:"antennae",appendix:"appendices",avocado:"avocados",axis:"axes",bacillus:"bacilli",barracks:"barracks",beau:"beaux",bus:"buses",cactus:"cacti",chateau:"chateaux",child:"children",circus:"circuses",clothes:"clothes",corpus:"corpora",criterion:"criteria",curriculum:"curricula",database:"databases",deer:"deer",diagnosis:"diagnoses",echo:"echoes",embargo:"embargoes",epoch:"epochs",foot:"feet",formula:"formulae",fungus:"fungi",genus:"genera",goose:"geese",halo:"halos",hippopotamus:"hippopotami",index:"indices",larva:"larvae",leaf:"leaves",libretto:"libretti",loaf:"loaves",man:"men",matrix:"matrices",memorandum:"memoranda",modulus:"moduli",mosquito:"mosquitoes",mouse:"mice",nebula:"nebulae",nucleus:"nuclei",octopus:"octopi",opus:"opera",ovum:"ova",ox:"oxen",parenthesis:"parentheses",person:"people",phenomenon:"phenomena",prognosis:"prognoses",quiz:"quizzes",radius:"radii",referendum:"referenda",rodeo:"rodeos",sex:"sexes",shoe:"shoes",sombrero:"sombreros",stimulus:"stimuli",stomach:"stomachs",syllabus:"syllabi",synopsis:"synopses",tableau:"tableaux",thesis:"theses",thief:"thieves",tooth:"teeth",tornado:"tornados",tuxedo:"tuxedos",vertebra:"vertebrae"},mapping$1={g:"Gerund",prt:"Participle",perf:"PerfectTense",pst:"PastTense",fut:"FuturePerfect",pres:"PresentTense",pluperf:"Pluperfect",a:"Actor"},conjugations={act:{a:"_or"},ache:{pst:"ached",g:"aching"},age:{g:"ageing",pst:"aged",pres:"ages"},aim:{a:"_er",g:"_ing",pst:"_ed"},arise:{prt:"_n",pst:"arose"},babysit:{a:"_ter",pst:"babysat"},ban:{a:"",g:"_ning",pst:"_ned"},be:{a:"",g:"am",prt:"been",pst:"was",pres:"is"},beat:{a:"_er",g:"_ing",prt:"_en"},become:{prt:"_"},begin:{g:"_ning",prt:"begun",pst:"began"},being:{g:"are",pst:"were",pres:"are"},bend:{prt:"bent"},bet:{a:"_ter",prt:"_"},bind:{pst:"bound"},bite:{g:"biting",prt:"bitten",pst:"bit"},bleed:{pst:"bled",prt:"bled"},blow:{prt:"_n",pst:"blew"},boil:{a:"_er"},brake:{prt:"broken"},break:{pst:"broke"},breed:{pst:"bred"},bring:{pst:"brought",prt:"brought"},broadcast:{pst:"_"},budget:{pst:"_ed"},build:{pst:"built",prt:"built"},burn:{prt:"_ed"},burst:{prt:"_"},buy:{pst:"bought",prt:"bought"},can:{a:"",fut:"_",g:"",pst:"could",perf:"could",pluperf:"could",pres:"_"},catch:{pst:"caught"},choose:{g:"choosing",prt:"chosen",pst:"chose"},cling:{prt:"clung"},come:{prt:"_",pst:"came",g:"coming"},compete:{a:"competitor",g:"competing",pst:"_d"},cost:{pst:"_"},creep:{prt:"crept"},cut:{prt:"_"},deal:{pst:"_t",prt:"_t"},develop:{a:"_er",g:"_ing",pst:"_ed"},die:{g:"dying",pst:"_d"},dig:{g:"_ging",pst:"dug",prt:"dug"},dive:{prt:"_d"},do:{pst:"did",pres:"_es"},draw:{prt:"_n",pst:"drew"},dream:{prt:"_t"},drink:{prt:"drunk",pst:"drank"},drive:{g:"driving",prt:"_n",pst:"drove"},drop:{g:"_ping",pst:"_ped"},eat:{a:"_er",g:"_ing",prt:"_en",pst:"ate"},edit:{pst:"_ed",g:"_ing"},egg:{pst:"_ed"},fall:{prt:"_en",pst:"fell"},feed:{prt:"fed",pst:"fed"},feel:{a:"_er",pst:"felt"},fight:{pst:"fought",prt:"fought"},find:{pst:"found"},flee:{g:"_ing",prt:"fled"},fling:{prt:"flung"},fly:{prt:"flown",pst:"flew"},forbid:{pst:"forbade"},forget:{g:"_ing",prt:"forgotten",pst:"forgot"},forgive:{g:"forgiving",prt:"_n",pst:"forgave"},free:{a:"",g:"_ing"},freeze:{g:"freezing",prt:"frozen",pst:"froze"},get:{pst:"got",prt:"gotten"},give:{g:"giving",prt:"_n",pst:"gave"},go:{prt:"_ne",pst:"went",pres:"goes"},grow:{prt:"_n"},guide:{pst:"_d"},hang:{pst:"hung",prt:"hung"},have:{g:"having",pst:"had",prt:"had",pres:"has"},hear:{pst:"_d",prt:"_d"},hide:{prt:"hidden",pst:"hid"},hit:{prt:"_"},hold:{pst:"held",prt:"held"},hurt:{pst:"_",prt:"_"},ice:{g:"icing",pst:"_d"},imply:{pst:"implied",pres:"implies"},is:{a:"",g:"being",pst:"was",pres:"_"},keep:{prt:"kept"},kneel:{prt:"knelt"},know:{prt:"_n"},lay:{pst:"laid",prt:"laid"},lead:{pst:"led",prt:"led"},leap:{prt:"_t"},leave:{pst:"left",prt:"left"},lend:{prt:"lent"},lie:{g:"lying",pst:"lay"},light:{pst:"lit",prt:"lit"},log:{g:"_ging",pst:"_ged"},loose:{prt:"lost"},lose:{g:"losing",pst:"lost"},make:{pst:"made",prt:"made"},mean:{pst:"_t",prt:"_t"},meet:{a:"_er",g:"_ing",pst:"met",prt:"met"},miss:{pres:"_"},name:{g:"naming"},patrol:{g:"_ling",pst:"_led"},pay:{pst:"paid",prt:"paid"},prove:{prt:"_n"},puke:{g:"puking"},put:{prt:"_"},quit:{prt:"_"},read:{pst:"_",prt:"_"},ride:{prt:"ridden"},reside:{pst:"_d"},ring:{pst:"rang",prt:"rung"},rise:{fut:"will have _n",g:"rising",prt:"_n",pst:"rose",pluperf:"had _n"},rub:{g:"_bing",pst:"_bed"},run:{g:"_ning",prt:"_",pst:"ran"},say:{pst:"said",prt:"said",pres:"_s"},seat:{pst:"sat",prt:"sat"},see:{g:"_ing",prt:"_n",pst:"saw"},seek:{prt:"sought"},sell:{pst:"sold",prt:"sold"},send:{prt:"sent"},set:{prt:"_"},sew:{prt:"_n"},shake:{prt:"_n"},shave:{prt:"_d"},shed:{g:"_ding",pst:"_",pres:"_s"},shine:{pst:"shone",prt:"shone"},shoot:{pst:"shot",prt:"shot"},show:{pst:"_ed"},shut:{prt:"_"},sing:{prt:"sung",pst:"sang"},sink:{pst:"sank",pluperf:"had sunk"},sit:{pst:"sat"},ski:{pst:"_ied"},slay:{prt:"slain"},sleep:{prt:"slept"},slide:{pst:"slid",prt:"slid"},smash:{pres:"_es"},sneak:{prt:"snuck"},speak:{fut:"will have spoken",prt:"spoken",pst:"spoke",perf:"have spoken",pluperf:"had spoken"},speed:{prt:"sped"},spend:{prt:"spent"},spill:{prt:"_ed",pst:"spilt"},spin:{g:"_ning",pst:"spun",prt:"spun"},spit:{prt:"spat"},split:{prt:"_"},spread:{pst:"_"},spring:{prt:"sprung"},stand:{pst:"stood"},steal:{a:"_er",pst:"stole"},stick:{pst:"stuck"},sting:{pst:"stung"},stink:{pst:"stunk",prt:"stunk"},stream:{a:"_er"},strew:{prt:"_n"},strike:{g:"striking",pst:"struck"},suit:{a:"_er",g:"_ing",pst:"_ed"},sware:{prt:"sworn"},swear:{pst:"swore"},sweep:{prt:"swept"},swim:{g:"_ming",pst:"swam"},swing:{pst:"swung"},take:{fut:"will have _n",pst:"took",perf:"have _n",pluperf:"had _n"},teach:{pst:"taught",pres:"_es"},tear:{pst:"tore"},tell:{pst:"told"},think:{pst:"thought"},thrive:{prt:"_d"},tie:{g:"tying",pst:"_d"},undergo:{prt:"_ne"},understand:{pst:"understood"},upset:{prt:"_"},wait:{a:"_er",g:"_ing",pst:"_ed"},wake:{pst:"woke"},wear:{pst:"wore"},weave:{prt:"woven"},wed:{pst:"wed"},weep:{prt:"wept"},win:{g:"_ning",pst:"won"},wind:{prt:"wound"},withdraw:{pst:"withdrew"},wring:{prt:"wrung"},write:{g:"writing",prt:"written",pst:"wrote"}},keys=Object.keys(conjugations),_loop=function(e){var t=keys[e],n={};Object.keys(conjugations[t]).forEach((function(e){var r=conjugations[t][e];r=r.replace("_",t);var a=mapping$1[e];n[a]=r})),conjugations[t]=n},i=0;i<keys.length;i++)_loop(i);var conjugations_1=conjugations,endsWith$1={b:[{reg:/([^aeiou][aeiou])b$/i,repl:{pr:"$1bs",pa:"$1bbed",gr:"$1bbing"}}],d:[{reg:/(end)$/i,repl:{pr:"$1s",pa:"ent",gr:"$1ing",ar:"$1er"}},{reg:/(eed)$/i,repl:{pr:"$1s",pa:"$1ed",gr:"$1ing",ar:"$1er"}},{reg:/(ed)$/i,repl:{pr:"$1s",pa:"$1ded",ar:"$1der",gr:"$1ding"}},{reg:/([^aeiou][ou])d$/i,repl:{pr:"$1ds",pa:"$1dded",gr:"$1dding"}}],e:[{reg:/(eave)$/i,repl:{pr:"$1s",pa:"$1d",gr:"eaving",ar:"$1r"}},{reg:/(ide)$/i,repl:{pr:"$1s",pa:"ode",gr:"iding",ar:"ider"}},{reg:/(t|sh?)(ake)$/i,repl:{pr:"$1$2s",pa:"$1ook",gr:"$1aking",ar:"$1$2r"}},{reg:/w(ake)$/i,repl:{pr:"w$1s",pa:"woke",gr:"waking",ar:"w$1r"}},{reg:/m(ake)$/i,repl:{pr:"m$1s",pa:"made",gr:"making",ar:"m$1r"}},{reg:/(a[tg]|i[zn]|ur|nc|gl|is)e$/i,repl:{pr:"$1es",pa:"$1ed",gr:"$1ing"}},{reg:/([bd]l)e$/i,repl:{pr:"$1es",pa:"$1ed",gr:"$1ing"}},{reg:/(om)e$/i,repl:{pr:"$1es",pa:"ame",gr:"$1ing"}}],g:[{reg:/([^aeiou][ou])g$/i,repl:{pr:"$1gs",pa:"$1gged",gr:"$1gging"}}],h:[{reg:/(..)([cs]h)$/i,repl:{pr:"$1$2es",pa:"$1$2ed",gr:"$1$2ing"}}],k:[{reg:/(ink)$/i,repl:{pr:"$1s",pa:"unk",gr:"$1ing",ar:"$1er"}}],m:[{reg:/([^aeiou][aeiou])m$/i,repl:{pr:"$1ms",pa:"$1mmed",gr:"$1mming"}}],n:[{reg:/(en)$/i,repl:{pr:"$1s",pa:"$1ed",gr:"$1ing"}}],p:[{reg:/(e)(ep)$/i,repl:{pr:"$1$2s",pa:"$1pt",gr:"$1$2ing",ar:"$1$2er"}},{reg:/([^aeiou][aeiou])p$/i,repl:{pr:"$1ps",pa:"$1pped",gr:"$1pping"}},{reg:/([aeiu])p$/i,repl:{pr:"$1ps",pa:"$1p",gr:"$1pping"}}],r:[{reg:/([td]er)$/i,repl:{pr:"$1s",pa:"$1ed",gr:"$1ing"}},{reg:/(er)$/i,repl:{pr:"$1s",pa:"$1ed",gr:"$1ing"}}],s:[{reg:/(ish|tch|ess)$/i,repl:{pr:"$1es",pa:"$1ed",gr:"$1ing"}}],t:[{reg:/(ion|end|e[nc]t)$/i,repl:{pr:"$1s",pa:"$1ed",gr:"$1ing"}},{reg:/(.eat)$/i,repl:{pr:"$1s",pa:"$1ed",gr:"$1ing"}},{reg:/([aeiu])t$/i,repl:{pr:"$1ts",pa:"$1t",gr:"$1tting"}},{reg:/([^aeiou][aeiou])t$/i,repl:{pr:"$1ts",pa:"$1tted",gr:"$1tting"}}],w:[{reg:/(.llow)$/i,repl:{pr:"$1s",pa:"$1ed"}},{reg:/(..)(ow)$/i,repl:{pr:"$1$2s",pa:"$1ew",gr:"$1$2ing",prt:"$1$2n"}}],y:[{reg:/([i|f|rr])y$/i,repl:{pr:"$1ies",pa:"$1ied",gr:"$1ying"}}],z:[{reg:/([aeiou]zz)$/i,repl:{pr:"$1es",pa:"$1ed",gr:"$1ing"}}]},suffixes$1=endsWith$1,posMap={pr:"PresentTense",pa:"PastTense",gr:"Gerund",prt:"Participle",ar:"Actor"},doTransform=function(e,t){for(var n={},r=Object.keys(t.repl),a=0;a<r.length;a+=1){var i=r[a];n[posMap[i]]=e.replace(t.reg,t.repl[i])}return n},checkSuffix=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e[e.length-1];if(!0===suffixes$1.hasOwnProperty(t))for(var n=0;n<suffixes$1[t].length;n+=1){var r=suffixes$1[t][n].reg;if(!0===r.test(e))return doTransform(e,suffixes$1[t][n])}return{}},_01Suffixes=checkSuffix,hasY=/[bcdfghjklmnpqrstvwxz]y$/,generic={Gerund:function(e){return"e"===e.charAt(e.length-1)?e.replace(/e$/,"ing"):e+"ing"},PresentTense:function(e){return"s"===e.charAt(e.length-1)?e+"es":!0===hasY.test(e)?e.slice(0,-1)+"ies":e+"s"},PastTense:function(e){return"e"===e.charAt(e.length-1)?e+"d":"ed"===e.substr(-2)?e:!0===hasY.test(e)?e.slice(0,-1)+"ied":e+"ed"}},_02Generic=generic,conjugate$2=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n={};return t&&t.irregulars&&!0===t.irregulars.verbs.hasOwnProperty(e)&&(n=Object.assign({},t.irregulars.verbs[e])),void 0===(n=Object.assign({},_01Suffixes(e),n)).Gerund&&(n.Gerund=_02Generic.Gerund(e)),void 0===n.PastTense&&(n.PastTense=_02Generic.PastTense(e)),void 0===n.PresentTense&&(n.PresentTense=_02Generic.PresentTense(e)),n},conjugate_1$1=conjugate$2,do_rules$1=[/ght$/,/nge$/,/ough$/,/ain$/,/uel$/,/[au]ll$/,/ow$/,/oud$/,/...p$/],dont_rules$1=[/ary$/],irregulars$5={nice:"nicest",late:"latest",hard:"hardest",inner:"innermost",outer:"outermost",far:"furthest",worse:"worst",bad:"worst",good:"best",big:"biggest",large:"largest"},transforms$2=[{reg:/y$/i,repl:"iest"},{reg:/([aeiou])t$/i,repl:"$1ttest"},{reg:/([aeou])de$/i,repl:"$1dest"},{reg:/nge$/i,repl:"ngest"},{reg:/([aeiou])te$/i,repl:"$1test"}],to_superlative=function(e){if(irregulars$5.hasOwnProperty(e))return irregulars$5[e];for(var t=0;t<transforms$2.length;t++)if(transforms$2[t].reg.test(e))return e.replace(transforms$2[t].reg,transforms$2[t].repl);for(var n=0;n<dont_rules$1.length;n++)if(!0===dont_rules$1[n].test(e))return null;for(var r=0;r<do_rules$1.length;r++)if(!0===do_rules$1[r].test(e))return"e"===e.charAt(e.length-1)?e+"st":e+"est";return e+"est"},toSuperlative=to_superlative,do_rules=[/ght$/,/nge$/,/ough$/,/ain$/,/uel$/,/[au]ll$/,/ow$/,/old$/,/oud$/,/e[ae]p$/],dont_rules=[/ary$/,/ous$/],irregulars$4={grey:"greyer",gray:"grayer",green:"greener",yellow:"yellower",red:"redder",good:"better",well:"better",bad:"worse",sad:"sadder",big:"bigger"},transforms$1=[{reg:/y$/i,repl:"ier"},{reg:/([aeiou])t$/i,repl:"$1tter"},{reg:/([aeou])de$/i,repl:"$1der"},{reg:/nge$/i,repl:"nger"}],to_comparative=function(e){if(irregulars$4.hasOwnProperty(e))return irregulars$4[e];for(var t=0;t<transforms$1.length;t++)if(!0===transforms$1[t].reg.test(e))return e.replace(transforms$1[t].reg,transforms$1[t].repl);for(var n=0;n<dont_rules.length;n++)if(!0===dont_rules[n].test(e))return null;for(var r=0;r<do_rules.length;r++)if(!0===do_rules[r].test(e))return e+"er";return!0===/e$/.test(e)?e+"r":e+"er"},toComparative=to_comparative,fns={toSuperlative:toSuperlative,toComparative:toComparative},conjugate$1=function(e){var t={},n=fns.toSuperlative(e);n&&(t.Superlative=n);var r=fns.toComparative(e);return r&&(t.Comparative=r),t},adjectives$2=conjugate$1,suffixes={a:[[/(antenn|formul|nebul|vertebr|vit)a$/i,"$1ae"],[/([ti])a$/i,"$1a"]],e:[[/(kn|l|w)ife$/i,"$1ives"],[/(hive)$/i,"$1s"],[/([m|l])ouse$/i,"$1ice"],[/([m|l])ice$/i,"$1ice"]],f:[[/^(dwar|handkerchie|hoo|scar|whar)f$/i,"$1ves"],[/^((?:ca|e|ha|(?:our|them|your)?se|she|wo)l|lea|loa|shea|thie)f$/i,"$1ves"]],i:[[/(octop|vir)i$/i,"$1i"]],m:[[/([ti])um$/i,"$1a"]],n:[[/^(oxen)$/i,"$1"]],o:[[/(al|ad|at|er|et|ed|ad)o$/i,"$1oes"]],s:[[/(ax|test)is$/i,"$1es"],[/(alias|status)$/i,"$1es"],[/sis$/i,"ses"],[/(bu)s$/i,"$1ses"],[/(sis)$/i,"ses"],[/^(?!talis|.*hu)(.*)man$/i,"$1men"],[/(octop|vir|radi|nucle|fung|cact|stimul)us$/i,"$1i"]],x:[[/(matr|vert|ind|cort)(ix|ex)$/i,"$1ices"],[/^(ox)$/i,"$1en"]],y:[[/([^aeiouy]|qu)y$/i,"$1ies"]],z:[[/(quiz)$/i,"$1zes"]]},_rules$2=suffixes,addE=/(x|ch|sh|s|z)$/,trySuffix=function(e){var t=e[e.length-1];if(!0===_rules$2.hasOwnProperty(t))for(var n=0;n<_rules$2[t].length;n+=1){var r=_rules$2[t][n][0];if(!0===r.test(e))return e.replace(r,_rules$2[t][n][1])}return null},pluralize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.irregulars.nouns;if(n.hasOwnProperty(e))return n[e];var r=trySuffix(e);return null!==r?r:addE.test(e)?e+"es":e+"s"},toPlural=pluralize,_rules$1=[[/([^v])ies$/i,"$1y"],[/ises$/i,"isis"],[/(kn|[^o]l|w)ives$/i,"$1ife"],[/^((?:ca|e|ha|(?:our|them|your)?se|she|wo)l|lea|loa|shea|thie)ves$/i,"$1f"],[/^(dwar|handkerchie|hoo|scar|whar)ves$/i,"$1f"],[/(antenn|formul|nebul|vertebr|vit)ae$/i,"$1a"],[/(octop|vir|radi|nucle|fung|cact|stimul)(i)$/i,"$1us"],[/(buffal|tomat|tornad)(oes)$/i,"$1o"],[/(eas)es$/i,"$1e"],[/(..[aeiou]s)es$/i,"$1"],[/(vert|ind|cort)(ices)$/i,"$1ex"],[/(matr|append)(ices)$/i,"$1ix"],[/(x|ch|ss|sh|z|o)es$/i,"$1"],[/men$/i,"man"],[/(n)ews$/i,"$1ews"],[/([ti])a$/i,"$1um"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(s)eries$/i,"$1eries"],[/(m)ovies$/i,"$1ovie"],[/([m|l])ice$/i,"$1ouse"],[/(cris|ax|test)es$/i,"$1is"],[/(alias|status)es$/i,"$1"],[/(ss)$/i,"$1"],[/(ics)$/i,"$1"],[/s$/i,""]],invertObj=function(e){return Object.keys(e).reduce((function(t,n){return t[e[n]]=n,t}),{})},toSingular=function(e,t){var n=t.irregulars.nouns,r=invertObj(n);if(r.hasOwnProperty(e))return r[e];for(var a=0;a<_rules$1.length;a++)if(!0===_rules$1[a][0].test(e))return e=e.replace(_rules$1[a][0],_rules$1[a][1]);return e},toSingular_1=toSingular,rules={Participle:[{reg:/own$/i,to:"ow"},{reg:/(.)un([g|k])$/i,to:"$1in$2"}],Actor:[{reg:/(er)er$/i,to:"$1"}],PresentTense:[{reg:/(..)(ies)$/i,to:"$1y"},{reg:/(tch|sh)es$/i,to:"$1"},{reg:/(ss|zz)es$/i,to:"$1"},{reg:/([tzlshicgrvdnkmu])es$/i,to:"$1e"},{reg:/(n[dtk]|c[kt]|[eo]n|i[nl]|er|a[ytrl])s$/i,to:"$1"},{reg:/(ow)s$/i,to:"$1"},{reg:/(op)s$/i,to:"$1"},{reg:/([eirs])ts$/i,to:"$1t"},{reg:/(ll)s$/i,to:"$1"},{reg:/(el)s$/i,to:"$1"},{reg:/(ip)es$/i,to:"$1e"},{reg:/ss$/i,to:"ss"},{reg:/s$/i,to:""}],Gerund:[{reg:/(..)(p|d|t|g){2}ing$/i,to:"$1$2"},{reg:/(ll|ss|zz)ing$/i,to:"$1"},{reg:/([^aeiou])ying$/i,to:"$1y"},{reg:/([^ae]i.)ing$/i,to:"$1e"},{reg:/(ea[dklnrtv])ing$/i,to:"$1"},{reg:/(ch|sh)ing$/i,to:"$1"},{reg:/(z)ing$/i,to:"$1e"},{reg:/(a[gdkvtc])ing$/i,to:"$1e"},{reg:/(u[rtcbn])ing$/i,to:"$1e"},{reg:/([^o]o[bdknprv])ing$/i,to:"$1e"},{reg:/([tbckg]l)ing$/i,to:"$1e"},{reg:/(c|s)ing$/i,to:"$1e"},{reg:/(..)ing$/i,to:"$1"}],PastTense:[{reg:/(ued)$/i,to:"ue"},{reg:/a([^aeiouy])ed$/i,to:"a$1e"},{reg:/([aeiou]zz)ed$/i,to:"$1"},{reg:/(e|i)lled$/i,to:"$1ll"},{reg:/(.)(sh|ch)ed$/i,to:"$1$2"},{reg:/(tl|gl)ed$/i,to:"$1e"},{reg:/(um?pt?)ed$/i,to:"$1"},{reg:/(ss)ed$/i,to:"$1"},{reg:/pped$/i,to:"p"},{reg:/tted$/i,to:"t"},{reg:/(..)gged$/i,to:"$1g"},{reg:/(..)lked$/i,to:"$1lk"},{reg:/([^aeiouy][aeiou])ked$/i,to:"$1ke"},{reg:/(.[aeiou])led$/i,to:"$1l"},{reg:/(..)(h|ion|n[dt]|ai.|[cs]t|pp|all|ss|tt|int|ail|ld|en|oo.|er|k|pp|w|ou.|rt|ght|rm)ed$/i,to:"$1$2"},{reg:/(.ut)ed$/i,to:"$1e"},{reg:/(.pt)ed$/i,to:"$1"},{reg:/(us)ed$/i,to:"$1e"},{reg:/(dd)ed$/i,to:"$1"},{reg:/(..[^aeiouy])ed$/i,to:"$1e"},{reg:/(..)ied$/i,to:"$1y"},{reg:/(.o)ed$/i,to:"$1o"},{reg:/(..i)ed$/i,to:"$1"},{reg:/(.a[^aeiou])ed$/i,to:"$1"},{reg:/([aeiou][^aeiou])ed$/i,to:"$1e"},{reg:/([rl])ew$/i,to:"$1ow"},{reg:/([pl])t$/i,to:"$1t"}]},_transform=rules,guessVerb={Gerund:["ing"],Actor:["erer"],Infinitive:["ate","ize","tion","rify","then","ress","ify","age","nce","ect","ise","ine","ish","ace","ash","ure","tch","end","ack","and","ute","ade","ock","ite","ase","ose","use","ive","int","nge","lay","est","ain","ant","ent","eed","er","le","own","unk","ung","en"],PastTense:["ed","lt","nt","pt","ew","ld"],PresentTense:["rks","cks","nks","ngs","mps","tes","zes","ers","les","acks","ends","ands","ocks","lays","eads","lls","els","ils","ows","nds","ays","ams","ars","ops","ffs","als","urs","lds","ews","ips","es","ts","ns"]};guessVerb=Object.keys(guessVerb).reduce((function(e,t){return guessVerb[t].forEach((function(n){return e[n]=t})),e}),{});var _guess=guessVerb,guessTense=function(e){var t=e.substr(e.length-3);if(!0===_guess.hasOwnProperty(t))return _guess[t];var n=e.substr(e.length-2);return!0===_guess.hasOwnProperty(n)?_guess[n]:"s"===e.substr(e.length-1)?"PresentTense":null},toInfinitive$1=function(e,t,n){if(!e)return"";if(!0===t.words.hasOwnProperty(e))for(var r=t.irregulars.verbs,a=Object.keys(r),i=0;i<a.length;i++)for(var s=Object.keys(r[a[i]]),o=0;o<s.length;o++)if(e===r[a[i]][s[o]])return a[i];if((n=n||guessTense(e))&&_transform[n])for(var l=0;l<_transform[n].length;l++){var c=_transform[n][l];if(!0===c.reg.test(e))return e.replace(c.reg,c.to)}return e},toInfinitive_1$1=toInfinitive$1,irregulars$3={nouns:plurals,verbs:conjugations_1},transforms={conjugate:conjugate_1$1,adjectives:adjectives$2,toPlural:toPlural,toSingular:toSingular_1,toInfinitive:toInfinitive_1$1},_isVerbose=!1,World=function(){function e(){_classCallCheck(this,e),Object.defineProperty(this,"words",{enumerable:!1,value:{},writable:!0}),Object.defineProperty(this,"hasCompound",{enumerable:!1,value:{},writable:!0}),Object.defineProperty(this,"irregulars",{enumerable:!1,value:irregulars$3,writable:!0}),Object.defineProperty(this,"tags",{enumerable:!1,value:Object.assign({},tags),writable:!0}),Object.defineProperty(this,"transforms",{enumerable:!1,value:transforms,writable:!0}),Object.defineProperty(this,"taggers",{enumerable:!1,value:[],writable:!0}),Object.defineProperty(this,"cache",{enumerable:!1,value:{abbreviations:{}}}),this.words=unpack_1.buildOut(this),addIrregulars_1(this)}return _createClass(e,[{key:"verbose",value:function(e){return _isVerbose=e,this}},{key:"isVerbose",value:function(){return _isVerbose}},{key:"addWords",value:function(e){var t={};Object.keys(e).forEach((function(n){var r=e[n];n=n.toLowerCase().trim(),t[n]=r})),unpack_1.addWords(t,this.words,this)}},{key:"addConjugations",value:function(e){return Object.assign(this.irregulars.verbs,e),this}},{key:"addPlurals",value:function(e){return Object.assign(this.irregulars.nouns,e),this}},{key:"addTags",value:function(e){return e=Object.assign({},e),this.tags=Object.assign(this.tags,e),this.tags=inference(this.tags),this}},{key:"postProcess",value:function(e){return this.taggers.push(e),this}},{key:"stats",value:function(){return{words:Object.keys(this.words).length,plurals:Object.keys(this.irregulars.nouns).length,conjugations:Object.keys(this.irregulars.verbs).length,compounds:Object.keys(this.hasCompound).length,postProcessors:this.taggers.length}}}]),e}(),clone=function(e){return JSON.parse(JSON.stringify(e))};World.prototype.clone=function(){var e=new World;return e.words=Object.assign({},this.words),e.hasCompound=Object.assign({},this.hasCompound),e.irregulars=clone(this.irregulars),e.tags=clone(this.tags),e.transforms=this.transforms,e.taggers=this.taggers,e};var World_1=World,_01Utils=createCommonjsModule((function(e,t){t.all=function(){return this.parents()[0]||this},t.parent=function(){return this.from?this.from:this},t.parents=function(e){var t=[];return function e(n){n.from&&(t.push(n.from),e(n.from))}(this),t=t.reverse(),"number"==typeof e?t[e]:t},t.clone=function(e){var t=this.list.map((function(t){return t.clone(e)}));return this.buildFrom(t)},t.wordCount=function(){return this.list.reduce((function(e,t){return e+=t.wordCount()}),0)},t.wordcount=t.wordCount})),_02Accessors=createCommonjsModule((function(e,t){t.first=function(e){return void 0===e?this.get(0):this.slice(0,e)},t.last=function(e){if(void 0===e)return this.get(this.list.length-1);var t=this.list.length;return this.slice(t-e,t)},t.slice=function(e,t){var n=this.list.slice(e,t);return this.buildFrom(n)},t.eq=function(e){var t=this.list[e];return void 0===t?this.buildFrom([]):this.buildFrom([t])},t.get=t.eq,t.firstTerms=function(){return this.match("^.")},t.firstTerm=t.firstTerms,t.lastTerms=function(){return this.match(".$")},t.lastTerm=t.lastTerms,t.termList=function(e){for(var t=[],n=0;n<this.list.length;n++)for(var r=this.list[n].terms(),a=0;a<r.length;a++)if(t.push(r[a]),void 0!==e&&void 0!==t[e])return t[e];return t};t.groups=function(e){return void 0===e?function(e){for(var t={},n={},r=function(t){for(var r=e.list[t],a=Object.keys(r.groups).map((function(e){return r.groups[e]})),i=0;i<a.length;i++){var s=a[i],o=s.group,l=s.start,c=s.length;n[o]||(n[o]=[]),n[o].push(r.buildFrom(l,c))}},a=0;a<e.list.length;a++)r(a);for(var i=Object.keys(n),s=0;s<i.length;s++){var o=i[s];t[o]=e.buildFrom(n[o])}return t}(this):("number"==typeof e&&(e=String(e)),function(e,t){for(var n=[],r=function(r){var a=e.list[r],i=Object.keys(a.groups);(i=i.filter((function(e){return a.groups[e].group===t}))).forEach((function(e){n.push(a.buildFrom(a.groups[e].start,a.groups[e].length))}))},a=0;a<e.list.length;a++)r(a);return e.buildFrom(n)}(this,e)||this.buildFrom([]))},t.group=t.groups,t.sentences=function(e){var t=[];return this.list.forEach((function(e){t.push(e.fullSentence())})),"number"==typeof e?this.buildFrom([t[e]]):this.buildFrom(t)},t.sentence=t.sentences})),cacheRequired$1=function(e){var t=[],n=[];return e.forEach((function(e){!0!==e.optional&&!0!==e.negative&&(void 0!==e.tag&&t.push(e.tag),void 0!==e.word&&n.push(e.word))})),{tags:t,words:n}},failFast=function(e,t){if(e._cache&&!0===e._cache.set){for(var n=cacheRequired$1(t),r=n.words,a=n.tags,i=0;i<r.length;i++)if(void 0===e._cache.words[r[i]])return!1;for(var s=0;s<a.length;s++)if(void 0===e._cache.tags[a[s]])return!1}return!0},_failFast=failFast,_03Match=createCommonjsModule((function(e,t){t.match=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"!=typeof t&&"number"!=typeof t&&null!==t||(t={group:t});var n=matchSyntax(e,t);if(0===n.length)return this.buildFrom([]);if(!1===_failFast(this,n))return this.buildFrom([]);var r=this.list.reduce((function(e,t){return e.concat(t.match(n))}),[]);return void 0!==t.group&&null!==t.group&&""!==t.group?this.buildFrom(r).groups(t.group):this.buildFrom(r)},t.not=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=matchSyntax(e,t);if(0===n.length||!1===_failFast(this,n))return this;var r=this.list.reduce((function(e,t){return e.concat(t.not(n))}),[]);return this.buildFrom(r)},t.matchOne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=matchSyntax(e,t);if(!1===_failFast(this,n))return this.buildFrom([]);for(var r=0;r<this.list.length;r++){var a=this.list[r].match(n,!0);return this.buildFrom(a)}return this.buildFrom([])},t.if=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=matchSyntax(e,t);if(!1===_failFast(this,n))return this.buildFrom([]);var r=this.list.filter((function(e){return!0===e.has(n)}));return this.buildFrom(r)},t.ifNo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=matchSyntax(e,t),r=this.list.filter((function(e){return!1===e.has(n)}));return this.buildFrom(r)},t.has=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=matchSyntax(e,t);return!1!==_failFast(this,n)&&this.list.some((function(e){return!0===e.has(n)}))},t.lookAhead=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e||(e=".*");var n=matchSyntax(e,t),r=[];return this.list.forEach((function(e){r=r.concat(e.lookAhead(n))})),r=r.filter((function(e){return e})),this.buildFrom(r)},t.lookAfter=t.lookAhead,t.lookBehind=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e||(e=".*");var n=matchSyntax(e,t),r=[];return this.list.forEach((function(e){r=r.concat(e.lookBehind(n))})),r=r.filter((function(e){return e})),this.buildFrom(r)},t.lookBefore=t.lookBehind,t.before=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=matchSyntax(e,t),r=this.if(n).list,a=r.map((function(e){var t=e.terms().map((function(e){return e.id})),r=e.match(n)[0],a=t.indexOf(r.start);return 0===a||-1===a?null:e.buildFrom(e.start,a)}));return a=a.filter((function(e){return null!==e})),this.buildFrom(a)},t.after=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=matchSyntax(e,t),r=this.if(n).list,a=r.map((function(e){var t=e.terms(),r=t.map((function(e){return e.id})),a=e.match(n)[0],i=r.indexOf(a.start);if(-1===i||!t[i+a.length])return null;var s=t[i+a.length].id,o=e.length-i-a.length;return e.buildFrom(s,o)}));return a=a.filter((function(e){return null!==e})),this.buildFrom(a)},t.hasAfter=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.filter((function(n){return n.lookAfter(e,t).found}))},t.hasBefore=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.filter((function(n){return n.lookBefore(e,t).found}))}})),tagTerms=function(e,t,n,r){var a=[];"string"==typeof e&&(a=e.split(" ")),t.list.forEach((function(i){var s=i.terms();!0===n&&(s=s.filter((function(n){return n.canBe(e,t.world)}))),s.forEach((function(n,i){a.length>1?a[i]&&"."!==a[i]&&n.tag(a[i],r,t.world):n.tag(e,r,t.world)}))}))},_setTag=tagTerms,tag=function(e,t){return e?(_setTag(e,this,!1,t),this):this},tagSafe=function(e,t){return e?(_setTag(e,this,!0,t),this):this},unTag=function(e,t){var n=this;return this.list.forEach((function(r){r.terms().forEach((function(r){return r.unTag(e,t,n.world)}))})),this},canBe=function(e){if(!e)return this;var t=this.world,n=this.list.reduce((function(n,r){return n.concat(r.canBe(e,t))}),[]);return this.buildFrom(n)},_04Tag={tag:tag,tagSafe:tagSafe,unTag:unTag,canBe:canBe},map=function(e){var t=this;if(!e)return this;var n=this.list.map((function(n,r){var a=t.buildFrom([n]);a.from=null;var i=e(a,r);return i&&i.list&&i.list[0]?i.list[0]:i}));return 0===(n=n.filter((function(e){return e}))).length?this.buildFrom(n):"object"!==_typeof(n[0])||"Phrase"!==n[0].isA?n:this.buildFrom(n)},forEach=function(e,t){var n=this;return e?(this.list.forEach((function(r,a){var i=n.buildFrom([r]);!0===t&&(i.from=null),e(i,a)})),this):this},filter=function(e){var t=this;if(!e)return this;var n=this.list.filter((function(n,r){var a=t.buildFrom([n]);return a.from=null,e(a,r)}));return this.buildFrom(n)},find=function(e){var t=this;if(!e)return this;var n=this.list.find((function(n,r){var a=t.buildFrom([n]);return a.from=null,e(a,r)}));return n?this.buildFrom([n]):void 0},some=function(e){var t=this;return e?this.list.some((function(n,r){var a=t.buildFrom([n]);return a.from=null,e(a,r)})):this},random=function(e){if(!this.found)return this;var t=Math.floor(Math.random()*this.list.length);if(void 0===e){var n=[this.list[t]];return this.buildFrom(n)}return t+e>this.length&&(t=(t=this.length-e)<0?0:t),this.slice(t,t+e)},_05Loops={map:map,forEach:forEach,filter:filter,find:find,some:some,random:random},tokenize=function(e){return e.split(/[ -]/g)},buildTree=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return e.forEach((function(e,r){var a=!0;void 0!==t[r]&&(a=t[r]),e=(e=(e||"").toLowerCase()).replace(/[,;.!?]+$/,"");var i=tokenize(e).map((function(e){return e.trim()}));n[i[0]]=n[i[0]]||{},1===i.length?n[i[0]].value=a:(n[i[0]].more=n[i[0]].more||[],n[i[0]].more.push({rest:i.slice(1),value:a}))})),n},fastLookup=function(e,t,n){for(var r=buildTree(e,t),a=[],i=function(e){for(var t=n.list[e],i=t.terms().map((function(e){return e.reduced})),s=function(e){void 0!==r[i[e]]&&(void 0!==r[i[e]].more&&r[i[e]].more.forEach((function(n){void 0!==i[e+n.rest.length]&&(!0===n.rest.every((function(t,n){return t===i[e+n+1]}))&&a.push({id:t.terms()[e].id,value:n.value,length:n.rest.length+1}))})),void 0!==r[i[e]].value&&a.push({id:t.terms()[e].id,value:r[i[e]].value,length:1}))},o=0;o<i.length;o++)s(o)},s=0;s<n.list.length;s++)i(s);return a},_lookup=fastLookup,_06Lookup=createCommonjsModule((function(e,t){t.lookup=function(e){var t,n=this,r=[],a=(t=e)&&"[object Object]"===Object.prototype.toString.call(t);!0===a&&(e=Object.keys(e).map((function(t){return r.push(e[t]),t}))),"string"==typeof e&&(e=[e]),!0!==this._cache.set&&this.cache();var i=_lookup(e,r,this),s=this.list[0];if(!0===a){var o={};return i.forEach((function(e){o[e.value]=o[e.value]||[],o[e.value].push(s.buildFrom(e.id,e.length))})),Object.keys(o).forEach((function(e){o[e]=n.buildFrom(o[e])})),o}return i=i.map((function(e){return s.buildFrom(e.id,e.length)})),this.buildFrom(i)},t.lookUp=t.lookup})),cache=function(e){var t=this;e=e||{};var n={},r={};return this._cache.words=n,this._cache.tags=r,this._cache.set=!0,this.list.forEach((function(a,i){a.cache=a.cache||{},a.terms().forEach((function(a){n[a.reduced]&&!n.hasOwnProperty(a.reduced)||(n[a.reduced]=n[a.reduced]||[],n[a.reduced].push(i),Object.keys(a.tags).forEach((function(e){r[e]=r[e]||[],r[e].push(i)})),e.root&&(a.setRoot(t.world),n[a.root]=[i]))}))})),this},uncache=function(){return this._cache={},this.list.forEach((function(e){e.cache={}})),this.parents().forEach((function(e){e._cache={},e.list.forEach((function(e){e.cache={}}))})),this},_07Cache={cache:cache,uncache:uncache},titleCase$1=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},replaceWith=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?(!0===n&&(n={keepTags:!0}),!1===n&&(n={keepTags:!1}),n=n||{},this.uncache(),this.list.forEach((function(r){var a,i=e;if("function"==typeof e&&(i=e(r)),i&&"object"===_typeof(i)&&"Doc"===i.isA)a=i.list,t.pool().merge(i.pool());else{if("string"!=typeof i)return;!1!==n.keepCase&&r.terms(0).isTitleCase()&&(i=titleCase$1(i)),a=_01Tokenizer(i,t.world,t.pool());var s=t.buildFrom(a);s.tagger(),a=s.list}if(!0===n.keepTags){var o=r.json({terms:{tags:!0}}).terms;a[0].terms().forEach((function(e,n){o[n]&&e.tagSafe(o[n].tags,"keptTag",t.world)}))}r.replace(a[0],t)})),this):this.delete()},replace=function(e,t,n){return void 0===t?this.replaceWith(e,n):(this.match(e).replaceWith(t,n),this)},_01Replace={replaceWith:replaceWith,replace:replace},_02Insert=createCommonjsModule((function(e,t){var n=function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},r=function(e,t){var n=_01Tokenizer(e,t.world)[0],r=t.buildFrom([n]);return r.tagger(),t.list=r.list,t};t.append=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t?this.found?(this.uncache(),this.list.forEach((function(r){var a;n(t)&&"Doc"===t.isA?a=t.list[0].clone():"string"==typeof t&&(a=_01Tokenizer(t,e.world,e.pool())[0]),e.buildFrom([a]).tagger(),r.append(a,e)})),this):r(t,this):this},t.insertAfter=t.append,t.insertAt=t.append,t.prepend=function(e){var t=this;return e?this.found?(this.uncache(),this.list.forEach((function(r){var a;n(e)&&"Doc"===e.isA?a=e.list[0].clone():"string"==typeof e&&(a=_01Tokenizer(e,t.world,t.pool())[0]),t.buildFrom([a]).tagger(),r.prepend(a,t)})),this):r(e,this):this},t.insertBefore=t.prepend,t.concat=function(){this.uncache();for(var e=this.list.slice(0),t=0;t<arguments.length;t++){var n=arguments[t];if("string"==typeof n){var r=_01Tokenizer(n,this.world);e=e.concat(r)}else"Doc"===n.isA?e=e.concat(n.list):"Phrase"===n.isA&&e.push(n)}return this.buildFrom(e)},t.delete=function(e){var t=this;this.uncache();var n=this;return e&&(n=this.match(e)),n.list.forEach((function(e){return e.delete(t)})),this},t.remove=t.delete})),shouldTrim={clean:!0,reduced:!0,root:!0},text=function(e){var t=this;e=e||{};var n=!1;0===this.parents().length&&(n=!0),("root"===e||"object"===_typeof(e)&&e.root)&&this.list.forEach((function(e){e.terms().forEach((function(e){null===e.root&&e.setRoot(t.world)}))}));var r=this.list.reduce((function(r,a,i){var s=!n&&0===i,o=!n&&i===t.list.length-1;return r+a.text(e,s,o)}),"");return!0!==shouldTrim[e]&&!0!==e.reduced&&!0!==e.clean&&!0!==e.root||(r=r.trim()),r},_01Text={text:text},termOffsets=function(e){var t=0,n=0,r={};return e.termList().forEach((function(e){r[e.id]={index:n,start:t+e.pre.length,length:e.text.length},t+=e.pre.length+e.text.length+e.post.length,n+=1})),r},calcOffset=function(e,t,n){var r=termOffsets(e.all());(n.terms.index||n.index)&&t.forEach((function(e){e.terms.forEach((function(e){e.index=r[e.id].index})),e.index=e.terms[0].index})),(n.terms.offset||n.offset)&&t.forEach((function(e){e.terms.forEach((function(e){e.offset=r[e.id]||{}})),e.offset={index:e.terms[0].offset.index,start:e.terms[0].offset.start-e.text.indexOf(e.terms[0].text),length:e.text.length}}))},_offset=calcOffset,_02Json=createCommonjsModule((function(e,t){var n={text:!0,terms:!0,trim:!0},r=function(e){return(e=Object.assign({},n,e)).unique&&(e.reduced=!0),e.offset&&(e.text=!0,e.terms&&!0!==e.terms||(e.terms={}),e.terms.offset=!0),(e.index||e.terms.index)&&(e.terms=!0===e.terms?{}:e.terms,e.terms.id=!0),e};t.json=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("number"==typeof t&&this.list[t])return this.list[t].json(n);!0===(t=r(t)).root&&this.list.forEach((function(t){t.terms().forEach((function(t){null===t.root&&t.setRoot(e.world)}))}));var a=this.list.map((function(n){return n.json(t,e.world)}));if((t.terms.offset||t.offset||t.terms.index||t.index)&&_offset(this,a,t),t.frequency||t.freq||t.count){var i={};this.list.forEach((function(e){var t=e.text("reduced");i[t]=i[t]||0,i[t]+=1})),this.list.forEach((function(e,t){a[t].count=i[e.text("reduced")]}))}if(t.unique){var s={};a=a.filter((function(e){return!0!==s[e.reduced]&&(s[e.reduced]=!0,!0)}))}return a},t.data=t.json})),_debug=createCommonjsModule((function(e){var t="[0m",n=function(e,t){for(e=e.toString();e.length<t;)e+=" ";return e};var r={green:"#7f9c6c",red:"#914045",blue:"#6699cc",magenta:"#6D5685",cyan:"#2D85A8",yellow:"#e6d7b3",black:"#303b50"},a={green:function(e){return"[32m"+e+t},red:function(e){return"[31m"+e+t},blue:function(e){return"[34m"+e+t},magenta:function(e){return"[35m"+e+t},cyan:function(e){return"[36m"+e+t},yellow:function(e){return"[33m"+e+t},black:function(e){return"[30m"+e+t}};e.exports=function(e){return"undefined"!=typeof window&&window.document?(function(e){var t=e.world.tags;e.list.forEach((function(e){console.log('\n%c"'+e.text()+'"',"color: #e6d7b3;"),e.terms().forEach((function(e){var a=Object.keys(e.tags),i=e.text||"-";e.implicit&&(i="["+e.implicit+"]");var s="'"+i+"'";s=n(s,8);var o=a.find((function(e){return t[e]&&t[e].color})),l="steelblue";t[o]&&(l=t[o].color,l=r[l]),console.log("   ".concat(s,"  -  %c").concat(a.join(", ")),"color: ".concat(l||"steelblue",";"))}))}))}(e),e):(console.log(a.blue("=====")),e.list.forEach((function(t){console.log(a.blue("  -----")),t.terms().forEach((function(t){var r=Object.keys(t.tags),i=t.text||"-";t.implicit&&(i="["+t.implicit+"]");var s="'"+(i=a.yellow(i))+"'";s=n(s,18);var o=a.blue("  ｜ ")+s+"  - "+function(e,t){return(e=e.map((function(e){if(!t.tags.hasOwnProperty(e))return e;var n=t.tags[e].color||"blue";return a[n](e)}))).join(", ")}(r,e.world);console.log(o)}))})),console.log(""),e)}})),topk=function(e){var t=e.json({text:!1,terms:!1,reduced:!0}),n={};t.forEach((function(e){n[e.reduced]||(e.count=0,n[e.reduced]=e),n[e.reduced].count+=1}));var r=Object.keys(n).map((function(e){return n[e]}));return r.sort((function(e,t){return e.count>t.count?-1:e.count<t.count?1:0})),r},_topk=topk,debug_1=function(){return _debug(this),this},out=function(e){if("text"===e)return this.text();if("normal"===e)return this.text("normal");if("json"===e)return this.json();if("offset"===e||"offsets"===e)return this.json({offset:!0});if("array"===e)return this.json({terms:!1}).map((function(e){return e.text})).filter((function(e){return e}));if("freq"===e||"frequency"===e)return _topk(this);if("terms"===e){var t=[];return this.json({text:!1,terms:{text:!0}}).forEach((function(e){var n=e.terms.map((function(e){return e.text}));n=n.filter((function(e){return e})),t=t.concat(n)})),t}return"tags"===e?this.list.map((function(e){return e.terms().reduce((function(e,t){return e[t.clean||t.implicit]=Object.keys(t.tags),e}),{})})):"debug"===e?(_debug(this),this):this.text()},_03Out={debug:debug_1,out:out},methods$6={alpha:function(e,t){var n=e.text("clean"),r=t.text("clean");return n<r?-1:n>r?1:0},length:function(e,t){var n=e.text().trim().length,r=t.text().trim().length;return n<r?1:n>r?-1:0},wordCount:function(e,t){var n=e.wordCount(),r=t.wordCount();return n<r?1:n>r?-1:0}},byFreq=function(e){var t={},n={case:!0,punctuation:!1,whitespace:!0,unicode:!0};return e.list.forEach((function(e){var r=e.text(n);t[r]=t[r]||0,t[r]+=1})),e.list.sort((function(e,r){var a=t[e.text(n)],i=t[r.text(n)];return a<i?1:a>i?-1:0})),e},sortSequential=function(e){var t={};return e.json({terms:{offset:!0}}).forEach((function(e){t[e.terms[0].id]=e.terms[0].offset.start})),e.list=e.list.sort((function(e,n){return t[e.start]>t[n.start]?1:t[e.start]<t[n.start]?-1:0})),e};methods$6.alphabetical=methods$6.alpha,methods$6.wordcount=methods$6.wordCount;var seqNames={index:!0,sequence:!0,seq:!0,sequential:!0,chron:!0,chronological:!0},sort=function(e){return"freq"===(e=e||"alpha")||"frequency"===e||"topk"===e?byFreq(this):seqNames.hasOwnProperty(e)?sortSequential(this):"function"==typeof(e=methods$6[e]||e)?(this.list=this.list.sort(e),this):this},reverse=function(){var e=[].concat(this.list);return e=e.reverse(),this.buildFrom(e)},unique$1=function(){var e=[].concat(this.list),t={};return e=e.filter((function(e){var n=e.text("reduced").trim()||e.text("implicit").trim();return!0!==t.hasOwnProperty(n)&&(t[n]=!0,!0)})),this.buildFrom(e)},_01Sort={sort:sort,reverse:reverse,unique:unique$1},isPunct=/[\[\]{}⟨⟩:,،、‒–—―…‹›«»‐\-;\/⁄·*\•^†‡°¡¿※№÷×ºª%‰=‱¶§~|‖¦©℗®℠™¤₳฿]/g,quotes=/['‘’“”"′″‴]+/g,methods$5={whitespace:function(e){var t=e.list.map((function(e){return e.terms()}));t.forEach((function(e,n){e.forEach((function(r,a){!0!==r.hasDash()?(r.pre=r.pre.replace(/\s/g,""),r.post=r.post.replace(/\s/g,""),(e.length-1!==a||t[n+1])&&(r.implicit&&!0===Boolean(r.text)||!0!==r.hasHyphen()&&(r.post+=" "))):r.post=" - "}))}))},punctuation:function(e){e.forEach((function(e){!0===e.hasHyphen()&&(e.post=" "),e.pre=e.pre.replace(isPunct,""),e.post=e.post.replace(isPunct,""),e.post=e.post.replace(/\.\.\./,""),!0===/!/.test(e.post)&&(e.post=e.post.replace(/!/g,""),e.post="!"+e.post),!0===/\?/.test(e.post)&&(e.post=e.post.replace(/[\?!]*/,""),e.post="?"+e.post)}))},unicode:function(e){e.forEach((function(e){!0!==e.isImplicit()&&(e.text=unicode_1(e.text))}))},quotations:function(e){e.forEach((function(e){e.post=e.post.replace(quotes,""),e.pre=e.pre.replace(quotes,"")}))},adverbs:function(e){e.match("#Adverb").not("(not|nary|seldom|never|barely|almost|basically|so)").remove()},abbreviations:function(e){e.list.forEach((function(e){var t=e.terms();t.forEach((function(e,n){!0===e.tags.Abbreviation&&t[n+1]&&(e.post=e.post.replace(/^\./,""))}))}))}},_methods=methods$5,defaults$1={whitespace:!0,unicode:!0,punctuation:!0,emoji:!0,acronyms:!0,abbreviations:!0,case:!1,contractions:!1,parentheses:!1,quotations:!1,adverbs:!1,possessives:!1,verbs:!1,nouns:!1,honorifics:!1},mapping={light:{},medium:{case:!0,contractions:!0,parentheses:!0,quotations:!0,adverbs:!0}};mapping.heavy=Object.assign({},mapping.medium,{possessives:!0,verbs:!0,nouns:!0,honorifics:!0});var normalize=function(e){"string"==typeof(e=e||{})&&(e=mapping[e]||{}),e=Object.assign({},defaults$1,e),this.uncache();var t=this.termList();return e.case&&this.toLowerCase(),e.whitespace&&_methods.whitespace(this),e.unicode&&_methods.unicode(t),e.punctuation&&_methods.punctuation(t),e.emoji&&this.remove("(#Emoji|#Emoticon)"),e.acronyms&&this.acronyms().strip(),e.abbreviations&&_methods.abbreviations(this),(e.contraction||e.contractions)&&this.contractions().expand(),e.parentheses&&this.parentheses().unwrap(),(e.quotations||e.quotes)&&_methods.quotations(t),e.adverbs&&_methods.adverbs(this),(e.possessive||e.possessives)&&this.possessives().strip(),e.verbs&&this.verbs().toInfinitive(),(e.nouns||e.plurals)&&this.nouns().toSingular(),e.honorifics&&this.remove("#Honorific"),this},_02Normalize={normalize:normalize},_03Split=createCommonjsModule((function(e,t){t.splitOn=function(e){if(!e)return this.parent().splitOn(this);var t=matchSyntax(e),n=[];return this.list.forEach((function(e){var r=e.match(t);if(0!==r.length){var a=e;r.forEach((function(e){var t=a.splitOn(e);t.before&&n.push(t.before),t.match&&n.push(t.match),a=t.after})),a&&n.push(a)}else n.push(e)})),this.buildFrom(n)},t.splitAfter=function(e){if(!e)return this.parent().splitAfter(this);var t=matchSyntax(e),n=[];return this.list.forEach((function(e){var r=e.match(t);if(0!==r.length){var a=e;r.forEach((function(e){var t=a.splitOn(e);t.before&&t.match?(t.before.length+=t.match.length,n.push(t.before)):t.match&&n.push(t.match),a=t.after})),a&&n.push(a)}else n.push(e)})),this.buildFrom(n)},t.split=t.splitAfter,t.splitBefore=function(e){if(!e)return this.parent().splitBefore(this);var t=matchSyntax(e),n=[];return this.list.forEach((function(e){var r=e.match(t);if(0!==r.length){var a=e;r.forEach((function(e){var t=a.splitOn(e);t.before&&n.push(t.before),t.match&&t.after&&(t.match.length+=t.after.length),a=t.match})),a&&n.push(a)}else n.push(e)})),this.buildFrom(n)},t.segment=function(e,t){e=e||{},t=t||{text:!0};var n=this,r=Object.keys(e);return r.forEach((function(e){n=n.splitOn(e)})),n.list.forEach((function(t){for(var n=0;n<r.length;n+=1)if(t.has(r[n]))return void(t.segment=e[r[n]])})),n.list.map((function(e){var n=e.json(t);return n.segment=e.segment||null,n}))}})),eachTerm=function(e,t){var n=e.world;return e.list.forEach((function(e){e.terms().forEach((function(e){return e[t](n)}))})),e},toLowerCase=function(){return eachTerm(this,"toLowerCase")},toUpperCase=function(){return eachTerm(this,"toUpperCase")},toTitleCase=function(){return eachTerm(this,"toTitleCase")},toCamelCase=function(){return this.list.forEach((function(e){var t=e.terms();t.forEach((function(e,n){0!==n&&e.toTitleCase(),n!==t.length-1&&(e.post="")}))})),this},_04Case={toLowerCase:toLowerCase,toUpperCase:toUpperCase,toTitleCase:toTitleCase,toCamelCase:toCamelCase},_05Whitespace=createCommonjsModule((function(e,t){t.pre=function(e,t){return void 0===e?this.list[0].terms(0).pre:(this.list.forEach((function(n){var r=n.terms(0);!0===t?r.pre+=e:r.pre=e})),this)},t.post=function(e,t){return void 0===e?this.list.map((function(e){var t=e.terms();return t[t.length-1].post})):(this.list.forEach((function(n){var r=n.terms(),a=r[r.length-1];!0===t?a.post+=e:a.post=e})),this)},t.trim=function(){return this.list=this.list.map((function(e){return e.trim()})),this},t.hyphenate=function(){return this.list.forEach((function(e){var t=e.terms();t.forEach((function(e,n){0!==n&&(e.pre=""),t[n+1]&&(e.post="-")}))})),this},t.dehyphenate=function(){var e=/(-|–|—)/;return this.list.forEach((function(t){t.terms().forEach((function(t){e.test(t.post)&&(t.post=" ")}))})),this},t.deHyphenate=t.dehyphenate,t.toQuotations=function(e,t){return e=e||'"',t=t||'"',this.list.forEach((function(n){var r=n.terms();r[0].pre=e+r[0].pre;var a=r[r.length-1];a.post=t+a.post})),this},t.toQuotation=t.toQuotations,t.toParentheses=function(e,t){return e=e||"(",t=t||")",this.list.forEach((function(n){var r=n.terms();r[0].pre=e+r[0].pre;var a=r[r.length-1];a.post=t+a.post})),this}})),join=function(e){this.uncache();for(var t=this.list[0],n=t.length,r={},a=1;a<this.list.length;a++){var i=this.list[a];r[i.start]=!0;var s=t.lastTerm();e&&(s.post+=e),s.next=i.start,i.terms(0).prev=s.id,t.length+=i.length,t.cache={}}var o=t.length-n;return this.parents().forEach((function(e){e.list.forEach((function(e){for(var n=e.terms(),r=0;r<n.length;r++)if(n[r].id===t.start){e.length+=o;break}e.cache={}})),e.list=e.list.filter((function(e){return!0!==r[e.start]}))})),this.buildFrom([t])},_06Join={join:join},postPunct=/[,\)"';:\-–—\.…]/,setContraction=function(e,t){if(e.found){for(var n=e.termList(),r=0;r<n.length-1;r++){var a=n[r];if(postPunct.test(a.post))return}n.forEach((function(e){e.implicit=e.clean})),n[0].text+=t,n.slice(1).forEach((function(e){e.text=""}));for(var i=0;i<n.length-1;i++){var s=n[i];s.post=s.post.replace(/ /,"")}}},contract=function(){var e=this.not("@hasContraction"),t=e.match("(we|they|you) are");return setContraction(t,"'re"),t=e.match("(he|she|they|it|we|you) will"),setContraction(t,"'ll"),t=e.match("(he|she|they|it|we) is"),setContraction(t,"'s"),t=e.match("#Person is"),setContraction(t,"'s"),t=e.match("#Person would"),setContraction(t,"'d"),t=e.match("(is|was|had|would|should|could|do|does|have|has|can) not"),setContraction(t,"n't"),t=e.match("(i|we|they) have"),setContraction(t,"'ve"),t=e.match("(would|should|could) have"),setContraction(t,"'ve"),t=e.match("i am"),setContraction(t,"'m"),t=e.match("going to"),this},_07Contract={contract:contract},methods$4=Object.assign({},_01Utils,_02Accessors,_03Match,_04Tag,_05Loops,_06Lookup,_07Cache,_01Replace,_02Insert,_01Text,_02Json,_03Out,_01Sort,_02Normalize,_03Split,_04Case,_05Whitespace,_06Join,_07Contract),methods$3={},arr=[["terms","."],["hyphenated","@hasHyphen ."],["adjectives","#Adjective"],["hashTags","#HashTag"],["emails","#Email"],["emoji","#Emoji"],["emoticons","#Emoticon"],["atMentions","#AtMention"],["urls","#Url"],["adverbs","#Adverb"],["pronouns","#Pronoun"],["conjunctions","#Conjunction"],["prepositions","#Preposition"]];arr.forEach((function(e){methods$3[e[0]]=function(t){var n=this.match(e[1]);return"number"==typeof t&&(n=n.get(t)),n}})),methods$3.emojis=methods$3.emoji,methods$3.atmentions=methods$3.atMentions,methods$3.words=methods$3.terms,methods$3.phoneNumbers=function(e){var t=this.splitAfter("@hasComma");return t=t.match("#PhoneNumber+"),"number"==typeof e&&(t=t.get(e)),t},methods$3.money=function(e){var t=this.match("#Money #Currency?");return"number"==typeof e&&(t=t.get(e)),t},methods$3.places=function(e){var t=this.match("(#City && @hasComma) (#Region|#Country)"),n=this.not(t).splitAfter("@hasComma");return(n=n.concat(t)).sort("index"),n=n.match("#Place+"),"number"==typeof e&&(n=n.get(e)),n},methods$3.organizations=function(e){var t=this.clauses();return t=t.match("#Organization+"),"number"==typeof e&&(t=t.get(e)),t},methods$3.entities=function(e){var t=this.clauses(),n=t.people();return(n=(n=(n=n.concat(t.places())).concat(t.organizations())).not(["someone","man","woman","mother","brother","sister","father"])).sort("sequence"),"number"==typeof e&&(n=n.get(e)),n},methods$3.things=methods$3.entities,methods$3.topics=methods$3.entities;var _simple=methods$3,underOver=/^(under|over)-?/,tryMultiple=function(e,t,n){var r=n.words,a=e[t].reduced+" "+e[t+1].reduced;return void 0!==r[a]&&!0===r.hasOwnProperty(a)?(e[t].tag(r[a],"lexicon-two",n),e[t+1].tag(r[a],"lexicon-two",n),1):t+2<e.length&&void 0!==r[a+=" "+e[t+2].reduced]&&!0===r.hasOwnProperty(a)?(e[t].tag(r[a],"lexicon-three",n),e[t+1].tag(r[a],"lexicon-three",n),e[t+2].tag(r[a],"lexicon-three",n),2):t+3<e.length&&void 0!==r[a+=" "+e[t+3].reduced]&&!0===r.hasOwnProperty(a)?(e[t].tag(r[a],"lexicon-four",n),e[t+1].tag(r[a],"lexicon-four",n),e[t+2].tag(r[a],"lexicon-four",n),e[t+3].tag(r[a],"lexicon-four",n),3):0},checkLexicon=function(e,t){for(var n=t.words,r=t.hasCompound,a=0;a<e.length;a+=1){var i=e[a].clean;if(!0===r[i]&&a+1<e.length){var s=tryMultiple(e,a,t);if(s>0){a+=s;continue}}if(void 0===n[i]||!0!==n.hasOwnProperty(i))if(i===e[a].reduced||!0!==n.hasOwnProperty(e[a].reduced)){if(!0===underOver.test(i)){var o=i.replace(underOver,"");!0===n.hasOwnProperty(o)&&e[a].tag(n[o],"noprefix-lexicon",t)}}else e[a].tag(n[e[a].reduced],"lexicon",t);else e[a].tag(n[i],"lexicon",t)}return e},_01Lexicon=checkLexicon,apostrophes=/[\'‘’‛‵′`´]$/,perSec=/^(m|k|cm|km|m)\/(s|h|hr)$/,checkPunctuation=function(e,t,n){var r=e[t];if(apostrophes.test(r.text)&&!apostrophes.test(r.pre)&&!apostrophes.test(r.post)&&r.clean.length>2){var a=r.clean[r.clean.length-2];if("s"===a)return void r.tag(["Possessive","Noun"],"end-tick",n);"n"===a&&r.tag(["Gerund"],"chillin",n)}perSec.test(r.text)&&r.tag("Unit","per-sec",n)},_02Punctuation=checkPunctuation,startsWith=[[/^[\w\.]+@[\w\.]+\.[a-z]{2,3}$/,"Email"],[/^#[a-z0-9_\u00C0-\u00FF]{2,}$/,"HashTag"],[/^@1?[0-9](am|pm)$/i,"Time"],[/^@1?[0-9]:[0-9]{2}(am|pm)?$/i,"Time"],[/^@\w{2,}$/,"AtMention"],[/^(https?:\/\/|www\.)\w+\.[a-z]{2,3}/,"Url"],[/^[\w./]+\.(com|net|gov|org|ly|edu|info|biz|ru|jp|de|in|uk|br)/,"Url"],[/^'[0-9]{2}$/,"Year"],[/^[012]?[0-9](:[0-5][0-9])(:[0-5][0-9])$/,"Time"],[/^[012]?[0-9](:[0-5][0-9])?(:[0-5][0-9])? ?(am|pm)$/i,"Time"],[/^[012]?[0-9](:[0-5][0-9])(:[0-5][0-9])? ?(am|pm)?$/i,"Time"],[/^[PMCE]ST$/,"Time"],[/^utc ?[+-]?[0-9]+?$/,"Time"],[/^[a-z0-9]*? o\'?clock$/,"Time"],[/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}/i,"Date"],[/^[0-9]{1,4}-[0-9]{1,2}-[0-9]{1,4}$/,"Date"],[/^[0-9]{1,4}\/[0-9]{1,2}\/[0-9]{1,4}$/,"Date"],[/^[0-9]{1,4}-[a-z]{2,9}-[0-9]{1,4}$/i,"Date"],[/^ma?c\'.*/,"LastName"],[/^o\'[drlkn].*/,"LastName"],[/^ma?cd[aeiou]/,"LastName"],[/^(lol)+[sz]$/,"Expression"],[/^woo+a*?h?$/,"Expression"],[/^(un|de|re)\\-[a-z\u00C0-\u00FF]{2}/,"Verb"],[/^[0-9]{1,4}\.[0-9]{1,2}\.[0-9]{1,4}$/,"Date"],[/^[0-9]{3}-[0-9]{4}$/,"PhoneNumber"],[/^(\+?[0-9][ -])?[0-9]{3}[ -]?[0-9]{3}-[0-9]{4}$/,"PhoneNumber"],[/^[-+]?[\$\xA2-\xA5\u058F\u060B\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0-\u20BD\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6][-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?(k|m|b|bn)?\+?$/,["Money","Value"]],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?[\$\xA2-\xA5\u058F\u060B\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0-\u20BD\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6]\+?$/,["Money","Value"]],[/^[-+]?[\$£]?[0-9]([0-9,.])+?(usd|eur|jpy|gbp|cad|aud|chf|cny|hkd|nzd|kr|rub)$/i,["Money","Value"]],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?\+?$/,["Cardinal","NumericValue"]],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?(st|nd|rd|r?th)$/,["Ordinal","NumericValue"]],[/^\.[0-9]+\+?$/,["Cardinal","NumericValue"]],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?%\+?$/,["Percent","Cardinal","NumericValue"]],[/^\.[0-9]+%$/,["Percent","Cardinal","NumericValue"]],[/^[0-9]{1,4}\/[0-9]{1,4}(st|nd|rd|th)?s?$/,["Fraction","NumericValue"]],[/^[0-9.]{1,2}[-–][0-9]{1,2}$/,["Value","NumberRange"]],[/^[0-9.]{1,3}(st|nd|rd|th)?[-–][0-9\.]{1,3}(st|nd|rd|th)?$/,"NumberRange"],[/^[0-9.]+([a-z]{1,4})$/,"Value"]],romanNumeral=/^[IVXLCDM]{2,}$/,romanNumValid=/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/,checkRegex$1=function(e,t){for(var n=e.text,r=0;r<startsWith.length;r+=1)if(!0===startsWith[r][0].test(n)){e.tagSafe(startsWith[r][1],"prefix #"+r,t);break}e.text.length>=2&&romanNumeral.test(n)&&romanNumValid.test(n)&&e.tag("RomanNumeral","xvii",t)},_03Prefixes=checkRegex$1,Adj$1="Adjective",Inf$1="Infinitive",Pres$1="PresentTense",Sing$1="Singular",Past$1="PastTense",Adverb="Adverb",Exp="Expression",Actor$1="Actor",Verb="Verb",Noun$1="Noun",Last$1="LastName",endsWith={a:[[/.[aeiou]na$/,Noun$1],[/.[oau][wvl]ska$/,Last$1],[/.[^aeiou]ica$/,Sing$1],[/^([hyj]a)+$/,Exp]],c:[[/.[^aeiou]ic$/,Adj$1]],d:[[/[aeiou](pp|ll|ss|ff|gg|tt|rr|bb|nn|mm)ed$/,Past$1],[/.[aeo]{2}[bdgmnprvz]ed$/,Past$1],[/.[aeiou][sg]hed$/,Past$1],[/.[aeiou]red$/,Past$1],[/.[aeiou]r?ried$/,Past$1],[/.[bcdgtr]led$/,Past$1],[/.[aoui]f?led$/,Past$1],[/.[iao]sed$/,Past$1],[/[aeiou]n?[cs]ed$/,Past$1],[/[aeiou][rl]?[mnf]ed$/,Past$1],[/[aeiou][ns]?c?ked$/,Past$1],[/[aeiou][nl]?ged$/,Past$1],[/.[tdbwxz]ed$/,Past$1],[/[^aeiou][aeiou][tvx]ed$/,Past$1],[/.[cdlmnprstv]ied$/,Past$1],[/[^aeiou]ard$/,Sing$1],[/[aeiou][^aeiou]id$/,Adj$1],[/.[vrl]id$/,Adj$1]],e:[[/.[lnr]ize$/,Inf$1],[/.[^aeiou]ise$/,Inf$1],[/.[aeiou]te$/,Inf$1],[/.[^aeiou][ai]ble$/,Adj$1],[/.[^aeiou]eable$/,Adj$1],[/.[ts]ive$/,Adj$1]],h:[[/.[^aeiouf]ish$/,Adj$1],[/.v[iy]ch$/,Last$1],[/^ug?h+$/,Exp],[/^uh[ -]?oh$/,Exp]],i:[[/.[oau][wvl]ski$/,Last$1]],k:[[/^(k){2}$/,Exp]],l:[[/.[gl]ial$/,Adj$1],[/.[^aeiou]ful$/,Adj$1],[/.[nrtumcd]al$/,Adj$1],[/.[^aeiou][ei]al$/,Adj$1]],m:[[/.[^aeiou]ium$/,Sing$1],[/[^aeiou]ism$/,Sing$1],[/^h*u*m+$/,Exp],[/^\d+ ?[ap]m$/,"Date"]],n:[[/.[lsrnpb]ian$/,Adj$1],[/[^aeiou]ician$/,Actor$1],[/[aeiou][ktrp]in$/,"Gerund"]],o:[[/^no+$/,Exp],[/^(yo)+$/,Exp],[/^woo+[pt]?$/,Exp]],r:[[/.[bdfklmst]ler$/,"Noun"],[/[aeiou][pns]er$/,Sing$1],[/[^i]fer$/,Inf$1],[/.[^aeiou][ao]pher$/,Actor$1],[/.[lk]er$/,"Noun"],[/.ier$/,"Comparative"]],t:[[/.[di]est$/,"Superlative"],[/.[icldtgrv]ent$/,Adj$1],[/[aeiou].*ist$/,Adj$1],[/^[a-z]et$/,Verb]],s:[[/.[^aeiou]ises$/,Pres$1],[/.[rln]ates$/,Pres$1],[/.[^z]ens$/,Verb],[/.[lstrn]us$/,Sing$1],[/.[aeiou]sks$/,Pres$1],[/.[aeiou]kes$/,Pres$1],[/[aeiou][^aeiou]is$/,Sing$1],[/[a-z]\'s$/,Noun$1],[/^yes+$/,Exp]],v:[[/.[^aeiou][ai][kln]ov$/,Last$1]],y:[[/.[cts]hy$/,Adj$1],[/.[st]ty$/,Adj$1],[/.[gk]y$/,Adj$1],[/.[tnl]ary$/,Adj$1],[/.[oe]ry$/,Sing$1],[/[rdntkbhs]ly$/,Adverb],[/...lly$/,Adverb],[/[bszmp]{2}y$/,Adj$1],[/.(gg|bb|zz)ly$/,Adj$1],[/.[ai]my$/,Adj$1],[/[ea]{2}zy$/,Adj$1],[/.[^aeiou]ity$/,Sing$1]]},Adj="Adjective",Inf="Infinitive",Pres="PresentTense",Sing="Singular",Past="PastTense",Avb="Adverb",Plrl="Plural",Actor="Actor",Vb="Verb",Noun="Noun",Last="LastName",Modal="Modal",Place="Place",suffixMap=[null,null,{ea:Sing,ia:Noun,ic:Adj,ly:Avb,"'n":Vb,"'t":Vb},{oed:Past,ued:Past,xed:Past," so":Avb,"'ll":Modal,"'re":"Copula",azy:Adj,eer:Noun,end:Vb,ped:Past,ffy:Adj,ify:Inf,ing:"Gerund",ize:Inf,lar:Adj,mum:Adj,nes:Pres,nny:Adj,oid:Adj,ous:Adj,que:Adj,rol:Sing,sis:Sing,zes:Pres},{amed:Past,aped:Past,ched:Past,lked:Past,nded:Past,cted:Past,dged:Past,akis:Last,cede:Inf,chuk:Last,czyk:Last,ects:Pres,ends:Vb,enko:Last,ette:Sing,fies:Pres,fore:Avb,gate:Inf,gone:Adj,ices:Plrl,ints:Plrl,ines:Plrl,ions:Plrl,less:Avb,llen:Adj,made:Adj,nsen:Last,oses:Pres,ould:Modal,some:Adj,sson:Last,tage:Inf,teen:"Value",tion:Sing,tive:Adj,tors:Noun,vice:Sing},{tized:Past,urned:Past,eased:Past,ances:Plrl,bound:Adj,ettes:Plrl,fully:Avb,ishes:Pres,ities:Plrl,marek:Last,nssen:Last,ology:Noun,ports:Plrl,rough:Adj,tches:Pres,tieth:"Ordinal",tures:Plrl,wards:Avb,where:Avb},{auskas:Last,keeper:Actor,logist:Actor,teenth:"Value"},{opoulos:Last,borough:Place,sdottir:Last}],endRegexs=function(e,t){var n=e.clean,r=n[n.length-1];if(!0===endsWith.hasOwnProperty(r))for(var a=endsWith[r],i=0;i<a.length;i+=1)if(!0===a[i][0].test(n)){e.tagSafe(a[i][1],"endReg ".concat(r," #").concat(i),t);break}},knownSuffixes=function(e,t){var n=e.clean.length,r=7;n<=r&&(r=n-1);for(var a=r;a>1;a-=1){var i=e.clean.substr(n-a,n);if(!0===suffixMap[i.length].hasOwnProperty(i)){var s=suffixMap[i.length][i];e.tagSafe(s,"suffix -"+i,t);break}}},checkRegex=function(e,t){knownSuffixes(e,t),endRegexs(e,t)},_04Suffixes=checkRegex,emoticons={":(":!0,":)":!0,":P":!0,":p":!0,":O":!0,":3":!0,":|":!0,":/":!0,":\\":!0,":$":!0,":*":!0,":@":!0,":-(":!0,":-)":!0,":-P":!0,":-p":!0,":-O":!0,":-3":!0,":-|":!0,":-/":!0,":-\\":!0,":-$":!0,":-*":!0,":-@":!0,":^(":!0,":^)":!0,":^P":!0,":^p":!0,":^O":!0,":^3":!0,":^|":!0,":^/":!0,":^\\":!0,":^$":!0,":^*":!0,":^@":!0,"):":!0,"(:":!0,"$:":!0,"*:":!0,")-:":!0,"(-:":!0,"$-:":!0,"*-:":!0,")^:":!0,"(^:":!0,"$^:":!0,"*^:":!0,"<3":!0,"</3":!0,"<\\3":!0},emojiReg=/^(\u00a9|\u00ae|[\u2319-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,isCommaEmoji=function(e){return":"===e.charAt(0)&&(null!==e.match(/:.?$/)&&(!e.match(" ")&&!(e.length>35)))},isEmoticon=function(e){return e=e.replace(/^[:;]/,":"),emoticons.hasOwnProperty(e)},tagEmoji=function(e,t){var n=e.pre+e.text+e.post;n=(n=n.trim()).replace(/[.!?,]$/,""),!0===isCommaEmoji(n)&&(e.tag("Emoji","comma-emoji",t),e.text=n,e.pre=e.pre.replace(":",""),e.post=e.post.replace(":","")),e.text.match(emojiReg)&&(e.tag("Emoji","unicode-emoji",t),e.text=n),!0===isEmoticon(n)&&(e.tag("Emoticon","emoticon-emoji",t),e.text=n)},_05Emoji=tagEmoji,steps={lexicon:_01Lexicon,punctuation:_02Punctuation,regex:_03Prefixes,suffix:_04Suffixes,emoji:_05Emoji},lookups=function(e,t){var n=e.world;steps.lexicon(t,n);for(var r=0;r<t.length;r+=1){var a=t[r];steps.punctuation(t,r,n),steps.regex(a,n),steps.suffix(a,n),steps.emoji(a,n)}return e},_01Init=lookups,afterThisWord={i:"Verb",first:"Noun",it:"Verb",there:"Verb",not:"Verb",because:"Noun",if:"Noun",but:"Noun",who:"Verb",this:"Noun",his:"Noun",when:"Noun",you:"Verb",very:"Adjective",old:"Noun",never:"Verb",before:"Noun"},beforeThisWord={there:"Verb",me:"Verb",man:"Adjective",only:"Verb",him:"Verb",were:"Noun",took:"Noun",himself:"Verb",went:"Noun",who:"Noun",jr:"Person"},afterThisPOS={Adjective:"Noun",Possessive:"Noun",Determiner:"Noun",Adverb:"Verb",Pronoun:"Verb",Value:"Noun",Ordinal:"Noun",Modal:"Verb",Superlative:"Noun",Demonym:"Noun",Honorific:"Person"},beforeThisPOS={Copula:"Noun",PastTense:"Noun",Conjunction:"Noun",Modal:"Noun",Pluperfect:"Noun",PerfectTense:"Verb"},markov={beforeThisWord:beforeThisWord,afterThisWord:afterThisWord,beforeThisPos:beforeThisPOS,afterThisPos:afterThisPOS},afterKeys=Object.keys(markov.afterThisPos),beforeKeys=Object.keys(markov.beforeThisPos),checkNeighbours=function(e,t){for(var n=function(n){var r=e[n];if(!0===r.isKnown())return"continue";var a=e[n-1];if(a){if(!0===markov.afterThisWord.hasOwnProperty(a.clean)){var i=markov.afterThisWord[a.clean];return r.tag(i,"after-"+a.clean,t),"continue"}var s=afterKeys.find((function(e){return a.tags[e]}));if(void 0!==s){var o=markov.afterThisPos[s];return r.tag(o,"after-"+s,t),"continue"}}var l=e[n+1];if(l){if(!0===markov.beforeThisWord.hasOwnProperty(l.clean)){var c=markov.beforeThisWord[l.clean];return r.tag(c,"before-"+l.clean,t),"continue"}var u=beforeKeys.find((function(e){return l.tags[e]}));if(void 0!==u){var h=markov.beforeThisPos[u];return r.tag(h,"before-"+u,t),"continue"}}},r=0;r<e.length;r+=1)n(r)},_01Neighbours=checkNeighbours,titleCase=/^[A-Z][a-z'\u00C0-\u00FF]/,hasNumber=/[0-9]/,checkCase=function(e){var t=e.world;e.list.forEach((function(e){for(var n=e.terms(),r=1;r<n.length;r++){var a=n[r];!0===titleCase.test(a.text)&&!1===hasNumber.test(a.text)&&void 0===a.tags.Date&&a.tag("ProperNoun","titlecase-noun",t)}}))},_02Case=checkCase,hasPrefix=/^(re|un)-?[a-z\u00C0-\u00FF]/,prefix=/^(re|un)-?/,checkPrefix=function(e,t){var n=t.words;e.forEach((function(e){if(!0!==e.isKnown()&&!0===hasPrefix.test(e.clean)){var r=e.clean.replace(prefix,"");r&&r.length>3&&void 0!==n[r]&&!0===n.hasOwnProperty(r)&&e.tag(n[r],"stem-"+r,t)}}))},_03Stem=checkPrefix,isPlural$3=[/(^v)ies$/i,/ises$/i,/ives$/i,/(antenn|formul|nebul|vertebr|vit)ae$/i,/(octop|vir|radi|nucle|fung|cact|stimul)i$/i,/(buffal|tomat|tornad)oes$/i,/(analy|ba|diagno|parenthe|progno|synop|the)ses$/i,/(vert|ind|cort)ices$/i,/(matr|append)ices$/i,/(x|ch|ss|sh|s|z|o)es$/i,/is$/i,/men$/i,/news$/i,/.tia$/i,/(^f)ves$/i,/(lr)ves$/i,/(^aeiouy|qu)ies$/i,/(m|l)ice$/i,/(cris|ax|test)es$/i,/(alias|status)es$/i,/ics$/i],isSingular$1=[/(ax|test)is$/i,/(octop|vir|radi|nucle|fung|cact|stimul)us$/i,/(octop|vir)i$/i,/(rl)f$/i,/(alias|status)$/i,/(bu)s$/i,/(al|ad|at|er|et|ed|ad)o$/i,/(ti)um$/i,/(ti)a$/i,/sis$/i,/(?:(^f)fe|(lr)f)$/i,/hive$/i,/s[aeiou]+ns$/i,/(^aeiouy|qu)y$/i,/(x|ch|ss|sh|z)$/i,/(matr|vert|ind|cort)(ix|ex)$/i,/(m|l)ouse$/i,/(m|l)ice$/i,/(antenn|formul|nebul|vertebr|vit)a$/i,/.sis$/i,/^(?!talis|.*hu)(.*)man$/i],isPlural_1$2={isSingular:isSingular$1,isPlural:isPlural$3},noPlurals=["Uncountable","Pronoun","Place","Value","Person","Month","WeekDay","Holiday"],notPlural=[/ss$/,/sis$/,/[^aeiou][uo]s$/,/'s$/],notSingular=[/i$/,/ae$/],checkPlural=function(e,t){if(e.tags.Noun&&!e.tags.Acronym){var n=e.clean;if(e.tags.Singular||e.tags.Plural)return;if(n.length<=3)return void e.tag("Singular","short-singular",t);if(noPlurals.find((function(t){return e.tags[t]})))return;if(isPlural_1$2.isPlural.find((function(e){return e.test(n)})))return void e.tag("Plural","plural-rules",t);if(isPlural_1$2.isSingular.find((function(e){return e.test(n)})))return void e.tag("Singular","singular-rules",t);if(!0===/s$/.test(n)){if(notPlural.find((function(e){return e.test(n)})))return;return void e.tag("Plural","plural-fallback",t)}if(notSingular.find((function(e){return e.test(n)})))return;e.tag("Singular","singular-fallback",t)}},_04Plurals=checkPlural,orgWords=["academy","administration","agence","agences","agencies","agency","airlines","airways","army","assoc","associates","association","assurance","authority","autorite","aviation","bank","banque","board","boys","brands","brewery","brotherhood","brothers","building society","bureau","cafe","caisse","capital","care","cathedral","center","central bank","centre","chemicals","choir","chronicle","church","circus","clinic","clinique","club","co","coalition","coffee","collective","college","commission","committee","communications","community","company","comprehensive","computers","confederation","conference","conseil","consulting","containers","corporation","corps","corp","council","crew","daily news","data","departement","department","department store","departments","design","development","directorate","division","drilling","education","eglise","electric","electricity","energy","ensemble","enterprise","enterprises","entertainment","estate","etat","evening news","faculty","federation","financial","fm","foundation","fund","gas","gazette","girls","government","group","guild","health authority","herald","holdings","hospital","hotel","hotels","inc","industries","institut","institute","institute of technology","institutes","insurance","international","interstate","investment","investments","investors","journal","laboratory","labs","liberation army","limited","local authority","local health authority","machines","magazine","management","marine","marketing","markets","media","memorial","mercantile exchange","ministere","ministry","military","mobile","motor","motors","musee","museum","news","news service","observatory","office","oil","optical","orchestra","organization","partners","partnership","people's party","petrol","petroleum","pharmacare","pharmaceutical","pharmaceuticals","pizza","plc","police","polytechnic","post","power","press","productions","quartet","radio","regional authority","regional health authority","reserve","resources","restaurant","restaurants","savings","school","securities","service","services","social club","societe","society","sons","standard","state police","state university","stock exchange","subcommittee","syndicat","systems","telecommunications","telegraph","television","times","tribunal","tv","union","university","utilities","workers"],organizations=orgWords.reduce((function(e,t){return e[t]="Noun",e}),{}),maybeOrg=function(e){return!!e.tags.Noun&&(!(e.tags.Pronoun||e.tags.Comma||e.tags.Possessive)&&!!(e.tags.Organization||e.tags.Acronym||e.tags.Place||e.titleCase()))},tagOrgs=function(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(void 0!==organizations[r.clean]&&!0===organizations.hasOwnProperty(r.clean)){var a=e[n-1];if(void 0!==a&&!0===maybeOrg(a)){a.tagSafe("Organization","org-word-1",t),r.tagSafe("Organization","org-word-2",t);continue}var i=e[n+1];if(void 0!==i&&"of"===i.clean&&e[n+2]&&maybeOrg(e[n+2])){r.tagSafe("Organization","org-of-word-1",t),i.tagSafe("Organization","org-of-word-2",t),e[n+2].tagSafe("Organization","org-of-word-3",t);continue}}}},_05Organizations=tagOrgs,oneLetterAcronym=/^[A-Z]('s|,)?$/,periodSeperated=/([A-Z]\.){2}[A-Z]?/i,oneLetterWord={I:!0,A:!0},isAcronym=function(e,t){var n=e.reduced;return!!e.tags.Acronym||!t.words[n]&&(!(n.length>5)&&e.isAcronym())},checkAcronym=function(e,t){e.forEach((function(e){!0!==e.tags.RomanNumeral&&(!0===periodSeperated.test(e.text)&&e.tag("Acronym","period-acronym",t),e.isUpperCase()&&isAcronym(e,t)?(e.tag("Acronym","acronym-step",t),e.tag("Noun","acronym-infer",t)):!oneLetterWord.hasOwnProperty(e.text)&&oneLetterAcronym.test(e.text)&&(e.tag("Acronym","one-letter-acronym",t),e.tag("Noun","one-letter-infer",t)),e.tags.Organization&&e.text.length<=3&&e.tag("Acronym","acronym-org",t),e.tags.Organization&&e.isUpperCase()&&e.text.length<=6&&e.tag("Acronym","acronym-org-case",t))}))},_06Acronyms=checkAcronym,step={neighbours:_01Neighbours,case:_02Case,stem:_03Stem,plural:_04Plurals,organizations:_05Organizations,acronyms:_06Acronyms},fallbacks=function(e,t){var n=e.world;return step.neighbours(t,n),step.case(e),step.stem(t,n),t.forEach((function(t){!1===t.isKnown()&&t.tag("Noun","noun-fallback",e.world)})),step.organizations(t,n),step.acronyms(t,n),t.forEach((function(t){step.plural(t,e.world)})),e},_02Fallbacks=fallbacks,hasNegative=/n't$/,irregulars$2={"won't":["will","not"],wont:["will","not"],"can't":["can","not"],cant:["can","not"],cannot:["can","not"],"shan't":["should","not"],dont:["do","not"],dun:["do","not"]},doAint=function(e,t){var n=t.terms(),r=n.indexOf(e),a=n.slice(0,r).find((function(e){return e.tags.Noun}));return a&&a.tags.Plural?["are","not"]:["is","not"]},checkNegative=function(e,t){return!0===irregulars$2.hasOwnProperty(e.clean)?irregulars$2[e.clean]:"ain't"===e.clean||"aint"===e.clean?doAint(e,t):!0===hasNegative.test(e.clean)?[e.clean.replace(hasNegative,""),"not"]:null},_01Negative=checkNegative,contraction$1=/([a-z\u00C0-\u00FF]+)[\u0027\u0060\u00B4\u2018\u2019\u201A\u201B\u2032\u2035\u2039\u203A]([a-z]{1,2})$/i,easy={ll:"will",ve:"have",re:"are",m:"am","n't":"not"},checkApostrophe=function(e){var t=e.text.match(contraction$1);return null===t?null:easy.hasOwnProperty(t[2])?[t[1],easy[t[2]]]:null},_02Simple=checkApostrophe,irregulars$1={wanna:["want","to"],gonna:["going","to"],im:["i","am"],alot:["a","lot"],ive:["i","have"],imma:["I","will"],"where'd":["where","did"],whered:["where","did"],"when'd":["when","did"],whend:["when","did"],howd:["how","did"],whatd:["what","did"],dunno:["do","not","know"],brb:["be","right","back"],gtg:["got","to","go"],irl:["in","real","life"],tbh:["to","be","honest"],imo:["in","my","opinion"],til:["today","i","learned"],rn:["right","now"],twas:["it","was"],"@":["at"]},checkIrregulars=function(e){return irregulars$1.hasOwnProperty(e.clean)?irregulars$1[e.clean]:null},_03Irregulars=checkIrregulars,hasApostropheS=/([a-z\u00C0-\u00FF]+)[\u0027\u0060\u00B4\u2018\u2019\u201A\u201B\u2032\u2035\u2039\u203A]s$/i,banList={that:!0,there:!0},hereThere={here:!0,there:!0,everywhere:!0},isPossessive=function(e,t){if(e.tags.Possessive)return!0;if(e.tags.Pronoun||e.tags.QuestionWord)return!1;if(banList.hasOwnProperty(e.reduced))return!1;var n=t.get(e.next);if(!n)return!0;if(n.tags.Verb)return!!n.tags.Infinitive||!!n.tags.PresentTense;if(n.tags.Noun)return!0!==hereThere.hasOwnProperty(n.reduced);var r=t.get(n.next);return!(!r||!r.tags.Noun||r.tags.Pronoun)||(n.tags.Adjective||n.tags.Adverb||n.tags.Verb,!1)},isHas=function(e,t){var n=t.terms(),r=n.indexOf(e);return n.slice(r+1,r+3).find((function(e){return e.tags.PastTense}))},checkPossessive=function(e,t,n){var r=e.text.match(hasApostropheS);if(null!==r){if(!0===isPossessive(e,t.pool))return e.tag("#Possessive","isPossessive",n),null;if(null!==r)return isHas(e,t)?[r[1],"has"]:[r[1],"is"]}return null},_04Possessive=checkPossessive,hasPerfect=/[a-z\u00C0-\u00FF]'d$/,useDid={how:!0,what:!0},checkPerfect=function(e,t){if(hasPerfect.test(e.clean)){for(var n=e.clean.replace(/'d$/,""),r=t.terms(),a=r.indexOf(e),i=r.slice(a+1,a+4),s=0;s<i.length;s++){var o=i[s];if(o.tags.Verb)return o.tags.PastTense?[n,"had"]:!0===useDid[n]?[n,"did"]:[n,"would"]}return[n,"would"]}return null},_05PerfectTense=checkPerfect,isRange=/^([0-9]{1,3}(?:st|nd|rd|th)?)[-–—]([0-9]{1,3}(?:st|nd|rd|th)?)$/i,checkRange=function(e){if(!0===e.tags.PhoneNumber)return null;var t=e.text.match(isRange);return null!==t?[t[1],"to",t[2]]:null},_06Ranges=checkRange,contraction=/^(l|c|d|j|m|n|qu|s|t)[\u0027\u0060\u00B4\u2018\u2019\u201A\u201B\u2032\u2035\u2039\u203A]([a-z\u00C0-\u00FF]+)$/i,french={l:"le",c:"ce",d:"de",j:"je",m:"me",n:"ne",qu:"que",s:"se",t:"tu"},checkFrench=function(e){var t=e.text.match(contraction);if(null===t||!1===french.hasOwnProperty(t[1]))return null;var n=[french[t[1]],t[2]];return n[0]&&n[1]?n:null},_07French=checkFrench,isNumber=/^[0-9]+$/,isOrdinal=/^[0-9]+(st|nd|rd|th)$/,createPhrase=function(e,t){var n=_01Tokenizer(e.join(" "),t.world,t.pool())[0],r=n.terms();return _01Lexicon(r,t.world),r.forEach((function(e){e.implicit=e.text,e.text="",e.clean="",e.pre="",e.post="",isNumber.test(e.implicit)?e.tag("Cardinal","num-range",t.world):isOrdinal.test(e.implicit)?e.tag("Ordinal","ord-range",t.world):0===Object.keys(e.tags).length&&(e.tags.Noun=!0)})),n},contractions=function(e){var t=e.world;return e.list.forEach((function(n){for(var r=n.terms(),a=0;a<r.length;a+=1){var i=r[a],s=_01Negative(i,n);if(null!==(s=(s=(s=(s=(s=(s=s||_02Simple(i))||_03Irregulars(i))||_04Possessive(i,n,t))||_05PerfectTense(i,n))||_06Ranges(i))||_07French(i))){var o=createPhrase(s,e);!0===n.has("#NumberRange")&&e.buildFrom([o]).tag("NumberRange"),o.terms(0).text=i.text,n.buildFrom(i.id,1,e.pool()).replace(o,e,!0)}}})),e},_03Contractions=contractions,hasWord=function(e,t){var n=e._cache.words[t]||[];return n=n.map((function(t){return e.list[t]})),e.buildFrom(n)},hasTag=function(e,t){var n=e._cache.tags[t]||[];return n=n.map((function(t){return e.list[t]})),e.buildFrom(n)},miscCorrection=function(e){var t=hasTag(e,"Infinitive");return t.found&&((t=(t=t.ifNo("@hasQuestionMark")).ifNo("(i|we|they)")).match("[#Infinitive] (#Determiner|#Possessive) #Noun",0).tag("Imperative","shut-the"),t.match("^[#Infinitive] #Adverb?$",0).tag("Imperative","go-fast"),t.match("[(do && #Infinitive)] not? #Verb",0).tag("Imperative","do-not"),t.match("[#Infinitive] (it|some)",0).tag("Imperative","do-it")),(t=hasWord(e,"like")).match("#Adverb like").notIf("(really|generally|typically|usually|sometimes|often|just) [like]").tag("Adverb","adverb-like"),(t=hasTag(e,"Adjective")).match("#Determiner #Adjective$").notIf("(#Comparative|#Superlative)").terms(1).tag("Noun","the-adj-1"),(t=hasTag(e,"FirstName")).match("#FirstName (#Noun|@titleCase)").ifNo("^#Possessive").ifNo("(#Pronoun|#Plural)").ifNo("@hasComma .").lastTerm().tag("#LastName","firstname-noun"),(t=(t=hasTag(e,"Value")).match("#Value #PresentTense").ifNo("#Copula")).found&&(!0===t.has("(one|1)")?t.terms(1).tag("Singular","one-presentTense"):t.terms(1).tag("Plural","value-presentTense")),e.match("^(well|so|okay)").tag("Expression","well-"),e.match("#Value [of a second]",0).unTag("Value","of-a-second"),e.match("#Value [seconds]",0).unTag("Value","30-seconds").tag(["Unit","Plural"]),(t=hasTag(e,"Gerund")).match("(be|been) (#Adverb|not)+? #Gerund").not("#Verb$").tag("Auxiliary","be-walking"),e.match("(try|use|attempt|build|make) #Verb").ifNo("(@hasComma|#Negative|#PhrasalVerb|#Copula|will|be)").lastTerm().tag("#Noun","do-verb"),(t=(t=hasTag(e,"Possessive")).match("#Possessive [#Infinitive]",0)).lookBehind("(let|made|make|force|ask)").found||t.tag("Noun","her-match"),e},fixMisc=miscCorrection,unique=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return Object.keys(t)},_unique=unique,list$5=[{match:"too much",tag:"Adverb Adjective",reason:"bit-4"},{match:"u r",tag:"Pronoun Copula",reason:"u r"},{match:"#Copula (pretty|dead|full|well|sure) (#Adjective|#Noun)",tag:"#Copula #Adverb #Adjective",reason:"sometimes-adverb"},{match:"(#Pronoun|#Person) (had|#Adverb)? [better] #PresentTense",group:0,tag:"Modal",reason:"i-better"},{match:"[#Gerund] #Adverb? not? #Copula",group:0,tag:"Activity",reason:"gerund-copula"},{match:"[#Gerund] #Modal",group:0,tag:"Activity",reason:"gerund-modal"},{match:"holy (shit|fuck|hell)",tag:"Expression",reason:"swears-expression"},{match:"#Noun #Actor",tag:"Actor",reason:"thing-doer"},{match:"#Conjunction [u]",group:0,tag:"Pronoun",reason:"u-pronoun-2"},{match:"[u] #Verb",group:0,tag:"Pronoun",reason:"u-pronoun-1"},{match:"#Noun [(who|whom)]",group:0,tag:"Determiner",reason:"captain-who"},{match:"a bit much",tag:"Determiner Adverb Adjective",reason:"bit-3"},{match:"#Verb #Adverb? #Noun [(that|which)]",group:0,tag:"Preposition",reason:"that-prep"},{match:"@hasComma [which] (#Pronoun|#Verb)",group:0,tag:"Preposition",reason:"which-copula"},{match:"#Copula just [like]",group:0,tag:"Preposition",reason:"like-preposition"},{match:"#Noun [like] #Noun",group:0,tag:"Preposition",reason:"noun-like"},{match:"[had] #Noun+ #PastTense",group:0,tag:"Condition",reason:"had-he"},{match:"[were] #Noun+ to #Infinitive",group:0,tag:"Condition",reason:"were-he"},{match:"^how",tag:"QuestionWord",reason:"how-question"},{match:"[how] (#Determiner|#Copula|#Modal|#PastTense)",group:0,tag:"QuestionWord",reason:"how-is"},{match:"^which",tag:"QuestionWord",reason:"which-question"},{match:"[so] #Noun",group:0,tag:"Conjunction",reason:"so-conj"},{match:"[(who|what|where|why|how|when)] #Noun #Copula #Adverb? (#Verb|#Adjective)",group:0,tag:"Conjunction",reason:"how-he-is-x"}],_01Misc=list$5,_ambig={adverbAdjective:["dark","bright","flat","light","soft","pale","dead","dim","faux","little","wee","sheer","most","near","good","extra","all"],personDate:["april","june","may","jan","august","eve"],personMonth:["january","april","may","june","jan","sep"],personAdjective:["misty","rusty","dusty","rich","randy","young"],personVerb:["pat","wade","ollie","will","rob","buck","bob","mark","jack"],personPlace:["darwin","hamilton","paris","alexandria","houston","kobe","santiago","salvador","sydney","victoria"],personNoun:["art","baker","berg","bill","brown","charity","chin","christian","cliff","daisy","dawn","dick","dolly","faith","franco","gene","green","hall","hill","holly","hope","jean","jewel","joy","kelvin","king","kitty","lane","lily","melody","mercedes","miles","olive","penny","ray","reed","robin","rod","rose","sky","summer","trinity","van","viola","violet","wang","white"]},dates="(".concat(_ambig.personDate.join("|"),")"),list$4=[{match:"#Holiday (day|eve)",tag:"Holiday",reason:"holiday-day"},{match:"[sun] the #Ordinal",tag:"WeekDay",reason:"sun-the-5th"},{match:"[sun] #Date",group:0,tag:"WeekDay",reason:"sun-feb"},{match:"#Date (on|this|next|last|during)? [sun]",group:0,tag:"WeekDay",reason:"1pm-sun"},{match:"(in|by|before|during|on|until|after|of|within|all) [sat]",group:0,tag:"WeekDay",reason:"sat"},{match:"(in|by|before|during|on|until|after|of|within|all) [wed]",group:0,tag:"WeekDay",reason:"wed"},{match:"(in|by|before|during|on|until|after|of|within|all) [march]",group:0,tag:"Month",reason:"march"},{match:"[sat] #Date",group:0,tag:"WeekDay",reason:"sat-feb"},{match:"#Preposition [(march|may)]",group:0,tag:"Month",reason:"in-month"},{match:"this [(march|may)]",group:0,tag:"Month",reason:"this-month"},{match:"next [(march|may)]",group:0,tag:"Month",reason:"this-month"},{match:"last [(march|may)]",group:0,tag:"Month",reason:"this-month"},{match:"[(march|may)] the? #Value",group:0,tag:"Month",reason:"march-5th"},{match:"#Value of? [(march|may)]",group:0,tag:"Month",reason:"5th-of-march"},{match:"[(march|may)] .? #Date",group:0,tag:"Month",reason:"march-and-feb"},{match:"#Date .? [(march|may)]",group:0,tag:"Month",reason:"feb-and-march"},{match:"#Adverb [(march|may)]",group:0,tag:"Verb",reason:"quickly-march"},{match:"[(march|may)] #Adverb",group:0,tag:"Verb",reason:"march-quickly"},{match:"#Value of #Month",tag:"Date",reason:"value-of-month"},{match:"#Cardinal #Month",tag:"Date",reason:"cardinal-month"},{match:"#Month #Value to #Value",tag:"Date",reason:"value-to-value"},{match:"#Month the #Value",tag:"Date",reason:"month-the-value"},{match:"(#WeekDay|#Month) #Value",tag:"Date",reason:"date-value"},{match:"#Value (#WeekDay|#Month)",tag:"Date",reason:"value-date"},{match:"(#TextValue && #Date) #TextValue",tag:"Date",reason:"textvalue-date"},{match:"in [".concat(dates,"]"),group:0,tag:"Date",reason:"in-june"},{match:"during [".concat(dates,"]"),group:0,tag:"Date",reason:"in-june"},{match:"on [".concat(dates,"]"),group:0,tag:"Date",reason:"in-june"},{match:"by [".concat(dates,"]"),group:0,tag:"Date",reason:"by-june"},{match:"after [".concat(dates,"]"),group:0,tag:"Date",reason:"after-june"},{match:"#Date [".concat(dates,"]"),group:0,tag:"Date",reason:"in-june"},{match:"".concat(dates," #Value"),tag:"Date",reason:"june-5th"},{match:"".concat(dates," #Date"),tag:"Date",reason:"june-5th"},{match:"".concat(dates," #ProperNoun"),tag:"Person",reason:"june-smith",safe:!0},{match:"".concat(dates," #Acronym? (#ProperNoun && !#Month)"),tag:"Person",reason:"june-smith-jr"},{match:"#Cardinal [second]",tag:"Unit",reason:"one-second"},{match:"#Month #NumberRange",tag:"Date",reason:"aug 20-21"}],_02Dates=list$4,adjectives$1="(".concat(_ambig.personAdjective.join("|"),")"),list$3=[{match:"[all] #Determiner? #Noun",group:0,tag:"Adjective",reason:"all-noun"},{match:"#Adverb [".concat(adjectives$1,"]"),group:0,tag:"Adjective",reason:"really-rich"},{match:"".concat(adjectives$1," #Person"),tag:"Person",reason:"randy-smith"},{match:"".concat(adjectives$1," #Acronym? #ProperNoun"),tag:"Person",reason:"rusty-smith"},{match:"#Copula [(just|alone)]$",group:0,tag:"Adjective",reason:"not-adverb"},{match:"#Singular is #Adverb? [#PastTense$]",group:0,tag:"Adjective",reason:"is-filled"},{match:"[#PastTense] #Singular is",group:0,tag:"Adjective",reason:"smoked-poutine"},{match:"[#PastTense] #Plural are",group:0,tag:"Adjective",reason:"baked-onions"},{match:"well [#PastTense]",group:0,tag:"Adjective",reason:"well-made"},{match:"#Copula [fucked up?]",tag:"Adjective",reason:"swears-adjective"},{match:"#Singular (seems|appears) #Adverb? [#PastTense$]",group:0,tag:"Adjective",reason:"seems-filled"},{match:"(a|an) [#Gerund]",group:0,tag:"Adjective",reason:"a|an"},{match:"as [#Gerund] as",group:0,tag:"Adjective",reason:"as-gerund-as"},{match:"more [#Gerund] than",group:0,tag:"Adjective",reason:"more-gerund-than"},{match:"(so|very|extremely) [#Gerund]",group:0,tag:"Adjective",reason:"so-gerund"},{match:"(it|he|she|everything|something) #Adverb? was #Adverb? [#Gerund]",group:0,tag:"Adjective",reason:"it-was-gerund"},{match:"(found|found) it #Adverb? [#Gerund]",group:0,tag:"Adjective",reason:"found-it-gerund"},{match:"a (little|bit|wee) bit? [#Gerund]",group:0,tag:"Adjective",reason:"a-bit-gerund"},{match:"#Copula #Adjective? [(out|in|through)]$",group:0,tag:"Adjective",reason:"still-out"},{match:"^[#Adjective] (the|your) #Noun",group:0,tag:"Infinitive",reason:"shut-the"}],_03Adjective=list$3,_04Noun=[{match:"there (are|were) #Adjective? [#PresentTense]",group:0,tag:"Plural",reason:"there-are"},{match:"#Determiner [sun]",group:0,tag:"Singular",reason:"the-sun"},{match:"#Verb (a|an) [#Value]",group:0,tag:"Singular",reason:"did-a-value"},{match:"the [(can|will|may)]",group:0,tag:"Singular",reason:"the can"},{match:"#FirstName #Acronym? (#Possessive && #LastName)",tag:"Possessive",reason:"name-poss"},{match:"#Organization+ #Possessive",tag:"Possessive",reason:"org-possessive"},{match:"#Place+ #Possessive",tag:"Possessive",reason:"place-possessive"},{match:"(#Verb && !#Modal) (all|every|each|most|some|no) [#PresentTense]",group:0,tag:"Noun",reason:"all-presentTense"},{match:"#Determiner [#Adjective] #Copula",group:0,tag:"Noun",reason:"the-adj-is"},{match:"#Adjective [#Adjective] #Copula",group:0,tag:"Noun",reason:"adj-adj-is"},{match:"(had|have|#PastTense) #Adjective [#PresentTense]",group:0,tag:"Noun",reason:"adj-presentTense"},{match:"^#Adjective [#PresentTense]",group:0,tag:"Noun",reason:"start adj-presentTense"},{match:"#Value #Adjective [#PresentTense]",group:0,tag:"Noun",reason:"one-big-reason"},{match:"#PastTense #Adjective+ [#PresentTense]",group:0,tag:"Noun",reason:"won-wide-support"},{match:"(many|few|several|couple) [#PresentTense]",group:0,tag:"Noun",reason:"many-poses"},{match:"#Adverb #Adjective [#PresentTense]",group:0,tag:"Noun",reason:"very-big-dream"},{match:"#Adjective [#Infinitive] #Noun",group:0,tag:"Noun",reason:"good-wait-staff"},{match:"#Adjective #Adjective [#PresentTense]",group:0,tag:"Noun",reason:"adorable-little-store"},{match:"#Preposition #Adjective [#PresentTense]",group:0,tag:"Noun",reason:"of-basic-training"},{match:"#Adjective [#Gerund]",group:0,tag:"Noun",reason:"early-warning"},{match:"#Gerund #Adverb? #Comparative [#PresentTense]",group:0,tag:"Noun",reason:"higher-costs"},{match:"#Infinitive (this|that|the) [#Infinitive]",group:0,tag:"Noun",reason:"do-this-dance"},{match:"(his|her|its) [#Adjective]",group:0,tag:"Noun",reason:"his-fine"},{match:"some [#Verb] #Plural",group:0,tag:"Noun",reason:"determiner6"},{match:"more #Noun",tag:"Noun",reason:"more-noun"},{match:"(#Noun && @hasComma) #Noun (and|or) [#PresentTense]",group:0,tag:"Noun",reason:"noun-list"},{match:"(right|rights) of .",tag:"Noun",reason:"right-of"},{match:"a [bit]",group:0,tag:"Noun",reason:"bit-2"},{match:"#Possessive #Ordinal [#PastTense]",group:0,tag:"Noun",reason:"first-thought"},{match:"#Gerund #Determiner [#Infinitive]",group:0,tag:"Noun",reason:"running-a-show"},{match:"#Determiner #Adverb [#Infinitive]",group:0,tag:"Noun",reason:"the-reason"},{match:"(the|this|those|these) #Adjective [#Verb]",group:0,tag:"Noun",reason:"the-adj-verb"},{match:"(the|this|those|these) #Adverb #Adjective [#Verb]",group:0,tag:"Noun",reason:"determiner4"},{match:"#Determiner [#Adjective] (#Copula|#PastTense|#Auxiliary)",group:0,tag:"Noun",reason:"the-adj-2"},{match:"(the|this|a|an) [#Infinitive] #Adverb? #Verb",group:0,tag:"Noun",reason:"determiner5"},{match:"#Determiner [#Infinitive] #Noun",group:0,tag:"Noun",reason:"determiner7"},{match:"#Determiner #Adjective #Adjective? [#Infinitive]",group:0,tag:"Noun",reason:"a-nice-inf"},{match:"the [#Verb] #Preposition .",group:0,tag:"Noun",reason:"determiner1"},{match:"#Determiner [#Verb] of",group:0,tag:"Noun",reason:"the-verb-of"},{match:"#Adjective #Noun+ [#Infinitive] #Copula",group:0,tag:"Noun",reason:"career-move"},{match:"#Determiner #Noun of [#Verb]",group:0,tag:"Noun",reason:"noun-of-noun"},{match:"#Determiner [(western|eastern|northern|southern|central)] #Noun",group:0,tag:"Noun",reason:"western-line"},{match:"#Possessive [#Gerund]",group:0,tag:"Noun",reason:"her-polling"},{match:"(his|her|its) [#PresentTense]",group:0,tag:"Noun",reason:"its-polling"},{match:"(#Determiner|#Value) [(linear|binary|mobile|lexical|technical|computer|scientific|formal)] #Noun",group:0,tag:"Noun",reason:"technical-noun"},{match:"(the|those|these|a|an) [#Participle] #Noun",group:0,tag:"Adjective",reason:"blown-motor"},{match:"(the|those|these|a|an) #Adjective? [#Infinitive]",group:0,tag:"Noun",reason:"det-inf"},{match:"(the|those|these|a|an) #Adjective? [#PresentTense]",group:0,tag:"Noun",reason:"det-pres"},{match:"(the|those|these|a|an) #Adjective? [#PastTense]",group:0,tag:"Noun",reason:"det-past"},{match:"(this|that) [#Gerund]",group:0,tag:"Noun",reason:"this-gerund"},{match:"at some [#Infinitive]",group:0,tag:"Noun",reason:"at-some-inf"},{match:"(#Noun && @hasHyphen) #Verb",tag:"Noun",reason:"hyphen-verb"},{match:"is no [#Verb]",group:0,tag:"Noun",reason:"is-no-verb"},{match:"[#Verb] than",group:0,tag:"Noun",reason:"correction"},{match:"(go|goes|went) to [#Infinitive]",group:0,tag:"Noun",reason:"goes-to-verb"},{match:"(a|an) #Noun [#Infinitive] (#Preposition|#Noun)",group:0,tag:"Noun",reason:"a-noun-inf"},{match:"(a|an) #Noun [#Infinitive]$",group:0,tag:"Noun",reason:"a-noun-inf2"},{match:"do [so]",group:0,tag:"Noun",reason:"so-noun"},{match:"#Copula [#Infinitive] #Noun",group:0,tag:"Noun",reason:"is-pres-noun"},{match:"#Determiner #Adverb? [close]",group:0,tag:"Adjective",reason:"a-close"},{match:"#Determiner [(shit|damn|hell)]",group:0,tag:"Noun",reason:"swears-noun"},{match:"(the|these) [#Singular] (were|are)",group:0,tag:"Plural",reason:"singular-were"},{match:"#Gerund #Adjective? for [#Infinitive]",group:0,tag:"Noun",reason:"running-for"},{match:"#Gerund #Adjective to [#Infinitive]",group:0,tag:"Noun",reason:"running-to"},{match:"(many|any|some|several) [#PresentTense] for",group:0,tag:"Noun",reason:"any-verbs-for"},{match:"(have|had) [#Adjective] #Preposition .",group:0,tag:"Noun",reason:"have-fun"},{match:"co #Noun",tag:"Actor",reason:"co-noun"}],adjectives="(".concat(_ambig.adverbAdjective.join("|"),")"),_05Adverb=[{match:"[still] #Adjective",group:0,tag:"Adverb",reason:"still-advb"},{match:"[still] #Verb",group:0,tag:"Adverb",reason:"still-verb"},{match:"[so] #Adjective",group:0,tag:"Adverb",reason:"so-adv"},{match:"[way] #Comparative",group:0,tag:"Adverb",reason:"way-adj"},{match:"[way] #Adverb #Adjective",group:0,tag:"Adverb",reason:"way-too-adj"},{match:"[all] #Verb",group:0,tag:"Adverb",reason:"all-verb"},{match:"(#Verb && !#Modal) [like]",group:0,tag:"Adverb",reason:"verb-like"},{match:"(barely|hardly) even",tag:"Adverb",reason:"barely-even"},{match:"[even] #Verb",group:0,tag:"Adverb",reason:"even-walk"},{match:"even left",tag:"#Adverb #Verb",reason:"even-left"},{match:"(#PresentTense && !#Copula) [(hard|quick|long|bright|slow|fast|backwards|forwards)]",group:0,tag:"Adverb",reason:"lazy-ly"},{match:"[much] #Adjective",group:0,tag:"Adverb",reason:"bit-1"},{match:"#Copula [#Adverb]$",group:0,tag:"Adjective",reason:"is-well"},{match:"a [(little|bit|wee) bit?] #Adjective",group:0,tag:"Adverb",reason:"a-bit-cold"},{match:"[".concat(adjectives,"] #Adjective"),group:0,tag:"Adverb",reason:"dark-green"},{match:"#Adverb [#Adverb]$",group:0,tag:"Adjective",reason:"kinda-sparkly"},{match:"#Adverb [#Adverb] (and|or|then)",group:0,tag:"Adjective",reason:"kinda-sparkly-and"}],_06Value=[{match:"1 #Value #PhoneNumber",tag:"PhoneNumber",reason:"1-800-Value"},{match:"#NumericValue #PhoneNumber",tag:"PhoneNumber",reason:"(800) PhoneNumber"},{match:"#Demonym #Currency",tag:"Currency",reason:"demonym-currency"},{match:"[second] #Noun",group:0,tag:"Ordinal",reason:"second-noun"},{match:"#Value+ [#Currency]",group:0,tag:"Unit",reason:"5-yan"},{match:"#Value [(foot|feet)]",group:0,tag:"Unit",reason:"foot-unit"},{match:"(minus|negative) #Value",tag:"Value",reason:"minus-value"},{match:"#Value [#Abbreviation]",group:0,tag:"Unit",reason:"value-abbr"},{match:"#Value [k]",group:0,tag:"Unit",reason:"value-k"},{match:"#Unit an hour",tag:"Unit",reason:"unit-an-hour"},{match:"#Value (point|decimal) #Value",tag:"Value",reason:"value-point-value"},{match:"(#Value|a) [(buck|bucks|grand)]",group:0,tag:"Currency",reason:"value-bucks"},{match:"#Determiner [(half|quarter)] #Ordinal",group:0,tag:"Value",reason:"half-ordinal"},{match:"a #Value",tag:"Value",reason:"a-value"},{match:"[#Value+] #Currency",group:0,tag:"Money",reason:"15 usd"},{match:"(hundred|thousand|million|billion|trillion|quadrillion)+ and #Value",tag:"Value",reason:"magnitude-and-value"},{match:"!once [(a|an)] (#Duration|hundred|thousand|million|billion|trillion)",group:0,tag:"Value",reason:"a-is-one"}],verbs="(".concat(_ambig.personVerb.join("|"),")"),list$2=[{match:"[#Adjective] #Possessive #Noun",group:0,tag:"Verb",reason:"gerund-his-noun"},{match:"[#Adjective] (us|you)",group:0,tag:"Gerund",reason:"loving-you"},{match:"(slowly|quickly) [#Adjective]",group:0,tag:"Gerund",reason:"slowly-adj"},{match:"(#Modal|i|they|we|do) not? [like]",group:0,tag:"PresentTense",reason:"modal-like"},{match:"do (simply|just|really|not)+ [(#Adjective|like)]",group:0,tag:"Verb",reason:"do-simply-like"},{match:"does (#Adverb|not)? [#Adjective]",group:0,tag:"PresentTense",reason:"does-mean"},{match:"i (#Adverb|do)? not? [mean]",group:0,tag:"PresentTense",reason:"i-mean"},{match:"#Noun #Adverb? [left]",group:0,tag:"PastTense",reason:"left-verb"},{match:"(this|that) [#Plural]",group:0,tag:"PresentTense",reason:"this-verbs"},{match:"[#Copula (#Adverb|not)+?] (#Gerund|#PastTense)",group:0,tag:"Auxiliary",reason:"copula-walking"},{match:"[(has|had) (#Adverb|not)+?] #PastTense",group:0,tag:"Auxiliary",reason:"had-walked"},{match:"[#Adverb+? (#Modal|did)+ (#Adverb|not)+?] #Verb",group:0,tag:"Auxiliary",reason:"modal-verb"},{match:"[#Modal (#Adverb|not)+? have (#Adverb|not)+? had (#Adverb|not)+?] #Verb",group:0,tag:"Auxiliary",reason:"would-have"},{match:"[(has|had) (#Adverb|not)+?] #PastTense",group:0,tag:"Auxiliary",reason:"had-walked"},{match:"[(do|does|will|have|had)] (not|#Adverb)? #Verb",group:0,tag:"Auxiliary",reason:"have-had"},{match:"[about to] #Adverb? #Verb",group:0,tag:["Auxiliary","Verb"],reason:"about-to"},{match:"#Modal (#Adverb|not)+? be (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"would-be"},{match:"(were|was) being [#PresentTense]",group:0,tag:"PastTense",reason:"was-being"},{match:"[#Modal (#Adverb|not)+? have (#Adverb|not)+? had (#Adverb|not)+?] #Verb",group:0,tag:"Auxiliary",reason:"would-have"},{match:"(#Modal|had|has) (#Adverb|not)+? been (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"had-been"},{match:"[(be|being|been)] #Participle",group:0,tag:"Auxiliary",reason:"being-foo"},{match:"(#Verb && @hasHyphen) up",tag:"PhrasalVerb",reason:"foo-up"},{match:"(#Verb && @hasHyphen) off",tag:"PhrasalVerb",reason:"foo-off"},{match:"(#Verb && @hasHyphen) over",tag:"PhrasalVerb",reason:"foo-over"},{match:"(#Verb && @hasHyphen) out",tag:"PhrasalVerb",reason:"foo-out"},{match:"#PhrasalVerb [#PhrasalVerb]",group:0,tag:"Particle",reason:"phrasal-particle"},{match:"#Verb (him|her|it|us|himself|herself|itself|everything|something) [(up|down)]",group:0,tag:"Adverb",reason:"phrasal-pronoun-advb"},{match:"[will #Adverb? not? #Adverb? be] #Gerund",group:0,tag:"Copula",reason:"will-be-copula"},{match:"will #Adverb? not? #Adverb? [be] #Adjective",group:0,tag:"Copula",reason:"be-copula"},{match:"[march] (up|down|back|to|toward)",group:0,tag:"Infinitive",reason:"march-to"},{match:"#Modal [march]",group:0,tag:"Infinitive",reason:"must-march"},{match:"(let|make|made) (him|her|it|#Person|#Place|#Organization)+ [#Singular] (a|an|the|it)",group:0,tag:"Infinitive",reason:"let-him-glue"},{match:"will [#Adjective]",group:0,tag:"Verb",reason:"will-adj"},{match:"#Pronoun [#Adjective] #Determiner #Adjective? #Noun",group:0,tag:"Verb",reason:"he-adj-the"},{match:"#Copula [#Adjective to] #Verb",group:0,tag:"Verb",reason:"adj-to"},{match:"[open] #Determiner",group:0,tag:"Infinitive",reason:"open-the"},{match:"[#PresentTense] (are|were|was) #Adjective",group:0,tag:"Plural",reason:"compromises-are-possible"},{match:"#Modal [".concat(verbs,"]"),group:0,tag:"Verb",reason:"would-mark"},{match:"#Adverb [".concat(verbs,"]"),group:0,tag:"Verb",reason:"really-mark"},{match:"(to|#Modal) [mark]",group:0,tag:"PresentTense",reason:"to-mark"},{match:"".concat(verbs," #Person"),tag:"Person",reason:"rob-smith"},{match:"".concat(verbs," #Acronym #ProperNoun"),tag:"Person",reason:"rob-a-smith"},{match:"[shit] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear1-verb"},{match:"[damn] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear2-verb"},{match:"[fuck] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear3-verb"}],_07Verbs=list$2,list$1=[{match:"(west|north|south|east|western|northern|southern|eastern)+ #Place",tag:"Region",reason:"west-norfolk"},{match:"#City [(al|ak|az|ar|ca|ct|dc|fl|ga|id|il|nv|nh|nj|ny|oh|or|pa|sc|tn|tx|ut|vt|pr)]",group:0,tag:"Region",reason:"us-state"},{match:"#ProperNoun+ (district|region|province|county|prefecture|municipality|territory|burough|reservation)",tag:"Region",reason:"foo-district"},{match:"(district|region|province|municipality|territory|burough|state) of #ProperNoun",tag:"Region",reason:"district-of-Foo"},{match:"in [#ProperNoun] #Place",group:0,tag:"Place",reason:"propernoun-place"},{match:"#Value #Noun (st|street|rd|road|crescent|cr|way|tr|terrace|avenue|ave)",tag:"Address",reason:"address-st"}],_08Place=list$1,_09Org=[{match:"#Noun (&|n) #Noun",tag:"Organization",reason:"Noun-&-Noun"},{match:"#Organization of the? #ProperNoun",tag:"Organization",reason:"org-of-place",safe:!0},{match:"#Organization #Country",tag:"Organization",reason:"org-country"},{match:"#ProperNoun #Organization",tag:"Organization",reason:"titlecase-org"},{match:"#ProperNoun (ltd|co|inc|dept|assn|bros)",tag:"Organization",reason:"org-abbrv"},{match:"the [#Acronym]",group:0,tag:"Organization",reason:"the-acronym",safe:!0},{match:"(world|global|international|national|#Demonym) #Organization",tag:"Organization",reason:"global-org"},{match:"#Noun+ (public|private) school",tag:"School",reason:"noun-public-school"}],nouns="(".concat(_ambig.personNoun.join("|"),")"),months="(".concat(_ambig.personMonth.join("|"),")"),places="(".concat(_ambig.personPlace.join("|"),")"),list=[{match:"[(1st|2nd|first|second)] #Honorific",group:0,tag:"Honorific",reason:"ordinal-honorific"},{match:"[(private|general|major|corporal|lord|lady|secretary|premier)] #Honorific? #Person",group:0,tag:"Honorific",reason:"ambg-honorifics"},{match:"#Copula [(#Noun|#PresentTense)] #LastName",group:0,tag:"FirstName",reason:"copula-noun-lastname"},{match:"(lady|queen|sister) #ProperNoun",tag:"FemaleName",reason:"lady-titlecase",safe:!0},{match:"(king|pope|father) #ProperNoun",tag:"MaleName",reason:"pope-titlecase",safe:!0},{match:"[(will|may|april|june|said|rob|wade|ray|rusty|drew|miles|jack|chuck|randy|jan|pat|cliff|bill)] #LastName",group:0,tag:"FirstName",reason:"maybe-lastname"},{match:"#FirstName [#Determiner #Noun] #LastName",group:0,tag:"NickName",reason:"first-noun-last"},{match:"#Possessive [#FirstName]",group:0,tag:"Person",reason:"possessive-name"},{match:"#ProperNoun (b|c|d|e|f|g|h|j|k|l|m|n|o|p|q|r|s|t|u|v|w|x|y|z) #ProperNoun",tag:"Person",reason:"titlecase-acronym-titlecase",safe:!0},{match:"#Acronym #LastName",tag:"Person",reason:"acronym-latname",safe:!0},{match:"#Person (jr|sr|md)",tag:"Person",reason:"person-honorific"},{match:"#Person #Person the? #RomanNumeral",tag:"Person",reason:"roman-numeral"},{match:"#FirstName [/^[^aiurck]$/]",group:0,tag:["Acronym","Person"],reason:"john-e"},{match:"#Honorific #Person",tag:"Person",reason:"honorific-person"},{match:"#Honorific #Acronym",tag:"Person",reason:"Honorific-TitleCase"},{match:"#Noun van der? #Noun",tag:"Person",reason:"van der noun",safe:!0},{match:"(king|queen|prince|saint|lady) of #Noun",tag:"Person",reason:"king-of-noun",safe:!0},{match:"(prince|lady) #Place",tag:"Person",reason:"lady-place"},{match:"(king|queen|prince|saint) #ProperNoun",tag:"Person",reason:"saint-foo"},{match:"[#ProperNoun] #Person",group:0,tag:"Person",reason:"proper-person",safe:!0},{match:"al (#Person|#ProperNoun)",tag:"Person",reason:"al-borlen",safe:!0},{match:"#FirstName de #Noun",tag:"Person",reason:"bill-de-noun"},{match:"#FirstName (bin|al) #Noun",tag:"Person",reason:"bill-al-noun"},{match:"#FirstName #Acronym #ProperNoun",tag:"Person",reason:"bill-acronym-title"},{match:"#FirstName #FirstName #ProperNoun",tag:"Person",reason:"bill-firstname-title"},{match:"#Honorific #FirstName? #ProperNoun",tag:"Person",reason:"dr-john-Title"},{match:"#FirstName the #Adjective",tag:"Person",reason:"name-the-great"},{match:"#FirstName (green|white|brown|hall|young|king|hill|cook|gray|price)",tag:"Person",reason:"bill-green"},{match:"".concat(nouns," #Person"),tag:"Person",reason:"ray-smith",safe:!0},{match:"".concat(nouns," #Acronym? #ProperNoun"),tag:"Person",reason:"ray-a-smith",safe:!0},{match:"#Infinitive #Determiner? #Adjective? #Noun? (to|for) [".concat(months,"]"),group:0,tag:"Person",reason:"ambig-person"},{match:"#Infinitive [".concat(months,"]"),group:0,tag:"Person",reason:"infinitive-person"},{match:"[".concat(months,"] #Modal"),group:0,tag:"Person",reason:"ambig-modal"},{match:"[may] be",group:0,tag:"Verb",reason:"may-be"},{match:"#Modal [".concat(months,"]"),group:0,tag:"Person",reason:"modal-ambig"},{match:"#Copula [".concat(months,"]"),group:0,tag:"Person",reason:"is-may"},{match:"[".concat(months,"] #Copula"),group:0,tag:"Person",reason:"may-is"},{match:"that [".concat(months,"]"),group:0,tag:"Person",reason:"that-month"},{match:"with [".concat(months,"]"),group:0,tag:"Person",reason:"with-month"},{match:"for [".concat(months,"]"),group:0,tag:"Person",reason:"for-month"},{match:"this [".concat(months,"]"),group:0,tag:"Month",reason:"this-may"},{match:"next [".concat(months,"]"),group:0,tag:"Month",reason:"next-may"},{match:"last [".concat(months,"]"),group:0,tag:"Month",reason:"last-may"},{match:"#Date [".concat(months,"]"),group:0,tag:"Month",reason:"date-may"},{match:"[".concat(months,"] the? #Value"),group:0,tag:"Month",reason:"may-5th"},{match:"#Value of [".concat(months,"]"),group:0,tag:"Month",reason:"5th-of-may"},{match:"#ProperNoun (van|al|bin) #ProperNoun",tag:"Person",reason:"title-van-title",safe:!0},{match:"#ProperNoun (de|du) la? #ProperNoun",tag:"Person",reason:"title-de-title",safe:!0},{match:"#Singular #Acronym #LastName",tag:"#Person",reason:"title-acro-noun",safe:!0},{match:"#FirstName (#Noun && #ProperNoun) #ProperNoun?",tag:"Person",reason:"firstname-titlecase"},{match:"#FirstName #Acronym #Noun",tag:"Person",reason:"n-acro-noun",safe:!0},{match:"#FirstName [(de|di|du|van|von) #Person]",group:0,tag:"LastName",reason:"de-firstname"},{match:"[".concat(places,"] (#ProperNoun && !#Place)"),group:0,tag:"FirstName",reason:"place-firstname"}],_10People=list,matches=[];matches=matches.concat(_01Misc),matches=matches.concat(_02Dates),matches=matches.concat(_03Adjective),matches=matches.concat(_04Noun),matches=matches.concat(_05Adverb),matches=matches.concat(_06Value),matches=matches.concat(_07Verbs),matches=matches.concat(_08Place),matches=matches.concat(_09Org),matches=matches.concat(_10People);var cacheRequired=function(e){var t=[],n=[];return e.forEach((function(e){!0!==e.optional&&!0!==e.negative&&(void 0!==e.tag&&t.push(e.tag),void 0!==e.word&&n.push(e.word))})),{tags:_unique(t),words:_unique(n)}},allLists=function(e){var t=[];if(1===e.reg.filter((function(e){return void 0!==e.fastOr})).length){var n=e.reg.findIndex((function(e){return void 0!==e.fastOr}));Object.keys(e.reg[n].fastOr).forEach((function(r){var a=Object.assign({},e);a.reg=a.reg.slice(0),a.reg[n]=Object.assign({},a.reg[n]),a.reg[n].word=r,delete a.reg[n].operator,delete a.reg[n].fastOr,t.push(a)}))}return t},all=[];matches.forEach((function(e){e.reg=matchSyntax(e.match);var t=allLists(e);t.length>0?all=all.concat(t):all.push(e)})),all.forEach((function(e){return e.required=cacheRequired(e.reg),e}));var matches_1=all,hasEvery=function(e){if(0===e.length)return[];var t={};e.forEach((function(e){e=_unique(e);for(var n=0;n<e.length;n++)t[e[n]]=t[e[n]]||0,t[e[n]]+=1}));var n=Object.keys(t);return n=(n=n.filter((function(n){return t[n]===e.length}))).map((function(e){return Number(e)}))},runner=function(e){matches_1.forEach((function(t){var n=[];t.required.words.forEach((function(t){n.push(e._cache.words[t]||[])})),t.required.tags.forEach((function(t){n.push(e._cache.tags[t]||[])}));var r=hasEvery(n);if(0!==r.length){var a=r.map((function(t){return e.list[t]})),i=e.buildFrom(a).match(t.reg,t.group);i.found&&(!0===t.safe?i.tagSafe(t.tag,t.reason):i.tag(t.tag,t.reason))}}))},runner_1=runner,corrections=function(e){return runner_1(e),fixMisc(e),e},_04Correction=corrections,tagger=function(e){var t=e.termList();return e=_01Init(e,t),e=_02Fallbacks(e,t),(e=_03Contractions(e)).cache(),(e=_04Correction(e)).uncache(),e.world.taggers.forEach((function(t){t(e)})),e},_02Tagger=tagger,addMethod$a=function(e){var t=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"stripPeriods",value:function(){return this.termList().forEach((function(e){!0===e.tags.Abbreviation&&e.next&&(e.post=e.post.replace(/^\./,""));var t=e.text.replace(/\./,"");e.set(t)})),this}},{key:"addPeriods",value:function(){return this.termList().forEach((function(e){e.post=e.post.replace(/^\./,""),e.post="."+e.post})),this}}]),n}(e);return t.prototype.unwrap=t.prototype.stripPeriods,e.prototype.abbreviations=function(e){var n=this.match("#Abbreviation");return"number"==typeof e&&(n=n.get(e)),new t(n.list,this,this.world)},e},Abbreviations=addMethod$a,hasPeriod=/\./,addMethod$9=function(e){var t=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"stripPeriods",value:function(){return this.termList().forEach((function(e){var t=e.text.replace(/\./g,"");e.set(t)})),this}},{key:"addPeriods",value:function(){return this.termList().forEach((function(e){var t=e.text.replace(/\./g,"");t=t.split("").join("."),!1===hasPeriod.test(e.post)&&(t+="."),e.set(t)})),this}}]),n}(e);return t.prototype.unwrap=t.prototype.stripPeriods,t.prototype.strip=t.prototype.stripPeriods,e.prototype.acronyms=function(e){var n=this.match("#Acronym");return"number"==typeof e&&(n=n.get(e)),new t(n.list,this,this.world)},e},Acronyms=addMethod$9,addMethod$8=function(e){return e.prototype.clauses=function(t){var n=this.if("@hasComma").notIf("@hasComma @hasComma").notIf("@hasComma . .? (and|or) .").notIf("(#City && @hasComma) #Country").notIf("(#WeekDay && @hasComma) #Date").notIf("(#Date && @hasComma) #Year").notIf("@hasComma (too|also)$").match("@hasComma"),r=this.splitAfter(n),a=r.quotations(),i=(r=r.splitOn(a)).parentheses(),s=(r=r.splitOn(i)).if("#Copula #Adjective #Conjunction (#Pronoun|#Determiner) #Verb").match("#Conjunction"),o=(r=r.splitBefore(s)).if("if .{2,9} then .").match("then"),l=(r=(r=(r=(r=(r=(r=r.splitBefore(o)).splitBefore("as well as .")).splitBefore("such as .")).splitBefore("in addition to .")).splitAfter("@hasSemicolon")).splitAfter("@hasDash")).filter((function(e){return e.wordCount()>5&&e.match("#Verb+").length>=2}));if(l.found){var c=l.splitAfter("#Noun .* #Verb .* #Noun+");r=r.splitOn(c.eq(0))}return"number"==typeof t&&(r=r.get(t)),new e(r.list,this,this.world)},e},Clauses=addMethod$8,addMethod$7=function(e){var t=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a){var i;return _classCallCheck(this,n),(i=t.call(this,e,r,a)).contracted=null,i}return _createClass(n,[{key:"expand",value:function(){return this.list.forEach((function(e){var t=e.terms(),n=t[0].isTitleCase();t.forEach((function(e,n){e.set(e.implicit||e.text),e.implicit=void 0,n<t.length-1&&""===e.post&&(e.post+=" ")})),n&&t[0].toTitleCase()})),this}}]),n}(e);return e.prototype.contractions=function(e){var n=this.match("@hasContraction+");return"number"==typeof e&&(n=n.get(e)),new t(n.list,this,this.world)},e.prototype.expanded=e.prototype.isExpanded,e.prototype.contracted=e.prototype.isContracted,e},Contractions=addMethod$7,addMethod$6=function(e){var t=function(e){var t=e.splitAfter("@hasComma").splitOn("(and|or) not?").not("(and|or) not?"),n=e.match("[.] (and|or)",0);return{things:t,conjunction:e.match("(and|or) not?"),beforeLast:n,hasOxford:n.has("@hasComma")}},n=function(e){_inherits(r,e);var n=_createSuper(r);function r(){return _classCallCheck(this,r),n.apply(this,arguments)}return _createClass(r,[{key:"conjunctions",value:function(){return this.match("(and|or)")}},{key:"parts",value:function(){return this.splitAfter("@hasComma").splitOn("(and|or) not?")}},{key:"items",value:function(){return t(this).things}},{key:"add",value:function(e){return this.forEach((function(n){var r=t(n).beforeLast;r.append(e),r.termList(0).addPunctuation(",")})),this}},{key:"remove",value:function(e){return this.items().if(e).remove()}},{key:"hasOxfordComma",value:function(){return this.filter((function(e){return t(e).hasOxford}))}},{key:"addOxfordComma",value:function(){var e=this.items(),t=e.eq(e.length-2);return t.found&&!1===t.has("@hasComma")&&t.post(", "),this}},{key:"removeOxfordComma",value:function(){var e=this.items(),t=e.eq(e.length-2);return t.found&&!0===t.has("@hasComma")&&t.post(" "),this}}]),r}(e);return n.prototype.things=n.prototype.items,e.prototype.lists=function(e){var t=this.if("@hasComma+ .? (and|or) not? ."),r=t.match("(#Noun|#Adjective|#Determiner|#Article)+ #Conjunction not? (#Article|#Determiner)? #Adjective? #Noun+").if("#Noun"),a=t.match("(#Adjective|#Adverb)+ #Conjunction not? #Adverb? #Adjective+"),i=t.match("(#Verb|#Adverb)+ #Conjunction not? #Adverb? #Verb+"),s=r.concat(a);return s=(s=s.concat(i)).if("@hasComma"),"number"==typeof e&&(s=t.get(e)),new n(s.list,this,this.world)},e},Lists=addMethod$6,noPlural="(#Pronoun|#Place|#Value|#Person|#Uncountable|#Month|#WeekDay|#Holiday|#Possessive)",hasPlural=function(e){return!0===e.has("#Plural")||!0!==e.has(noPlural)},hasPlural_1=hasPlural,irregulars={hour:"an",heir:"an",heirloom:"an",honest:"an",honour:"an",honor:"an",uber:"an"},an_acronyms={a:!0,e:!0,f:!0,h:!0,i:!0,l:!0,m:!0,n:!0,o:!0,r:!0,s:!0,x:!0},a_regexs=[/^onc?e/i,/^u[bcfhjkqrstn][aeiou]/i,/^eul/i],makeArticle=function(e){if(e.has("#Person")||e.has("#Place"))return"";if(e.has("#Plural"))return"the";var t=e.text("normal").trim();if(irregulars.hasOwnProperty(t))return irregulars[t];var n=t.substr(0,1);if(e.has("^@isAcronym")&&an_acronyms.hasOwnProperty(n))return"an";for(var r=0;r<a_regexs.length;r++)if(a_regexs[r].test(t))return"a";return/^[aeiou]/i.test(t)?"an":"a"},getArticle=makeArticle,isPlural$2=[/(antenn|formul|nebul|vertebr|vit)ae$/i,/(octop|vir|radi|nucle|fung|cact|stimul)i$/i,/men$/i,/.tia$/i,/(m|l)ice$/i],isSingular=[/(ax|test)is$/i,/(octop|vir|radi|nucle|fung|cact|stimul)us$/i,/(octop|vir)i$/i,/(rl)f$/i,/(alias|status)$/i,/(bu)s$/i,/(al|ad|at|er|et|ed|ad)o$/i,/(ti)um$/i,/(ti)a$/i,/sis$/i,/(?:(^f)fe|(lr)f)$/i,/hive$/i,/(^aeiouy|qu)y$/i,/(x|ch|ss|sh|z)$/i,/(matr|vert|ind|cort)(ix|ex)$/i,/(m|l)ouse$/i,/(m|l)ice$/i,/(antenn|formul|nebul|vertebr|vit)a$/i,/.sis$/i,/^(?!talis|.*hu)(.*)man$/i],_rules={isSingular:isSingular,isPlural:isPlural$2},endS=/s$/,isPlural$1=function(e){return!_rules.isSingular.find((function(t){return t.test(e)}))&&(!0===endS.test(e)||(!!_rules.isPlural.find((function(t){return t.test(e)}))||null))},isPlural_1$1=isPlural$1,exceptions={he:"his",she:"hers",they:"theirs",we:"ours",i:"mine",you:"yours",her:"hers",their:"theirs",our:"ours",my:"mine",your:"yours"},toPossessive=function(e){var t=e.text("text").trim();return exceptions.hasOwnProperty(t)?(e.replaceWith(exceptions[t],!0),void e.tag("Possessive","toPossessive")):/s$/.test(t)?(t+="'",e.replaceWith(t,!0),void e.tag("Possessive","toPossessive")):(t+="'s",e.replaceWith(t,!0),void e.tag("Possessive","toPossessive"))},toPossessive_1=toPossessive,parse$1=function(e){var t={main:e};if(e.has("#Noun (of|by|for) .")){var n=e.splitAfter("[#Noun+]",0);t.main=n.eq(0),t.post=n.eq(1)}return t},parse_1=parse$1,methods$2={json:function(e){var t=null;"number"==typeof e&&(t=e,e=null),e=e||{text:!0,normal:!0,trim:!0,terms:!0};var n=[];return this.forEach((function(t){var r=t.json(e)[0];r.article=getArticle(t),n.push(r)})),null!==t?n[t]:n},adjectives:function(){var e=this.lookAhead("^(that|who|which)? (was|is|will)? be? #Adverb? #Adjective+");return(e=(e=e.concat(this.lookBehind("#Adjective+ #Adverb?$"))).match("#Adjective")).sort("index")},isPlural:function(){return this.if("#Plural")},hasPlural:function(){return this.filter((function(e){return hasPlural_1(e)}))},toPlural:function(e){var t=this,n=this.world.transforms.toPlural;return this.forEach((function(r){if(!r.has("#Plural")&&!1!==hasPlural_1(r)){var a=parse_1(r).main,i=a.text("reduced");if((a.has("#Singular")||!0!==isPlural_1$1(i))&&(i=n(i,t.world),a.replace(i).tag("#Plural"),e)){var s=a.lookBefore("(an|a) #Adjective?$").not("#Adjective");!0===s.found&&s.remove()}}})),this},toSingular:function(e){var t=this,n=this.world.transforms.toSingular;return this.forEach((function(r){if(!r.has("^#Singular+$")&&!1!==hasPlural_1(r)){var a=parse_1(r).main,i=a.text("reduced");if((a.has("#Plural")||!0===isPlural_1$1(i))&&(i=n(i,t.world),a.replace(i).tag("#Singular"),e)){var s=r,o=r.lookBefore("#Adjective");o.found&&(s=o);var l=getArticle(s);s.insertBefore(l)}}})),this},toPossessive:function(){return this.forEach((function(e){toPossessive_1(e)})),this}},methods_1=methods$2,addMethod$5=function(e){var t=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e);return Object.assign(t.prototype,methods_1),e.prototype.nouns=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.match("(#City && @hasComma) (#Region|#Country)"),a=this.not(r).splitAfter("@hasComma"),i=(a=a.concat(r)).quotations();return i.found&&(a=a.splitOn(i.eq(0))),a=a.match("#Noun+ (of|by)? the? #Noun+?"),!0!==n.keep_anaphora&&(a=(a=(a=(a=a.not("#Pronoun")).not("(there|these)")).not("(#Month|#WeekDay)")).not("(my|our|your|their|her|his)")),a=a.not("(of|for|by|the)$"),"number"==typeof e&&(a=a.get(e)),new t(a.list,this,this.world)},e},Nouns=addMethod$5,open=/\(/,close=/\)/,addMethod$4=function(e){var t=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"unwrap",value:function(){return this.list.forEach((function(e){var t=e.terms(0);t.pre=t.pre.replace(open,"");var n=e.lastTerm();n.post=n.post.replace(close,"")})),this}}]),n}(e);return e.prototype.parentheses=function(e){var n=[];return this.list.forEach((function(e){for(var t=e.terms(),r=0;r<t.length;r+=1){var a=t[r];if(open.test(a.pre))for(var i=r;i<t.length;i+=1)if(close.test(t[i].post)){var s=i-r+1;n.push(e.buildFrom(a.id,s)),r=i;break}}})),"number"==typeof e?(n=n[e]?[n[e]]:[],new t(n,this,this.world)):new t(n,this,this.world)},e},Parentheses=addMethod$4,addMethod$3=function(e){var t=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a){var i;return _classCallCheck(this,n),(i=t.call(this,e,r,a)).contracted=null,i}return _createClass(n,[{key:"strip",value:function(){return this.list.forEach((function(e){e.terms().forEach((function(e){var t=e.text.replace(/'s$/,"");e.set(t||e.text)}))})),this}}]),n}(e);return e.prototype.possessives=function(e){var n=this.match("#Noun+? #Possessive");return"number"==typeof e&&(n=n.get(e)),new t(n.list,this,this.world)},e},Possessives=addMethod$3,pairs={'"':'"',"＂":"＂","'":"'","“":"”","‘":"’","‟":"”","‛":"’","„":"”","⹂":"”","‚":"’","«":"»","‹":"›","‵":"′","‶":"″","‷":"‴","〝":"〞","`":"´","〟":"〞"},hasOpen=RegExp("("+Object.keys(pairs).join("|")+")"),addMethod$2=function(e){var t=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"unwrap",value:function(){return this}}]),n}(e);return e.prototype.quotations=function(e){var n=[];return this.list.forEach((function(e){for(var t=e.terms(),r=0;r<t.length;r+=1){var a=t[r];if(hasOpen.test(a.pre))for(var i=(a.pre.match(hasOpen)||[])[0],s=pairs[i],o=r;o<t.length;o+=1)if(-1!==t[o].post.indexOf(s)){var l=o-r+1;n.push(e.buildFrom(a.id,l)),r=o;break}}})),"number"==typeof e?(n=n[e]?[n[e]]:[],new t(n,this,this.world)):new t(n,this,this.world)},e.prototype.quotes=e.prototype.quotations,e},Quotations=addMethod$2,toInfinitive=function(e,t){var n=e.verb,r=n.text("reduced");if(n.has("#Infinitive"))return r;var a=null;return n.has("#PastTense")?a="PastTense":n.has("#Gerund")?a="Gerund":n.has("#PresentTense")?a="PresentTense":n.has("#Participle")?a="Participle":n.has("#Actor")&&(a="Actor"),t.transforms.toInfinitive(r,t,a)},toInfinitive_1=toInfinitive,findNoun=function(e){return e.lookBehind("#Noun+").last()},isPlural=function(e){var t=e.verb;if(t.has("(are|were|does)")||e.auxiliary.has("(are|were|does)"))return!0;if(t.has("(is|am|do|was)")||e.auxiliary.has("(is|am|do|was)"))return!1;var n=findNoun(t);return!!n.has("(we|they|you)")||(!!n.has("#Plural")||!n.has("#Singular")&&null)},isPlural_1=isPlural,toNegative=function(e,t){var n=e.verb;if(!e.negative.found){if(e.auxiliary.found)return e.auxiliary.eq(0).append("not"),void(e.auxiliary.has("#Modal have not")&&e.auxiliary.replace("have not","not have"));if(n.has("(#Copula|will|has|had|do)"))n.append("not");else{if(n.has("#PastTense")){var r=toInfinitive_1(e,t);return n.replaceWith(r,!0),void n.prepend("did not")}if(n.has("#PresentTense")){var a=toInfinitive_1(e,t);return n.replaceWith(a,!0),void(isPlural_1(e)?n.prepend("do not"):n.prepend("does not"))}if(n.has("#Gerund")){var i=toInfinitive_1(e,t);return n.replaceWith(i,!0),void n.prepend("not")}isPlural_1(e)?n.prepend("does not"):n.prepend("do not")}}},toNegative_1=toNegative,getSubject=function(e){var t=e.lookBehind(),n=t.nouns(null,{keep_anaphora:!0}).last();return n.found||(n=(n=t.match("(that|this|each)").last()).tag("#Noun").nouns()),n},getSubject_1=getSubject,parseVerb=function(e){var t={adverb:e.match("#Adverb+"),negative:e.match("#Negative"),auxiliary:e.match("#Auxiliary+").not("(#Negative|#Adverb)"),particle:e.match("#Particle"),verb:e.match("#Verb+").not("(#Adverb|#Negative|#Auxiliary|#Particle)"),original:e,subject:getSubject_1(e)};if(!t.verb.found)return Object.keys(t).forEach((function(e){t[e]=t[e].not(".")})),t.verb=e,t;if(t.adverb&&t.adverb.found){var n=t.adverb.text("reduced")+"$";e.has(n)&&(t.adverbAfter=!0)}return t},parse=parseVerb,toBe=function(e){var t=!1,n=isPlural_1(e),r=e.negative.found;e.verb.lookBehind("(i|we) (#Adverb|#Verb)?$").found&&(t=!0);var a={PastTense:"was",PresentTense:"is",FutureTense:"will be",Infinitive:"is",Gerund:"being",Actor:"",PerfectTense:"been",Pluperfect:"been"};return!0===t&&(a.PresentTense="am",a.Infinitive="am"),n&&(a.PastTense="were",a.PresentTense="are",a.Infinitive="are"),r&&(a.PastTense+=" not",a.PresentTense+=" not",a.FutureTense="will not be",a.Infinitive+=" not",a.PerfectTense="not "+a.PerfectTense,a.Pluperfect="not "+a.Pluperfect,a.Gerund="not "+a.Gerund),a},toBe_1=toBe,doModal=function(e){var t=e.verb.text();return{PastTense:t+" have",PresentTense:t,FutureTense:t,Infinitive:t}},doModal_1=doModal,conjugate=function(e,t){var n=e.verb;if(n.has("#Copula")||"be"===n.out("normal")&&e.auxiliary.has("will"))return toBe_1(e);if(e.auxiliary.has("are")&&n.has("#Gerund")){var r=e.original.clone(),a=r.clone().replace("are","were"),i=r.clone().replace("are","will be"),s=toInfinitive_1(e,t);return{PastTense:a.text(),PresentTense:r.text(),FutureTense:i.text(),Infinitive:s}}if(n.has("#Modal"))return doModal_1(e);var o=e.verb.termList(0).hasHyphen(),l=toInfinitive_1(e,t);if(!l)return{};var c=t.transforms.conjugate(l,t);if(c.Infinitive=l,e.particle.found){var u=e.particle.text(),h=!0===o?"-":" ";Object.keys(c).forEach((function(e){return c[e]+=h+u}))}var d=e.negative.found;return d&&(c.PastTense="did not "+c.Infinitive,c.PresentTense="does not "+c.Infinitive,c.Gerund="not "+c.Gerund),c.FutureTense||(c.FutureTense=d?"will not "+c.Infinitive:"will "+c.Infinitive),d&&(c.Infinitive="not "+c.Infinitive),c},conjugate_1=conjugate,useParticiple$1=function(e){return!!e.auxiliary.has("(could|should|would|may|can|must)")||(!!e.auxiliary.has("am .+? being")||!!e.auxiliary.has("had .+? been"))},toParticiple=function(e,t){if(!e.auxiliary.has("(have|had)")||!e.verb.has("#Participle")){var n=conjugate_1(e,t),r=n.Participle||n.PastTense;r&&e.verb.replaceWith(r,!1),e.auxiliary.has("am .+? being")&&(e.auxiliary.remove("am"),e.auxiliary.replace("being","have been")),e.auxiliary.has("have")||e.auxiliary.append("have"),e.verb.tag("Participle","toParticiple"),e.auxiliary.replace("can","could"),e.auxiliary.replace("be have","have been"),e.auxiliary.replace("not have","have not"),e.auxiliary.tag("Auxiliary")}},participle={useParticiple:useParticiple$1,toParticiple:toParticiple},_toParticiple=participle.toParticiple,useParticiple=participle.useParticiple,makeNeutral=function(e){return e.auxiliary.remove("(will|are|am|being)"),e.auxiliary.remove("(did|does)"),e.auxiliary.remove("(had|has|have)"),e.particle.remove(),e.negative.remove(),e},methods$1={json:function(e){var t=this,n=null;"number"==typeof e&&(n=e,e=null),e=e||{text:!0,normal:!0,trim:!0,terms:!0};var r=[];return this.forEach((function(n){var a=n.json(e)[0],i=parse(n);a.parts={},Object.keys(i).forEach((function(e){i[e]&&"Doc"===i[e].isA?a.parts[e]=i[e].text("normal"):a.parts[e]=i[e]})),a.isNegative=n.has("#Negative"),a.conjugations=conjugate_1(i,t.world),r.push(a)})),null!==n?r[n]:r},adverbs:function(){var e=[];this.forEach((function(t){var n=parse(t).adverb;n.found&&(e=e.concat(n.list))}));var t=this.lookBehind("#Adverb+$");return t.found&&(e=t.list.concat(e)),(t=this.lookAhead("^#Adverb+")).found&&(e=e.concat(t.list)),this.buildFrom(e)},isPlural:function(){var e=this,t=[];return this.forEach((function(n){var r=parse(n);!0===isPlural_1(r,e.world)&&t.push(n.list[0])})),this.buildFrom(t)},isSingular:function(){var e=this,t=[];return this.forEach((function(n){var r=parse(n);!1===isPlural_1(r,e.world)&&t.push(n.list[0])})),this.buildFrom(t)},conjugate:function(){var e=this,t=[];return this.forEach((function(n){var r=parse(n),a=conjugate_1(r,e.world);t.push(a)})),t},toPastTense:function(){var e=this;return this.forEach((function(t){var n=parse(t);if(useParticiple(n))_toParticiple(n,e.world);else if(!(t.has("#Imperative")||t.has("be")&&t.lookBehind("to$").found))if(n.verb.has("#Gerund")&&n.auxiliary.has("(is|will|was)"))t.replace("is","was");else{var r=conjugate_1(n,e.world).PastTense;r&&(n=makeNeutral(n)).verb.replaceWith(r,!1)}})),this},toPresentTense:function(){var e=this;return this.forEach((function(t){var n=parse(t),r=conjugate_1(n,e.world),a=r.PresentTense;if(t.lookBehind("(i|we) (#Adverb|#Verb)?$").found&&(a=r.Infinitive),a){if(n.auxiliary.has("(have|had) been"))return n.auxiliary.replace("(have|had) been","am being"),void(r.Particle&&(a=r.Particle||r.PastTense));n.verb.replaceWith(a,!1),n.verb.tag("PresentTense"),(n=makeNeutral(n)).auxiliary.remove("#Modal")}})),this},toFutureTense:function(){var e=this;return this.forEach((function(t){var n=parse(t);if(!useParticiple(n)){var r=conjugate_1(n,e.world).FutureTense;r&&((n=makeNeutral(n)).auxiliary.remove("#Modal"),n.verb.replaceWith(r,!1),n.verb.tag("FutureTense"))}})),this},toInfinitive:function(){var e=this;return this.forEach((function(t){var n=parse(t),r=conjugate_1(n,e.world).Infinitive;r&&(t.replaceWith(r,!1),t.tag("Infinitive"))})),this},toGerund:function(){var e=this;return this.forEach((function(t){var n=parse(t),r=conjugate_1(n,e.world).Gerund;r&&(t.replaceWith(r,!1),t.tag("Gerund"))})),this},toParticiple:function(){var e=this;return this.forEach((function(t){var n=parse(t),r=!n.auxiliary.found;_toParticiple(n,e.world),r&&(n.verb.prepend(n.auxiliary.text()),n.auxiliary.remove())})),this},isNegative:function(){return this.if("#Negative")},isPositive:function(){return this.ifNo("#Negative")},isImperative:function(){return this.if("#Imperative")},toNegative:function(){var e=this;return this.list.forEach((function(t){var n=e.buildFrom([t]),r=parse(n);toNegative_1(r,n.world)})),this},toPositive:function(){var e=this.match("do not #Verb");return e.found&&e.remove("do not"),this.remove("#Negative")},subject:function(){var e=[];return this.forEach((function(t){var n=getSubject_1(t);n.list[0]&&e.push(n.list[0])})),this.buildFrom(e)}},addMethod$1=function(e){var t=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e);return Object.assign(t.prototype,methods$1),t.prototype.negate=t.prototype.toNegative,e.prototype.verbs=function(e){var n=this.match("(#Adverb|#Auxiliary|#Verb|#Negative|#Particle)+"),r=(n=(n=n.not("^#Adverb+")).not("#Adverb+$")).match("(#Adverb && @hasComma) #Adverb"),a=n.not(r).splitAfter("@hasComma"),i=a.match("#PastTense #Gerund");return i.has("(been|am|#Auxiliary) #Gerund")||(a=a.splitBefore(i.match("#Gerund"))),(a=a.concat(r)).sort("index"),(a=a.if("#Verb")).has("(is|was)$")&&(a=a.splitBefore("(is|was)$")),a.has("#PresentTense #Adverb #PresentTense")&&(a=a.splitBefore("#Adverb #PresentTense")),"number"==typeof e&&(a=a.get(e)),new t(a.list,this,this.world)},e},Verbs=addMethod$1,addMethod=function(e){var t=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e);return e.prototype.people=function(e){var n=this.splitAfter("@hasComma");return n=n.match("#Person+"),"number"==typeof e&&(n=n.get(e)),new t(n.list,this,this.world)},e},People=addMethod,subclass=[Abbreviations,Acronyms,Clauses,Contractions,Lists,Nouns,Parentheses,Possessives,Quotations,Verbs,People],extend=function(e){return Object.keys(_simple).forEach((function(t){return e.prototype[t]=_simple[t]})),subclass.forEach((function(t){return t(e)})),e},Subset=extend,methods={misc:methods$4,selections:_simple},Doc=function(){function e(t,n,r){var a=this;_classCallCheck(this,e),this.list=t,Object.defineProperty(this,"from",{enumerable:!1,value:n,writable:!0}),void 0===r&&void 0!==n&&(r=n.world),Object.defineProperty(this,"world",{enumerable:!1,value:r,writable:!0}),Object.defineProperty(this,"_cache",{enumerable:!1,writable:!0,value:{}}),Object.defineProperty(this,"found",{get:function(){return a.list.length>0}}),Object.defineProperty(this,"length",{get:function(){return a.list.length}}),Object.defineProperty(this,"isA",{get:function(){return"Doc"}})}return _createClass(e,[{key:"tagger",value:function(){return _02Tagger(this)}},{key:"pool",value:function(){return this.list.length>0?this.list[0].pool:this.all().list[0].pool}}]),e}();Doc.prototype.buildFrom=function(e){return e=e.map((function(e){return e.clone(!0)})),new Doc(e,this,this.world)},Doc.prototype.fromText=function(e){var t=_01Tokenizer(e,this.world,this.pool());return this.buildFrom(t)},Object.assign(Doc.prototype,methods.misc),Object.assign(Doc.prototype,methods.selections),Subset(Doc);var aliases={untag:"unTag",and:"match",notIf:"ifNo",only:"if",onlyIf:"if"};Object.keys(aliases).forEach((function(e){return Doc.prototype[e]=Doc.prototype[aliases[e]]}));var Doc_1=Doc,smallTagger=function(e){var t=e.termList();return _01Lexicon(t,e.world),e.world.taggers.forEach((function(t){t(e)})),e},tiny=smallTagger;function instance(e){var t=e,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;n&&t.addWords(n);var r=_01Tokenizer(e,t),a=new Doc_1(r,null,t);return a.tagger(),a};return n.tokenize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=t;n&&((r=r.clone()).words={},r.addWords(n));var a=_01Tokenizer(e,r),i=new Doc_1(a,null,r);return(n||i.world.taggers.length>0)&&tiny(i),i},n.extend=function(e){return e(Doc_1,t,this,Phrase_1,Term_1,Pool_1),this},n.fromJSON=function(e){var n=fromJSON_1(e,t);return new Doc_1(n,null,t)},n.clone=function(){return instance(t.clone())},n.verbose=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t.verbose(e),this},n.world=function(){return t},n.parseMatch=function(e,t){return matchSyntax(e,t)},n.version=_version,n.import=n.load,n.plugin=n.extend,n}var src=instance(new World_1);function elementify(e){return e instanceof N&&(e=e.element),e.isPragmaElement||(e=j(e)),e}function isElementWithin(e,t={}){let n=e.offset(),r=n.top,a=n.top+e.rect().height;return r<=t.bot&&a>=t.top||r<=t.top&&a>=t.bot}function isOnScreen(e,t=100){if(!e)throw E.throwSoft(`couldnt not evaluate if [${e}] is on screen`);e=elementify(e);let n=window.scrollY;return isElementWithin(e,{top:n+t,bot:n+window.innerHeight-t})}function scrollTo(e,t=200,n=200){return e=elementify(e),new Promise(((r,a)=>{anime({targets:window.document.scrollingElement||window.document.body||window.document.documentElement,scrollTop:e.offset().top-n,duration:t,easing:"easeInOutSine"}).finished.then((()=>{setTimeout(r,20)}))}))}function _onScroll(e){let t=0,n=!1;document.addEventListener("scroll",(function(r){let a=t;t=window.scrollY,n||(window.requestAnimationFrame((function(){e(t,t-a),n=!1})),n=!0)}))}function onScroll(e){globalThis.lectorSpace.scrollChain||(E.createChains(globalThis.lectorSpace,"scroll"),_onScroll(((e,t)=>{globalThis.lectorSpace.scrollChain.exec(e,t)}))),globalThis.lectorSpace.onScroll(e)}function _onScrollEnd(e){let t,n={s:null,ds:null};onScroll(((r,a)=>{n={s:r,ds:a},t&&clearTimeout(t),t=setTimeout((t=>{e(n.s,n.ds)}),50)}))}function onScrollEnd(e){globalThis.lectorSpace.scrollEndChain||(E.createChains(globalThis.lectorSpace,"scrollEnd"),_onScrollEnd(((e,t)=>{globalThis.lectorSpace.scrollEndChain.exec(e,t)}))),globalThis.lectorSpace.onScrollEnd(e)}globalThis.lectorSpace=globalThis.lectorSpace||{};const greek_prefixes=["an","an","ap","di","dy","ec","eg","en","em","eo","ep","eu","id","is","my","ne","od","oo","ot","sy","ur","ur","zo","pto","pyl","acr","aer","agr","ana","ant","apo","aut","bar","bio","cac","cat","cen","cen","con","cub","cyn","dec","dek","dem","dia","dox","eco","ego","eme","eos","epi","erg","eso","eth","eur","exo","geo","gen","hem","hal","hen","hex","hod","hol","hor","hor","hyo","hyp","ide","idi","iso","kil","lei","lep","lip","log","meg","mei","men","mer","mes","mim","mis","mit","mne","mon","myx","nes","nom","oct","oed","oen","omm","ont","opt","pan","pam","par","ped","pin","pis","pol","por","pro","rhe","sei","sit","syn","syl","sym","tax","the","the","tom","ton","top","tox","tri","ulo","uro","uro","xen","xer","zon","zyg","psil","prot","pros","amph","anem","anti","anth","arct","astr","athl","auto","basi","bibl","briz","brom","brom","call","carp","carp","cata","chir","cine","cirr","clad","clav","coel","copr","cosm","crep","cris","crit","cten","cyan","cycl","cyst","deca","deka","delt","derm","dexi","dino","dipl","ecto","endo","engy","eoso","etho","ethi","ethm","ethn","etym","fant","glia","gram","gymn","haem","hapl","heli","hemi","hept","herp","heur","hipp","home","horm","hyal","hydr","hygr","hypn","icos","kine","lamp","leps","leuc","leuk","lith","metr","meta","micr","myri","myth","narc","naut","necr","nect","nema","neur","noth","noto","oeco","ogdo","olig","onom","ophi","orch","orth","pach","paed","pale","path","patr","pect","pent","pept","peri","petr","phae","phag","pher","phil","phob","phon","phor","phos","phot","phyl","phys","plac","plas","plec","plut","pneu","poie","pole","poli","poli","poly","raph","rhag","rhig","rhin","rhiz","rhod","sarc","scel","scop","sema","siph","soma","soph","stea","steg","sten","stig","stom","styl","tach","tars","taur","tele","tele","temn","tetr","than","thus","ther","thym","thyr","trag","trit","trop","xiph","proct","ptych","amphi","arche","archi","arche","arist","arthr","bathy","batho","blenn","blast","botan","brady","bront","calli","calyp","cardi","centr","ceram","cerat","chlor","chore","chrom","chron","chrys","clast","clist","cochl","corac","cotyl","crani","cross","crypt","dendr","dodec","dynam","ennea","gastr","graph","heter","homal","hyper","klept","lekan","macro","melan","meter","morph","nephr","nomad","odont","organ","osteo","palae","palin","peran","phleg","phloe","phren","phryn","phyll","plagi","platy","plesi","pleth","pleur","pogon","polem","potam","rhabd","rhomb","scaph","schem","schis","scler","scoli","scept","scyph","selen","solen","sperm","sphen","spher","stern","stich","stoch","taeni","techn","therm","thyre","traum","trema","trich","troch","troph","xanth","psych","archae","brachi","brachy","bronch","cathar","cephal","chelon","cleist","cosmet","cylind","dactyl","deuter","dogmat","erythr","galact","hendec","ichthy","mening","myrmec","omphal","opisth","opoter","ornith","ostrac","persic","phalar","phaner","phragm","plinth","prasin","presby","rhynch","scalen","strept","stroph","thalam","theori","trachy","trapez","tympan","aesthet","anthrop","branchi","cleithr","epistem","parthen","phalang","pharmac","porphyr","sacchar","sphinct","stalact","stalagm","thalass","oesophag","ophthalm","physalid","pentecost","treiskaidek"];function crush(e){return e<=1?4:e<=7?2/6*(e-1)+4:e<=8?1*(e-7)+6:3/8*(e-8)+7}function generateDifficultyIndex(e){let t=0,n=src(e.text);n.has("#Verb")&&(t+=.5),n.has("#Acronym")&&(t+=.8);let r=howGreek(e.text);return r>1&&(t+=r/10),Math.min(1,Math.min(t,1))}function wordValue(e,t){return crush(e.text.length)*(t+1)}function charsMsAt(e){return 1e3/(e/60*4.7)}function howGreek(e){let t=e.length;if(t<5)return 0;for(let n of greek_prefixes){if(n.length>=t-3)return 0;if(n==e.substring(0,n.length))return n.length}return 0}class PinkyPromise{constructor(e){let t=null,n=null;const r=new Promise(((r,a)=>(t=a,n=r,e(r,a))));return r.cancel=t,r.resolve=n,r}}class Idle{constructor(e){this.afkChain=new Map,this.activeChain=new Map,this.idleTime=e,this.isIdle=!1;["load","mousemove"].forEach((e=>{window.addEventListener(e,(e=>this.reset()))}))}generateActionKey(e){return null==e&&(e=this.afkChain.size),e}onAfk(e,t){return this.afkChain.set(this.generateActionKey(t),e),this}onActive(e,t){return this.activeChain.set(this.generateActionKey(t),e),this}reset(){return clearTimeout(this.t),this.t=setTimeout((()=>this.idle()),this.idleTime),this.active(),this}idle(){return!this.isIdle&&(this.isIdle=!0,doMap(this.afkChain),this)}active(){return!!this.isIdle&&(this.isIdle=!1,doMap(this.activeChain),this)}}function doMap(e){for(const[t,n]of e.entries())n()}function wfyInner$1(e){if(!e)return!1;(e=j(e)).textContent;let t="";for(let n of e.textContent.split(" ")){console.log(typeof n),t+=0!=n.replace(/\s/g,"").length?"<w>"+n.split(" ").join("</w> <w>")+"</w> ":n}e.html(t)}function wfyElement$1(e){let t=(e=j(e)).findAll("*");if(0==t.length)return wfyInner$1(wfyInner$1(e));t.forEach((e=>wfyElement$1(e)))}function wfy(e){let t=(e=j(e)).findAll("p, div, h1, h2, h3, h3, h4, h5, article, text");return 0==t.length?wfyElement$1(e):(t.forEach((e=>wfy(e))),!0)}const conf={threshold:8,divider:8};function airway(e=0,t=0){return t>conf.threshold?e:e*(conf.threshold-t)/conf.divider+e}function range(e,t,n){for(var r=[e],a=e;a<t;)r.push(a+=n||1);return r}function isClickWithin(e,t){let n=(t=j(t)).rect().x,r=t.rect().y,a=t.rect().width,i=t.rect().height;console.log(e,t.offset());let s=n<e.x&&n+a>e.x,o=r<e.y&&r+i>e.y;return s&&o}class PragmaLector extends N{constructor(){super(arguments)}get lector(){return this}get mark(){return this._mark}set mark(e){this.adopt(e),this._mark=e}get settings(){return this._settings}set settings(e){this.adopt(e),this._settings=e}get isReading(){return this.w.isReading}get currentWord(){return this.w.currentWord}get currentParent(){return this.currentWord.parent}connectTo(e){return this.w=e,this.add(e),this}removeWord(e){this.w.remove(e)}addWord(e,t=!1){return e.value=e.value??0,this.w.add(e),this}toggle(){return this.isReading?this.pause():this.read()}read(){if(E.log("::LECTOR reading",this),!this.w.hasKids)return console.error("nothing to read");this.w.read(!0)}summonTo(e){this.currentParent.value+=e,this.currentWord.summon()}goToNext(){this.summonTo(1)}goToPre(){this.summonTo(-1)}pause(){this.w.pause()}setFont(e){this.w.css(`font-family ${e}`)}}class PragmaWord extends N{constructor(e){super(e),this.do((function(){this.hasKids&&this.parent&&(this.parent.value=this.key)}))}destroy(){return this.childMap=null,null}get lector(){if(this.parent)return this.parent.lector;E.throwSoft("could not find lector for")}get txt(){return this.text}get index(){return parseInt(this.key)}get mark(){return this.parent?this.parent.mark:null}set mark(e){return this.parent&&(this.parent.mark=e),null}get isReading(){return null!=this.currentPromise}get currentWord(){if(!this.hasKids)return this;let e=this.get(this.value);return e?e.currentWord:E.throwSoft(`Could not find current Word of ${this.key}`)}getFromBottom(e){return this.get(this.kidsum-e)}sibling(e){if(!this.parent)return null;let t=this.parent.get(this.index+e);return t||("function"!=typeof this.parent.sibling?null:e<0?this.parent.sibling(-1).getFromBottom(e):this.parent.sibling(1)?.get(e))}get next(){return this.sibling(1)}get pre(){return this.sibling(-1)}isInTheSameLine(e){return null!=this.sibling(e)&&(this.sibling(e).top-this.top)**2<10}get isFirstInLine(){return!this.isInTheSameLine(-1)}get isLastInLine(){return!this.isInTheSameLine(1)}time(e=250){return charsMsAt(e)*wordValue(this,generateDifficultyIndex(this))}pause(){return new PinkyPromise((e=>{this.currentPromise?(this.currentPromise.catch((t=>{this.mark.pause().catch((e=>{console.warn("prevent pause event from bubbling. Chill on the keyboard bro",e)})).then((()=>{this.currentPromise=null,e("done pausing"),console.log("- - - - - PAUSED - - - - - - - -")}))})),this.currentPromise.cancel("pause")):e("already paused")}))}set currentPromise(e){if(this.parent)return this.parent.currentPromise=e;this.currentPromiseVal=new PinkyPromise(((t,n)=>{e.catch((e=>{console.warn(e)})).then((()=>{t(),this.currentPromiseVal=null}))}))}get currentPromise(){return this.parent?this.parent.currentPromise:this.currentPromiseVal}promiseRead(e){return this.currentPromise=new PinkyPromise(((t,n)=>{function r(){let r=e?500:null;this.mark.guide(this,r).then((()=>{console.timeEnd(this.text),this.parent.value=this.index+1,t(` read [ ${this.text} ] `)})).catch((e=>{console.warn("rejected promise read",e),n(e)}))}console.time(this.text);let a=this;e?new Promise((e=>{e()})).then((e=>{r.bind(a)()})):r.bind(a)()})),this.currentPromise}read(e=!1){return this.currentPromise?new Promise(((e,t)=>{e("already reading")})):this.hasKids?this.currentWord?this.currentWord.read(e):(this.next.value=0,this.next.read()):(this.promiseRead(e),new PinkyPromise((e=>{this.currentPromise.then((()=>(e(),this.currentPromise=null,this.parent.read()))).catch((t=>e("pause")))})))}summon(e=!1){return!this.hasKids&&(console.log("SUMMONING",this),this.parent.pause().catch((()=>console.log("no need to pause"))).then((()=>{this.mark.mark(this,50,!1),e||(this.parent.value=this.index)})))}}const reset="border 0\n               border-radius 3px\n               z-index 10\n               opacity 1\n               mix-blend-mode darken;",modes={hotbox:e=>`background ${e}`,underneath:e=>` background transparent\n                        border-bottom 3px solid ${e}\n                        border-radius 4px`,faded:e=>`\n      background: rgb(255,255,255);\n      background: -moz-linear-gradient(90deg, rgba(255,255,255,0) 0%, ${e} 25%, ${e} 75%, rgba(255,255,255,0) 100%);\n      background: -webkit-linear-gradient(90deg, rgba(255,255,255,0) 0%, ${e} 25%, ${e} 75%, rgba(255,255,255,0) 100%);\n      background: linear-gradient(90deg, rgba(255,255,255,0) 0%, ${e} 25%, ${e} 75%, rgba(255,255,255,0) 100%);\n    `};function grabMode(e,t){return reset+modes[e](t)}const mode_ify=(e,t=e._mode,n=e._color)=>{let r=grabMode(t=(t||"hotbox").toString().toLowerCase(),n);return e&&e.css(r),r},defaultStyles="\n  position absolute\n  outline solid 0px red\n  background-color #ffdf6c\n  width 10px\n  height 20px\n  z-index 10\n  opacity 1\n  mix-blend-mode darken\n  border-radius 3px\n";class PragmaMark extends N{constructor(){super("marker"),this.element=j("marker"),this.appendTo("body"),this.hide(),this.css(defaultStyles),this.currentlyMarking=null,window.addEventListener("resize",(()=>{this.mark(this.last_marked,0)})),this.runningFor=0,this.pausing=!1}hide(){this._hidden||(this._hidden=!0,this.element.hide())}show(){this._hidden&&(this._hidden=!1,this.element.show())}set last_marked(e){this.value=e}get last_marked(){return this.value}get settings(){return this.parent?this.parent.settings:console.error("mark has no settings attached")}get cw(){return 30*this._fovea}get wpm(){return this._wpm||260}setMode(e){this._mode=e,mode_ify(this)}setWpm(e){this._wpm=e}setColor(e){this._color=e,mode_ify(this)}setFovea(e){this._fovea=e,this.css(`width ${this.cw}px`)}pause(){return new Promise(((e,t)=>{if(this.pausing)return t("already pausing");if(this.pausing=!0,this.currentlyMarking&&this.current_anime&&this.last_marked){let n=this.last_marked;console.log("mark was running for",this.runningFor),this.runningFor=0,this.current_anime.complete(),this.current_anime.remove("marker"),this.mark(n,80,!1).then((()=>{e("paused")})).catch((e=>{t("could not mark")})).then((e=>{this.pausing=!1}))}}))}moveTo(e,t,n=(()=>{})){return console.log("moving to",e),this.show(),this.currentlyMarking?new Promise(((e,t)=>e())):new Promise(((r,a)=>{this.currentlyMarking=e,this.current_anime=anime({targets:this.element,left:e.left,top:e.top,height:e.height,width:e.width,easing:e.ease||"easeInOutExpo",duration:t,complete:e=>{this.currentlyMarking=null,n(),r()}})}))}mark(e,t=200,n=!1,r="easeInOutExpo"){if(!(e instanceof N))return new Promise((e=>{console.warn("cannot mark"),e("error")}));let a=n?e.width+5:this.cw;return this.moveTo({top:e.top,left:e.x(a),height:e.height,width:a,ease:r},t,(()=>{this.last_marked=e}))}guide(e,t){return e instanceof N?new PinkyPromise(((n,r)=>{let a=e.isFirstInLine?"easeInOutExpo":"linear";return this.moveTo({top:e.top,left:e.x(this.width)-e.width/2,height:e.height,width:this.cw,ease:a},t||this.calcDuration(e,1)).then((()=>{this.last_marked=e,this.runningFor+=1,this.mark(e,this.calcDuration(e,2),!1,"linear").then((()=>{n()}))}))})):new Promise(((e,t)=>{console.warn("cannot guide thru"),t("error")}))}calcDuration(e,t=1){if(!(e instanceof N))return this.throw(`Could not calculate marking duration for [${e}] since it does not appear to be a Pragma Object`);if(1!=t&&2!=t)return this.throw(`Could not calculate duration for ${e.text} since dw was not 1 or 2`);if(e.isFirstInLine)return 500;if(!this.last_marked)return 0;const n=1==t?.4:.6;let r=(1==t?this.last_marked:e).time(this.wpm);return[e=>e*n,airway].forEach((e=>{r=e(r,this.runningFor)})),r}}function paginator(e,t={}){return(new N).from(E.createTemplate({pageTemplate:e,fetch:"function"==typeof t.fetch?t.fetch:e=>{E.throwSoft("no fetch source specified")},onCreate:"function"==typeof t.onCreate?t.onCreate:e=>E.log("created",e),onFetch:t.onFetch,onPageAdd:null,onPageRender:null,onPageActive:"function"==typeof t.onPageActive?t.onPageActive:function(e,t){E.log("active",e)},onPageInactive:"function"==typeof t.onPageInactive?t.onPageInactive:function(e,t){E.log("inactive",e)}})).run((function(){let e=j(this.pageTemplate).hide();this.pageTemplate=e.cloneNode(!1),this._clonePage=function(){let e=j(this.pageTemplate.cloneNode(!1)).show();return this.adopt(e),e.lec=this.parent,E.createEventChains(e,"fetch"),e},this.create=function(e=this.value,n="append"){let r=this._clonePage();new Promise((n=>{this.onCreate(r,e);let a=this.fetch(e),i=t.onFetch||function(e,t){e.html(t),n(e)};const s=t=>{let r=this.pages.get(e);r&&(i(r,t),n(r))};a instanceof Promise?a.then((e=>{s(e)})):s(a)})).then((t=>{t.fetchChain.exec(),this.onPageRender&&this.onPageRender(t,e)})),r[`${n}To`](this.parent.element),this.addPage(r,e)},this.pages=new Map,this.destroy=function(e){let t=this.pages.get(e),n=n=>{t=this.pages.get(e),this.delPage(e),t.destroy()};if(this.onPageDestroy){let r=this.onPageDestroy(t,e);if(r instanceof Promise)return r.then(n)}n()},this.addPage=function(e,t){t=null===t?this.pages.size:t,this.onPageAdd&&this.onPageAdd(e,t),this.pages.set(t,e)},this.delPage=function(e){return this.pages.delete(e)},this.activate=function(...e){e.forEach((e=>{let t=this.pages.get(e);t&&(t.active=!0,this.onPageActive(t,e))}))},this.inactivate=function(...e){e.forEach((e=>{let t=this.pages.get(e);t&&(t.active=!1,this.onPageInactive(t,e))}))},this.export("pageTemplate","_clonePage","create","destroy","pages","addPage","delPage","activate","inactivate")}))}function infinityPaginator(e,t,n={}){return W("infinity paginator").from(paginator(t,E.objDiff({streamer:e,fetch:e.fetch},n))).setValue(0).run({initialConfig(){this._watching=!0;const e=10,t=5;this.fill=function(){this.fetching=!0;let n=range(this.value>=e?this.value-e:0,this.value+e),r=Array.from(this.pages.keys()),a=E.aryDiff(n,r),i=E.aryDiff(r,n),s=a.filter((e=>e>this.value)),o=E.aryDiff(a,s);console.log(">> DEL",i),console.log(">> ADD AFTER",s),console.log(">> ADD BEFORE",o),B((e=>{for(let e of s)this.create(e,"append")}),(e=>{for(let e of o.reverse())this.create(e,"prepend")}),(e=>{for(let e of i)this.destroy(e)})),setTimeout((e=>{this.fetching=!1,console.log(this.pages)}),t)}},scrollSetup(){this.goTo=function(e,t){this.value;let n=this;this.value!=e&&(this.value=e);let r=this.pages.get(e);r.onRender((function(){n._watching=!1,scrollTo(r,t||20).then((()=>{n._watching=!0}))}))},this.export("goTo")},findActivePages(){this.findActivePage=function(e,t){return new PinkyPromise((t=>{t(function(e,t){let n=null,r=999999999999;const a=t+window.innerHeight/2;for(let[t,i]of e){let e=i.top+i.height/2,s=Math.abs(e-a);s<=r&&(r=s,n=t)}return n}(this.pages,e))}))};let e=!1,t=!1;const n=(r,a)=>{if(!this.fetching&&this._watching){if(e)return t={pos:r,dp:a};e=!0,this.findActivePage(r,a).then((r=>{this.value=r,e=!1,t&&(n(t.pos,t.dp),t=null)}))}};onScrollEnd(((e,t)=>{n(e,t)})),onScroll(((e,t)=>{Math.abs(t)>40&&e<350&&n(e,t)}))}}).do((function(){if(0===this.dv)return;this.activate(this.value);let e=this.value-(this.dv||1);this.inactivate(e),this.fill()}))}const defaults={onOptionCreate:function(e,t){e.contain(t)},optionTemplate:function(e){return W(e).html(e).addClass("pragma-click").on("click").do((function(){this.parent.value=this.key}))}};function select(e){let t=e.options;if(!t)return E.throwSoft("need to define options when creating a select template");let n=e.onOptionCreate||defaults.onOptionCreate,r=e.optionTemplate||defaults.optionTemplate;if(t.constructor===Array)for(let e of t){let t=r(e);t._isOption=!0,n(this,t)}else for(let[e,a]of Object.entries(t)){const t={[e]:a};n(this,r(e,a),t)}this.getOptions=function(){return console.log(this.children),this.children.filter((e=>e._isOption))}}var full='@charset "utf-8";body{background-color:#161616}',slider='@charset "utf-8";.pragma-slider{user-select:none;cursor:grab}.pragma-slider:active{cursor:grabbing}.pragma-slider-bg{width:100%;height:5px;background:#6F6F6F;border-radius:15px}.pragma-slider-bar{height:100%;width:100%;background:#2B6CCE;position:relative;transition:all .05s ease;border-radius:15px}.pragma-slider-thumb{width:5px;height:18px;background:#2b6cce;transition:all .05s ease;position:absolute;right:0;top:50%;bottom:50%;margin:auto}',main="@charset \"utf-8\";@import url(https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300&display=swap);@import url(https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;400;600;700&display=swap);.glass-block,.lector-mini-settings,.glass-block-border{background:rgba(35,35,35,0.55);backdrop-filter:blur(22px);-webkit-backdrop-filter:blur(22px);border-radius:5px;padding:20px 40px;color:whitesmoke}.glass-block-border{border:1px solid rgba(255,255,255,0.18)}.fixed-bottom-box,.lector-mini-settings,.lector-settings{position:fixed;bottom:20px}.lector-settings .pop-up-settings{background-color:#262626;border-radius:5px;left:-10px;transition:all .2s;padding:20px 5px 11px 5px;margin-left:10px;font-family:'Poppins','Inter','Arial Narrow',Arial,sans-serif;width:200px;margin-bottom:10px}.lector-settings .pragma-input-element{display:flex;flex-direction:column;width:fit-content;justify-content:center}.lector-settings .section{margin:20px 0}.lector-settings .section:hover>.pragma-label{opacity:1}.lector-settings .section .pragma-label{opacity:0;transition:all .2s ease;position:absolute;left:25%;margin-top:-55px;font-size:12px;color:whitesmoke}.lector-settings .section .pragma-label .option-title{color:rgba(199,199,199,0.92)}.lector-settings .selector,.lector-settings .selector-fovea,.lector-settings .selector-mode{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center;align-content:stretch;width:fit-content;border-radius:4px;overflow:hidden}.lector-settings .selector-mode{padding:0;color:#262626;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center;align-content:center;left:-7%;top:-70px}.lector-settings .selector-fovea{width:130px;height:45px;left:-9%;top:-70px;z-index:45678;margin-right:9px}.lector-settings .setting,.lector-settings .setting-wpm{width:100%;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-around;align-items:center;align-content:stretch}.lector-settings .setting .setting-icon,.lector-settings .setting-wpm .setting-icon{width:35px;height:35px}.lector-settings .setting-wpm{border-radius:5px;left:-10px;transition:all .2s;margin-left:20px;font-family:'Poppins','Inter','Arial Narrow',Arial,sans-serif;width:125px;position:relative}.lector-settings .setting-wpm .speed-adjust{width:10px}.lector-settings .setting-wpm .speed-adjust .adjusticon{width:10px;height:20px}.lector-settings .setting-wpm::before{content:\"\";position:absolute;height:30px;width:1px;background-color:#6F6F6F;left:-10px}.lector-settings .settings-bar{background-color:#262626;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-around;align-items:center;align-content:stretch;margin-left:10px;padding:5px 0 5px 10px;border-radius:5px;width:200px}.lector-settings .settings-bar-icon{width:25px;height:25px;position:relative;cursor:pointer}.lector-settings .wpm-icon{color:#fff;opacity:65%;font-size:28px;line-height:45px;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.lector-settings .wpm-icon:hover{opacity:100%;transition:all ease .1s}.lector-settings .color-indicator{width:25px;height:25px;background-color:#a8f19a;border-radius:50%}.lector-settings .mode-indicator{mix-blend-mode:normal !important;width:35px;height:25px}.lector-settings .modeOption{width:45px;height:25px;padding:10px 1px;display:flex;align-items:center;justify-content:center;background-color:transparent !important}.lector-settings .modeOption.inactive{background-color:transparent !important;opacity:.5 !important}.lector-settings .modeOption.active{opacity:1 !important}.lector-settings .modeOption.active::before{content:none}.lector-settings .modeOption .mini-pointer{height:70%;width:70%}.lector-settings .color-option{width:22px;height:22px;border-radius:25px;margin:5px 6px}.lector-settings .displayN{display:none}.lector-settings #underneath{margin:0 !important;position:relative}.lector-settings #mode{margin:35px 0;position:relative}.lector-settings #mode::before{width:70%;height:1px;background-color:#6F6F6F;content:\"\";position:absolute;top:-14px}.lector-settings #mode::after{width:70%;height:1px;background-color:#6F6F6F;content:\"\";position:absolute;bottom:-22px}.lector-settings #fovea{height:fit-content}.lector-settings #fovea .pragma-label{margin-top:-25px}.lector-settings #wpm .pragma-label{position:relative;left:0;margin:0;opacity:1;font-size:18px}.lector-mini-settings{right:-10px;padding-right:40px}.lector-mini-settings .section{margin-top:25px;margin-bottom:25px}.settings-input{display:flex;flex-direction:column;align-items:center}.pragma-input-text{font-family:'IBM Plex Mono',monospace;font-size:22px;border-style:none;outline:none;color:whitesmoke;border-radius:2px;background-color:transparent;text-align:center}.pragma-input-text:hover{background:#393939}.active-select-template{display:flex;flex-direction:row;flex-wrap:no wrap;justify-content:space-around;align-items:center;width:100%}.active-select-template .option{user-select:none;cursor:pointer}.active-select-template .active{opacity:1 !important;background-color:gray;position:relative;transform-style:preserve-3d}.active-select-template .active::after{height:32px;top:-6px;left:-10px}.active-select-template .active::before{width:30px;height:30px;top:-4px;border-radius:2px;left:-4px;background-color:#6F6F6F;position:absolute;border-radius:50%;content:\"\";z-index:-1;transform:translateZ(-1px);transition:ease all .2s;-webkit-transition:all 1s;-moz-transition:all 1s;animation:sheen 1s forwards}.active-select-template .inactive{background-color:#1a1a1a}.word-element{cursor:pointer;transition:all .05s ease}.word-element.hover-0{background-color:lightblue}.word-element.hover-1{background-color:rgba(184,184,184,0.249)}.word-element.hover-2{background-color:rgba(184,184,184,0.119)}",css={full:full,slider:slider,main:main};function slider$1(e={}){this._n=function(){let e=this.range||{min:1,max:100};return 100/(e.max||100-e.min||1)},this.do((function(){this.element.setData({value:this.value}),this._setBarTo(this.value*this._n())})),this._setBarTo=e=>{this._bar.css(`width ${e}%`),this._thumb.offset()},this._clipValue=e=>{let t=Math.round(e/this._n());this._lv!==t&&(this.value=t)},this._input=j("div.").addClass("pragma-slider-bg"),this._bar=j("div.").addClass("pragma-slider-bar"),this._thumb=j("div.pragma-slider-thumb"),this._bar.append(this._thumb),this._input.append(this._bar);let t=function(){this._clicked=!0};this._input.listenTo("mousedown",t),this._thumb.listenTo("mousedown",t),document.addEventListener("mouseup",(()=>{this._input._clicked=!1}));let n=!1;document.addEventListener("mousemove",(e=>{this._input._clicked&&!n&&(window.requestAnimationFrame((()=>{n=!1;let t=e.pageX-this._input.offset().left,r=Math.round(100*Math.min(t/this._input.rect().width,1));this._clipValue(r)})),n=!0)})),this.adopt(this._input),this.append(this._input),this.element.addClass("pragma-slider")}function input(e={}){E.createChains(this,"userInput"),this.input=j("<input type='text'></input>").addClass("pragma-input-text"),this.setValue=function(e){let t=this.valueSanitizer?this.valueSanitizer(e):e;if(t!==this._lv)return this.value=t,this.value!=t&&this.updateFront(),this},this.input.listenTo("focus",(function(){this.parent._listenToEsc=document.addEventListener("keydown",(e=>{"Enter"===e.key&&this.blur()}))})),this.input.listenTo("focusout",(function(){this.parent.setValue(this.value),this.parent.userInputChain.exec(this.parent.value),document.removeEventListener("keydown",this.parent._listenToEsc)})),this.adopt(this.input),this.append(this.input),this.setMonitorTemplate=function(e){return this._monitorTemplate=e,this},this.updateFront=function(e=this.value){this.input.value=this._monitorTemplate?this._monitorTemplate(e):e,this.input.placeholder=e},this.do((function(){this.updateFront(this.value)})),this.setInputAttrs=function(e){for(let[t,n]of Object.entries(e))this.input.attr(t,n);return this},this.setValueSanitizer=function(e){return this.valueSanitizer=e,this}}function withLabel(e={}){this.setLabel=function(e){return this._label.html(e),this},this._label=j("div.pragma-label",e.label),this.append(this._label)}function _createIdler(e,t,n){return new Idle(e).onAfk((()=>{console.log("user is afk"),t&&t()})).onActive((()=>{console.log("user is back"),n&&n()}))}function idler(){E.createChains(this,"idle","active"),this.setIdleTime=function(e=5e3){return this._idler=_createIdler(e,(()=>{this.idleChain.exec()}),(()=>{this.activeChain.exec()})),this},this.extend("onIdle",(function(){return this._onIdle(...arguments),this})),this.extend("onActive",(function(){return this._onActive(...arguments),this}))}E.addStyles(css.slider);class Scaler extends N{constructor(e){super(),this.target=e,this.target.css("transition transform .07s ease"),this.value=100,this.do((function(){this.scaleTo(this.value)})),this.setRange(10,400)}setTarget(e){return this.target=e,this}set scaleStep(e){this._scaleStep=e}get scaleStep(){return this._scaleStep||5}scaleUp(){this.value+=this.scaleStep}scaleDown(){this.value-=this.scaleStep}scaleTo(e){this.target.css(`transform scale(${e/100})`)}}const colorsHumanFriendly={"#a8f19a":"bez","#eddd6e":"roz","#edd1b0":"mua","#96adfc":"fua"},colors=Object.keys(colorsHumanFriendly),fonts=["Helvetica","Open Sans","Space Mono"],modes$1=["HotBox","Underneath","Faded"];var shc={wpmPlus:["+","="],wpmMinus:["-"],pageNext:"]",pagePre:"[",scaleUp:"mod+=",scaleDown:"mod+-"},icons={"speed-increase":'<svg width="17" height="9" viewBox="0 0 17 9" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M8.5 0L17 7.89474L15.81 9L8.5 2.21053L1.19 9L0 7.89474L8.5 0Z" fill="white"/>\n</svg>\n',"speed-decrease":'<svg width="17" height="9" viewBox="0 0 17 9" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M8.5 9L2.13343e-07 1.10526L1.19 -1.40286e-06L8.5 6.78947L15.81 -1.24738e-07L17 1.10526L8.5 9Z" fill="white"/>\n</svg>\n',"mode-icon":'<svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M22.75 3.5H5.25C4.78603 3.50053 4.34122 3.68508 4.01315 4.01315C3.68508 4.34122 3.50053 4.78603 3.5 5.25V22.75C3.50053 23.214 3.68508 23.6588 4.01315 23.9868C4.34122 24.3149 4.78603 24.4995 5.25 24.5H22.75C23.214 24.4995 23.6588 24.3149 23.9868 23.9868C24.3149 23.6588 24.4995 23.214 24.5 22.75V5.25C24.4995 4.78603 24.3149 4.34122 23.9868 4.01315C23.6588 3.68508 23.214 3.50053 22.75 3.5ZM19.25 22.75V19.25H15.75V22.75H12.25V19.25H8.75V15.75H12.25V12.25H8.75V8.75H12.25V5.25H15.75V8.75H19.25V5.25H22.75V22.75H19.25Z" fill="#909090"/>\n<path d="M15.75 8.75H12.25V12.25H15.75V8.75Z" fill="#909090"/>\n<path d="M15.75 15.75H12.25V19.25H15.75V15.75Z" fill="#909090"/>\n<path d="M19.25 12.25H15.75V15.75H19.25V12.25Z" fill="#909090"/>\n</svg>\n',"speed-icon":'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M22.4979 15.7501C22.4969 13.7461 21.9163 11.7851 20.8261 10.1035L19.7422 11.1875C20.564 12.5675 20.9978 14.1439 20.9979 15.7501L22.4979 15.7501Z" fill="#909090"/>\n<path d="M21 7.8105L19.9394 6.75L13.5143 13.1752C13.057 12.8997 12.5338 12.7528 12 12.75C11.4067 12.75 10.8266 12.9259 10.3333 13.2556C9.83994 13.5852 9.45543 14.0538 9.22836 14.602C9.0013 15.1501 8.94189 15.7533 9.05765 16.3353C9.1734 16.9172 9.45912 17.4518 9.87868 17.8713C10.2982 18.2909 10.8328 18.5766 11.4147 18.6924C11.9967 18.8081 12.5999 18.7487 13.1481 18.5216C13.6962 18.2946 14.1648 17.9101 14.4944 17.4167C14.8241 16.9234 15 16.3433 15 15.75C14.9972 15.2162 14.8503 14.693 14.5748 14.2357L21 7.8105ZM12 17.25C11.7033 17.25 11.4133 17.162 11.1666 16.9972C10.92 16.8324 10.7277 16.5981 10.6142 16.324C10.5007 16.0499 10.4709 15.7483 10.5288 15.4574C10.5867 15.1664 10.7296 14.8991 10.9393 14.6893C11.1491 14.4796 11.4164 14.3367 11.7074 14.2788C11.9983 14.2209 12.2999 14.2506 12.574 14.3642C12.8481 14.4777 13.0824 14.67 13.2472 14.9166C13.412 15.1633 13.5 15.4533 13.5 15.75C13.4995 16.1477 13.3414 16.529 13.0602 16.8102C12.779 17.0914 12.3977 17.2495 12 17.25Z" fill="#909090"/>\n<path d="M12 6.75002C13.6061 6.75077 15.1822 7.18457 16.5625 8.00574L17.6527 6.91554C16.0679 5.89651 14.2378 5.32343 12.3548 5.2566C10.4719 5.18976 8.60573 5.63164 6.95268 6.53575C5.29964 7.43986 3.92082 8.77277 2.96128 10.3943C2.00174 12.0158 1.49695 13.8659 1.50001 15.75L3.00001 15.75C3.00273 13.3639 3.95182 11.0763 5.63906 9.38906C7.32629 7.70182 9.6139 6.75274 12 6.75002Z" fill="#909090"/>\n</svg>\n',"color-icon":'<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M19.75 0.5L2.25 0.5C1.78605 0.500579 1.34127 0.685139 1.0132 1.0132C0.685139 1.34127 0.500579 1.78605 0.5 2.25L0.5 19.75C0.500579 20.214 0.685139 20.6587 1.0132 20.9868C1.34127 21.3149 1.78605 21.4994 2.25 21.5L19.75 21.5C20.214 21.4994 20.6587 21.3149 20.9868 20.9868C21.3149 20.6587 21.4994 20.214 21.5 19.75L21.5 2.25C21.4994 1.78605 21.3149 1.34127 20.9868 1.0132C20.6587 0.685139 20.214 0.500579 19.75 0.5ZM2.25 19.75L19.75 2.25L19.75 19.75L2.25 19.75Z" fill="#919191"/>\n</svg>\n',"fovea-icon":'<svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M26.249 14L19.249 21L18.0117 19.7628L23.7745 14L18.0117 8.23725L19.249 7L26.249 14Z" fill="#909090"/>\n<path d="M14 19.25C13.8851 19.2502 13.7713 19.2276 13.6651 19.1836C13.559 19.1396 13.4625 19.075 13.3814 18.9937L9.00641 14.6187C8.92512 14.5374 8.86064 14.441 8.81664 14.3349C8.77265 14.2287 8.75 14.1149 8.75 14C8.75 13.8851 8.77265 13.7714 8.81664 13.6652C8.86064 13.5591 8.92512 13.4626 9.00641 13.3814L13.3814 9.00641C13.4626 8.92512 13.5591 8.86064 13.6652 8.81664C13.7713 8.77265 13.8851 8.75 14 8.75C14.1149 8.75 14.2287 8.77265 14.3349 8.81664C14.441 8.86064 14.5374 8.92512 14.6187 9.00641L18.9937 13.3814C19.0749 13.4626 19.1394 13.5591 19.1834 13.6652C19.2274 13.7714 19.2501 13.8851 19.2501 14C19.2501 14.1149 19.2274 14.2287 19.1834 14.3349C19.1394 14.441 19.0749 14.5374 18.9937 14.6187L14.6187 18.9937C14.5375 19.075 14.4411 19.1396 14.3349 19.1836C14.2288 19.2276 14.115 19.2502 14 19.25ZM10.8624 14L14 17.1377L17.1377 14L14 10.8624L10.8624 14Z" fill="#909090"/>\n<path d="M1.75 14L8.75 7L9.98725 8.23725L4.2245 14L9.98725 19.7628L8.75 21L1.75 14Z" fill="#909090"/>\n</svg>\n',"settings-icon-white":'<svg width="28" height="24" viewBox="0 0 28 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M27.0474 3.86392H23.0869C22.6039 1.64217 20.672 0 18.3536 0C16.0353 0 14.1033 1.64217 13.6203 3.86392H0V5.79588H13.6203C14.1033 8.01763 16.0353 9.65979 18.3536 9.65979C20.672 9.65979 22.6039 8.01763 23.0869 5.79588H27.0474V3.86392ZM18.3536 7.72784C16.7114 7.72784 15.4557 6.47206 15.4557 4.8299C15.4557 3.18773 16.7114 1.93196 18.3536 1.93196C19.9958 1.93196 21.2516 3.18773 21.2516 4.8299C21.2516 6.47206 19.9958 7.72784 18.3536 7.72784Z" fill="white"/>\n<path d="M0 19.3193H3.96052C4.44351 21.5411 6.37547 23.1832 8.69382 23.1832C11.0122 23.1832 12.9441 21.5411 13.4271 19.3193H27.0474V17.3874H13.4271C12.9441 15.1656 11.0122 13.5234 8.69382 13.5234C6.37547 13.5234 4.44351 15.1656 3.96052 17.3874H0V19.3193ZM8.69382 15.4554C10.336 15.4554 11.5918 16.7112 11.5918 18.3533C11.5918 19.9955 10.336 21.2513 8.69382 21.2513C7.05165 21.2513 5.79588 19.9955 5.79588 18.3533C5.79588 16.7112 7.05165 15.4554 8.69382 15.4554Z" fill="white"/>\n</svg>\n'};function activate(e,t){e.find(t).addClass("active").removeClass("inactive")}function deactivate(e,t){e.find(t).removeClass("active").addClass("inactive")}function activeSelectTpl(e){select.bind(this)(E.objDiff({onOptionCreate:(e,t)=>{e.contain(t),t.addClass("option"),deactivate(e,t.key)}},e)),this.addClass("active-select-template").do((function(){this.value!==this._lv&&(activate(this,this.value),this._lv&&deactivate(this,this._lv))}))}function lectorSettings(e){const t={changeColor(t=this.value){i.update(t),l.update(t),j("body").findAll("[data-lector-marker-color]").forEach((e=>{e.css(`${e.getData("lectorMarkerColor")} ${t}`)})),e.mark.setColor(t)},changeFovea(t=this.value){e.mark.setFovea(t)},changeWpm(t=this.value){e.mark.setWpm(t)},changeFont(t=this.value){e.setFont(t)},changeMode(t=this.value){e.mark.setMode(t),j("body").findAll("[data-lector-marker-mode]").forEach((n=>{mode_ify(n,t,e.mark._color)}))},changePage(t=this.value){e.paginator&&e.paginator.goTo(t)},changeScale(t=this.value){e.scaler&&e.scaler.scaleTo(t)}};let n=W("settingsWrapper").addClass("items-center","lector-settings").run((function(){this.value={},this._setVal=function(e){this.value=E.objDiff(this.value,e)},this.set=function(e){this._setting=!0;for(let[t,n]of Object.entries(e)){let e=this.find("!"+t);e&&(e.value=n)}this._setting=!1},this.get=function(e){return this.value[e]}}));let r=W().as(j(icons["mode-icon"])).addClass("setting-icon");W("monitor").as(j("div.")).addClass("mode-indicator").setData({lectorMarkerMode:"true"});let a=W("!mode").run((function(){activeSelectTpl.bind(this)({options:modes$1,optionTemplate:e=>W(e).addClass("modeOption").on("click").do((function(){this.parent.value=this.key})).run((function(){this._miniPointer=j("div.mini-pointer#"),this.append(this._miniPointer),this.update=function(t){mode_ify(this._miniPointer,e,t),this._miniPointer.css("mix-blend-mode normal")}}))})})).run((function(){this.update=e=>{console.log("my options",this.getOptions()),this.getOptions().forEach((t=>t.update(e))),console.log(this.children)}})).addClass("selector-mode").do(t.changeMode),i=W().contain(r,a).addClass("setting").css("position relative").run((function(){this.update=a.update})),s=W().as(j(icons["fovea-icon"])).addClass("setting-icon");W("monitor").as(j("div.")).addClass("color-indicator").setData({lectorMarkerColor:"background"});let o=W("!fovea").addClass("selector-fovea").run(slider$1).setRange(2,10).setValue(5).css("").do(t.changeFovea).run((function(){this.update=e=>{this._bar.css("")}})),l=W().contain(s,o).addClass("setting").css("position relative").run((function(){this.update=o.update})),c=W("!color").run((function(){activeSelectTpl.bind(this)({options:colors,optionTemplate:e=>W(e).css(`background-color ${e} `).addClass("color-option").on("click").do((function(){this.parent.value=this.key}))})})).addClass("selector").do(t.changeColor),u=W().as(j(icons["color-icon"])).css("width 25px; height 25px;").addClass("setting-icon");W("monitor").as(j("div.")).addClass("color-indicator").setData({lectorMarkerColor:"background"});let h=W().contain(u,c).addClass("setting").css("position relative"),d=W("popupsettings").contain(h.setId("color"),i.setId("mode"),l.setId("fovea")).addClass("pop-up-settings").run((function(){this.show=function(){this.hidden=!1,this.element.show()},this.hide=function(){this.hidden=!0,this.element.hide()},this.toggle=function(){this.hidden?this.show():this.hide()},this.show()})).bind("h",(function(){this.toggle()})),p=W().as(j(icons["speed-icon"])).css("width 25px; height 25px;").addClass("setting-icon"),g=W().as(j(icons["speed-increase"])).addClass("setting-wpm-adjusticon").on("click").do((e=>{v.value+=10})),f=W().as(j(icons["speed-decrease"])).addClass("setting-wpm-adjusticon").on("click").do((e=>{v.value-=10})),m=W("wpmAdjustPragma").contain(g,f).addClass("speed-adjust"),v=W("!wpm").run(input,withLabel).addClass("settings-input").setInputAttrs({maxlength:4,size:4}).setValueSanitizer((e=>parseInt(e))).setId("wpm").setRange(40,4200).setValue(250).bind(shc.wpmPlus,(function(){this.value+=10})).bind(shc.wpmMinus,(function(){this.value-=10})).do(t.changeWpm),b=W().contain(p,v,m).addClass("setting-wpm").run((function(){this.update=v.update})),y=W().as(j(icons["settings-icon-white"])).addClass("settings-bar-icon").run((function(){this.setPopupEditor=function(e){return this._popupEditor=e,this._popupEditor.addClass("displayN"),this},this.element.listenTo("click",(e=>{this._popped=e,this._popupEditor.removeClass("displayN")})),this.element.onRender((()=>{let e=this;document.addEventListener("click",(function(t){if(console.log(t,e._popped),e._popped===t)return null;isClickWithin(t,e._popupEditor)||e._popupEditor.addClass("displayN")}))}))})).setPopupEditor(d),A=W().contain(y,b).addClass("settings-bar"),_=W("!page").run(input,withLabel).setInputAttrs({maxlength:4,size:4}).addClass("settings-input","section").setValueSanitizer((e=>parseInt(e))).setLabel("page").run((function(){E.createChains(this,"userEdit"),this.editValue=function(e){this.value=e,this.userEditChain.exec(this.value)},this.onUserEdit(t.changePage)})).run((function(){this.onUserInput((e=>{this.editValue(e)}))})).setValue(1).bind(shc.pageNext,(function(){this.editValue(this.value+1)}),"keyup").bind(shc.pagePre,(function(){this.editValue(this.value-1)}),"keyup"),w=W("!scale").run(input,withLabel).setInputAttrs({maxlength:3,size:4}).addClass("settings-input","section").setValueSanitizer((e=>parseInt(e))).setLabel("scale").run((function(){E.createChains(this,"userEdit"),this.editValue=function(e){this.value=e,this.userEditChain.exec(this.value)},this.onUserEdit(t.changeScale)})).run((function(){this.onUserInput((e=>{console.log(e),this.editValue(e)}))})).setValue(100).bind(shc.scaleUp,(function(){return this.editValue(this.value+5),!1})).bind(shc.scaleDown,(function(){return this.editValue(this.value-5),!1})),k=W("mini-settings").addClass("lector-mini-settings").contain(w,_).pragmatize();n.contain(d,A),n.adopt(k);let x=W("fader").run(idler,(function(){this.elements=[],this.include=function(){return this.elements=this.elements.concat(Array.from(arguments)),this}})).setIdleTime(3e3).include(n,k).onIdle((function(){this.elements.forEach((e=>{e.css("opacity 0")}))})).onActive((function(){this.elements.forEach((e=>e.css("opacity 1")))}));return n.fader=x,n.allChildren.forEach((e=>{(e=>e.key&&0===e.key.indexOf("!"))(e)&&e.do((t=>n._setVal({[e.key.substring(1)]:e.value})))})),n.do((function(){this._setting||console.log("syncing",this.value)})),n.set({color:colors[1],font:fonts[1],mode:modes$1[2],fovea:4,wpm:420}),n.pragmatize()}const default_options={wfy:!0,pragmatizeOnCreate:!0,experimental:!1,settings:!1,defaultsStyles:!0},Mark=e=>{let t=new PragmaMark;let n=!1,r=0;function a(){return r-Date.now()>-10}let i=0;return onScroll((t=>{if(r=n?r:Date.now(),a()&&e.isReading){let n=Math.abs(i-t);i=t,n>40&&e.pause()}})),t.on("mouseover",(function(){console.log(this,"hover")})),t.do((function(e){}),(function(r){if(a()||isOnScreen(t.element)||n)return!1;n=!0;let i=[];e.isReading&&(e.pause(),i.push((()=>{e.read()}))),i.push((()=>{})),scrollTo(t).then((()=>{i.forEach((e=>e())),n=!1}))})),t},Word=(e,t,n={shallow:!1})=>{let r=new PragmaWord(t).as(e).setValue(0);function a(e){function t(e,t){e.toggleClass(`hover-${t}`)}!function e(n,r=1,a=0){if(t(n,a),n.isInTheSameLine(1)&&r>a){e(n.next,r,a+1)}}(e,2),function e(n,r=1,a=0){if(a>0&&t(n,a),n.isInTheSameLine(-1)&&r>a){e(n.pre,r,a+1)}}(e,2)}let i=r.element.findAll("w");return t&&0===i.length&&(r.addClass("word-element"),r.addListeners({click:function(e,t){this.summon()},mouseover:function(){a(this)},mouseout:function(){a(this)}})),n.shallow||i.forEach(((e,t)=>{let n=Word(e,t,{shallow:!0});r.add(n)})),r},Reader=(e,t=default_options)=>{e=j(e),t.wfy&&wfy(e);let n=Word(e),r=new PragmaLector("lector").as(e).setValue(0).connectTo(n);return r.mark=Mark(r),t.settings&&(r.settings=lectorSettings(r)),t.pragmatizeOnCreate&&r.pragmatize(),t.experimental&&globalThis.pragmaSpace.mousetrapIntegration&&(r.bind("right",(e=>r.goToNext())),r.bind("left",(e=>r.goToPre())),r.bind("space",(e=>!1),"keydown"),r.bind("space",(function(){return this.toggle(),!1}),"keyup")),r};function _needWrapper(e){return e.stream||e.paginate}function _streamer(e){return W("streamer").setValue(0).run((function(){this.fetch=e,this.getContent=function(){return this.fetch(this.value)}}))}const Lector=(e,t=default_options)=>{if(!_needWrapper(t))return Reader(e,t);if(E.log("configuration appears to be a bit more complicated"),t.defaultStyles&&E.addStyles(css.main),t.fullStyles&&E.addStyles(css.full),!t.experimental)return console.log("EXPERIMENTAL FEATURES TURNED OFF");let n;if(t.stream&&t.paginate&&"stream"===t.paginate.from&&"infiniteScroll"===t.paginate.as){E.log("setting up streamer service");let r=_streamer(t.stream),a=infinityPaginator(r,e,t.paginate.config||{});if(n=Reader(j(e).parentElement,t).adopt(a,r),n.paginator=a,n.settings){console.log("lector has settings! connecting paginator's value to pagecomp"),n.settings.find("!page").wireTo(n.paginator)}console.log("paginator",a),a.fill()}if(t.scaler){let e=new Scaler(n.element);if(e.scaleUp(),n.adopt(e),n.scaler=e,n.settings){console.log("lector has settings! connecting scaler's value to scalercomp");let e=n.settings.find("!scale");e&&e.wireTo(n.scaler)}}return n};var mousetrap=createCommonjsModule$1((function(e){!function(t,n,r){if(t){for(var a,i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},l={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},c=1;c<20;++c)i[111+c]="f"+c;for(c=0;c<=9;++c)i[c+96]=c.toString();m.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},m.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},m.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},m.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},m.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(f(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},m.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},m.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);a=null},m.init=function(){var e=m(n);for(var t in e)"_"!==t.charAt(0)&&(m[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},m.init(),t.Mousetrap=m,e.exports&&(e.exports=m)}function u(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function h(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return i[e.which]?i[e.which]:s[e.which]?s[e.which]:String.fromCharCode(e.which).toLowerCase()}function d(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function p(e,t,n){return n||(n=function(){if(!a)for(var e in a={},i)e>95&&e<112||i.hasOwnProperty(e)&&(a[i[e]]=e);return a}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function g(e,t){var n,r,a,i=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),a=0;a<n.length;++a)r=n[a],l[r]&&(r=l[r]),t&&"keypress"!=t&&o[r]&&(r=o[r],i.push("shift")),d(r)&&i.push(r);return{key:r,modifiers:i,action:t=p(r,i,t)}}function f(e,t){return null!==e&&e!==n&&(e===t||f(e.parentNode,t))}function m(e){var t=this;if(e=e||n,!(t instanceof m))return new m(e);t.target=e,t._callbacks={},t._directMap={};var r,a={},i=!1,s=!1,o=!1;function l(e){e=e||{};var t,n=!1;for(t in a)e[t]?n=!0:a[t]=0;n||(o=!1)}function c(e,n,r,i,s,o){var l,c,u,h,p=[],g=r.type;if(!t._callbacks[e])return[];for("keyup"==g&&d(e)&&(n=[e]),l=0;l<t._callbacks[e].length;++l)if(c=t._callbacks[e][l],(i||!c.seq||a[c.seq]==c.level)&&g==c.action&&("keypress"==g&&!r.metaKey&&!r.ctrlKey||(u=n,h=c.modifiers,u.sort().join(",")===h.sort().join(",")))){var f=!i&&c.combo==s,m=i&&c.seq==i&&c.level==o;(f||m)&&t._callbacks[e].splice(l,1),p.push(c)}return p}function p(e,n,r,a){t.stopCallback(n,n.target||n.srcElement,r,a)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function f(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=h(e);n&&("keyup"!=e.type||i!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):i=!1)}function v(e,t,n,s){function c(t){return function(){o=t,++a[e],clearTimeout(r),r=setTimeout(l,1e3)}}function u(t){p(n,t,e),"keyup"!==s&&(i=h(t)),setTimeout(l,10)}a[e]=0;for(var d=0;d<t.length;++d){var f=d+1===t.length?u:c(s||g(t[d+1]).action);b(t[d],f,s,e,d)}}function b(e,n,r,a,i){t._directMap[e+":"+r]=n;var s,o=(e=e.replace(/\s+/g," ")).split(" ");o.length>1?v(e,o,n,r):(s=g(e,r),t._callbacks[s.key]=t._callbacks[s.key]||[],c(s.key,s.modifiers,{type:s.action},a,e,i),t._callbacks[s.key][a?"unshift":"push"]({callback:n,modifiers:s.modifiers,action:s.action,seq:a,level:i,combo:e}))}t._handleKey=function(e,t,n){var r,a=c(e,t,n),i={},u=0,h=!1;for(r=0;r<a.length;++r)a[r].seq&&(u=Math.max(u,a[r].level));for(r=0;r<a.length;++r)if(a[r].seq){if(a[r].level!=u)continue;h=!0,i[a[r].seq]=1,p(a[r].callback,n,a[r].combo,a[r].seq)}else h||p(a[r].callback,n,a[r].combo);var g="keypress"==n.type&&s;n.type!=o||d(e)||g||l(i),s=h&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)b(e[r],t,n)},u(e,"keypress",f),u(e,"keydown",f),u(e,"keyup",f)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)}));let renderTextLayer=pdf.renderTextLayer;const EXPAND_DIVS_TIMEOUT=300;class TextLayerBuilder{constructor({textLayerDiv:e,eventBus:t,pageIndex:n,viewport:r,findController:a=null,enhanceTextSelection:i=!1}){this.textLayerDiv=e,this.eventBus=t,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=n,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=r,this.textDivs=[],this.findController=a,this.textLayerRenderTask=null,this.enhanceTextSelection=i,this._onUpdateTextLayerMatches=null,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const e=document.createElement("div");e.className="endOfContent",this.textLayerDiv.appendChild(e)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(e=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs=[];const t=document.createDocumentFragment();this.textLayerRenderTask=renderTextLayer({textContent:this.textContent,textContentStream:this.textContentStream,container:t,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:e,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then((()=>{this.textLayerDiv.appendChild(t),this._finishRendering(),this._updateMatches()}),(function(e){})),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=e=>{e.pageIndex!==this.pageIdx&&-1!==e.pageIndex||this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches))}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}setTextContentStream(e){this.cancel(),this.textContentStream=e}setTextContent(e){this.cancel(),this.textContent=e}_convertMatches(e,t){if(!e)return[];const{textContentItemsStr:n}=this;let r=0,a=0;const i=n.length-1,s=[];for(let o=0,l=e.length;o<l;o++){let l=e[o];for(;r!==i&&l>=a+n[r].length;)a+=n[r].length,r++;r===n.length&&console.error("Could not find a matching mapping");const c={begin:{divIdx:r,offset:l-a}};for(l+=t[o];r!==i&&l>a+n[r].length;)a+=n[r].length,r++;c.end={divIdx:r,offset:l-a},s.push(c)}return s}_renderMatches(e){if(0===e.length)return;const{findController:t,pageIdx:n,textContentItemsStr:r,textDivs:a}=this,i=n===t.selected.pageIdx,s=t.selected.matchIdx;let o=null;const l={divIdx:-1,offset:void 0};function c(e,t){const n=e.divIdx;a[n].textContent="",u(n,0,e.offset,t)}function u(e,t,n,i){const s=a[e],o=r[e].substring(t,n),l=document.createTextNode(o);if(i){const e=document.createElement("span");return e.className=i,e.appendChild(l),void s.appendChild(e)}s.appendChild(l)}let h=s,d=h+1;if(t.state.highlightAll)h=0,d=e.length;else if(!i)return;for(let r=h;r<d;r++){const h=e[r],d=h.begin,p=h.end,g=i&&r===s,f=g?" selected":"";if(g&&t.scrollMatchIntoView({element:a[d.divIdx],pageIndex:n,matchIndex:s}),o&&d.divIdx===o.divIdx?u(o.divIdx,o.offset,d.offset):(null!==o&&u(o.divIdx,o.offset,l.offset),c(d)),d.divIdx===p.divIdx)u(d.divIdx,d.offset,p.offset,"highlight"+f);else{u(d.divIdx,d.offset,l.offset,"highlight begin"+f);for(let e=d.divIdx+1,t=p.divIdx;e<t;e++)a[e].className="highlight middle"+f;c(p,"highlight end"+f)}o=p}o&&u(o.divIdx,o.offset,l.offset)}_updateMatches(){if(!this.renderingDone)return;const{findController:e,matches:t,pageIdx:n,textContentItemsStr:r,textDivs:a}=this;let i=-1;for(let e=0,n=t.length;e<n;e++){const n=t[e];for(let e=Math.max(i,n.begin.divIdx),t=n.end.divIdx;e<=t;e++){const t=a[e];t.textContent=r[e],t.className=""}i=n.end.divIdx+1}if(!e?.highlightMatches)return;const s=e.pageMatches[n]||null,o=e.pageMatchesLength[n]||null;this.matches=this._convertMatches(s,o),this._renderMatches(this.matches)}_bindMouse(){const e=this.textLayerDiv;let t=null;e.addEventListener("mousedown",(n=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||!t||(clearTimeout(t),t=null));const r=e.querySelector(".endOfContent");if(r){if("undefined"==typeof PDFJSDev||!PDFJSDev.test("MOZCENTRAL")){let t=n.target!==e;if(("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&(t=t&&"none"!==window.getComputedStyle(r).getPropertyValue("-moz-user-select")),t){const t=e.getBoundingClientRect(),a=Math.max(0,(n.pageY-t.top)/t.height);r.style.top=(100*a).toFixed(2)+"%"}}r.classList.add("active")}})),e.addEventListener("mouseup",(()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")?this.textLayerRenderTask.expandTextDivs(!1):t=setTimeout((()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),t=null}),EXPAND_DIVS_TIMEOUT));const n=e.querySelector(".endOfContent");n&&("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||(n.style.top=""),n.classList.remove("active"))}))}}function yoing(){console.log("yoing"),console.log(pdf$2)}pdf.GlobalWorkerOptions.workerSrc="/src/pdfjs/build/pdf.worker.js",yoing();var url="/docs/pdfs/dicks.pdf";function loadPdf(e){return pdf.getDocument(e).promise}let resolution=4;class PDFViewer extends N{constructor(e){super(),this.as(e),this.scale=1,this.css("\n            transform-origin top left\n            transition all .08s ease\n        ")}set scale(e){this._scale=Math.min(Math.max(.3,e),3),this.scaleTo(this._scale)}get scale(){return this._scale}scaleTo(e){this.element.css(`transform scale(${e})`)}scaleUp(){this.scale+=.05}scaleDown(){this.scale-=.05}}let container=new PDFViewer("#the-canvas");function wfyInner(e){if(!e)return!1;if(0===(e=j(e)).textContent.length)return!1;let t="";for(let n of e.textContent.split(" ")){t+=0!=n.replace(/\s/g,"").length?"<w>"+n.split(" ").join("</w> <w>")+"</w> ":n}e.html(t)}function wfyElement(e){let t=(e=j(e)).findAll("*");if(0==t.length)return wfyInner(e);t.forEach((e=>wfyElement(e)))}mousetrap.bind("o",(()=>container.scaleUp())),mousetrap.bind("shift+o",(()=>container.scaleDown())),loadPdf(url).then((function(e){for(var t=10;t<=20;t++)e.getPage(t).then((function(e){var t=e.getViewport({scale:resolution});console.log("viewport",t);var n=j(`div.#page-${e._pageIndex+1}`).css("position: relative").appendTo(container),r=j("canvas.").appendTo(n),a=r.getContext("2d");r.height=t.height,r.width=t.width,r.css(`\n            width ${t.width/resolution}px\n            height ${t.height/resolution}px\n        `);var i={canvasContext:a,viewport:t};e.render(i).promise.then((function(){return e.getTextContent()})).then((function(r){var a=j("div.textLayer#");a.css(`\n               transform-origin top left\n               transform scale(${1/resolution})\n            `),n.append(a);var i=new TextLayerBuilder({textLayerDiv:a,pageIndex:e.pageIndex,viewport:t});i.setTextContent(r),i.render()}))}))})),console.log(mousetrap),setTimeout((()=>{console.log("new lector"),j("body").findAll(".textLayer").forEach((e=>wfyElement(e)));let e=Lector("#the-canvas",{wfy:!1,settings:!0,defaultStyles:!0,fullStyles:!0});mousetrap.bind("space",(()=>(e.toggle(),!1)))}),2e3),exports.yoing=yoing,Object.defineProperty(exports,"__esModule",{value:!0})}));
